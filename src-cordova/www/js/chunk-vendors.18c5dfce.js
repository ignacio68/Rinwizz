(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-vendors"],{"011f":function(t,e,n){n("f22d"),n("08d4"),n("c8b8"),n("6619"),t.exports=n("02eb").Symbol},"014b":function(t,e,n){"use strict";var i=n("e53d"),r=n("07e3"),o=n("8e60"),a=n("63b6"),s=n("9138"),u=n("ebfd").KEY,c=n("294c"),l=n("dbdb"),h=n("45f2"),f=n("62a0"),d=n("5168"),p=n("ccb9"),v=n("6718"),m=n("47ee"),g=n("9003"),_=n("e4ae"),y=n("f772"),b=n("36c3"),w=n("1bc3"),k=n("aebd"),E=n("a159"),C=n("0395"),S=n("bf0b"),A=n("d9f6"),T=n("c3a1"),O=S.f,x=A.f,P=C.f,I=i.Symbol,N=i.JSON,L=N&&N.stringify,D="prototype",R=d("_hidden"),M=d("toPrimitive"),j={}.propertyIsEnumerable,F=l("symbol-registry"),B=l("symbols"),q=l("op-symbols"),U=Object[D],$="function"==typeof I,V=i.QObject,H=!V||!V[D]||!V[D].findChild,W=o&&c(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(U,e);i&&delete U[e],x(t,e,n),i&&t!==U&&x(U,e,i)}:x,z=function(t){var e=B[t]=E(I[D]);return e._k=t,e},G=$&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===U&&K(q,e,n),_(t),e=w(e,!0),_(n),r(B,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=E(n,{enumerable:k(0,!1)})):(r(t,R)||x(t,R,k(1,{})),t[R][e]=!0),W(t,e,n)):x(t,e,n)},Q=function(t,e){_(t);var n,i=m(e=b(e)),r=0,o=i.length;while(o>r)K(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?E(t):Q(E(t),e)},Y=function(t){var e=j.call(this,t=w(t,!0));return!(this===U&&r(B,t)&&!r(q,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,R)&&this[R][t])||e)},J=function(t,e){if(t=b(t),e=w(e,!0),t!==U||!r(B,e)||r(q,e)){var n=O(t,e);return!n||!r(B,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=P(b(t)),i=[],o=0;while(n.length>o)r(B,e=n[o++])||e==R||e==u||i.push(e);return i},tt=function(t){var e,n=t===U,i=P(n?q:b(t)),o=[],a=0;while(i.length>a)!r(B,e=i[a++])||n&&!r(U,e)||o.push(B[e]);return o};$||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(q,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),W(this,t,k(1,n))};return o&&H&&W(U,t,{configurable:!0,set:e}),z(t)},s(I[D],"toString",function(){return this._k}),S.f=J,A.f=K,n("6abf").f=C.f=Z,n("355d").f=Y,n("9aa9").f=tt,o&&!n("b8e3")&&s(U,"propertyIsEnumerable",Y,!0),p.f=function(t){return z(d(t))}),a(a.G+a.W+a.F*!$,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var it=T(d.store),rt=0;it.length>rt;)v(it[rt++]);a(a.S+a.F*!$,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!$,"Object",{create:X,defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!$||c(function(){var t=I();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!G(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,L.apply(N,i)}}),I[D][M]||n("35e8")(I[D],M,I[D].valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},"01f9":function(t,e,n){"use strict";var i=n("2d00"),r=n("5ca1"),o=n("2aba"),a=n("32e9"),s=n("84f2"),u=n("41a0"),c=n("7f20"),l=n("38fd"),h=n("2b4c")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,_,y,b){u(n,e,g);var w,k,E,C=function(t){if(!f&&t in O)return O[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",A=_==v,T=!1,O=t.prototype,x=O[h]||O[d]||_&&O[_],P=x||C(_),I=_?A?C("entries"):P:void 0,N="Array"==e&&O.entries||x;if(N&&(E=l(N.call(new t)),E!==Object.prototype&&E.next&&(c(E,S,!0),i||"function"==typeof E[h]||a(E,h,m))),A&&x&&x.name!==v&&(T=!0,P=function(){return x.call(this)}),i&&!b||!f&&!T&&O[h]||a(O,h,P),s[e]=P,s[S]=m,_)if(w={values:A?P:C(v),keys:y?P:C(p),entries:I},b)for(k in w)k in O||o(O,k,w[k]);else r(r.P+r.F*(f||T),e,w);return w}},"02eb":function(t,e){var n=t.exports={version:"2.5.5"};"number"==typeof __e&&(__e=n)},"02f4":function(t,e,n){var i=n("4588"),r=n("be13");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"0390":function(t,e,n){"use strict";var i=n("02f4")(!0);t.exports=function(t,e,n){return e+(n?i(t,e).length:1)}},"0395":function(t,e,n){var i=n("36c3"),r=n("6abf").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},"03ed":function(t,e,n){var i=n("cad0").f,r=n("8343"),o=n("8d98")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"07e3":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"08d4":function(t,e,n){"use strict";var i=n("4045"),r={};r[n("8d98")("toStringTag")]="z",r+""!="[object z]"&&n("4c35")(Object.prototype,"toString",function(){return"[object "+i(this)+"]"},!0)},"097d":function(t,e,n){"use strict";var i=n("5ca1"),r=n("8378"),o=n("7726"),a=n("ebd6"),s=n("bcaa");i(i.P+i.R,"Promise",{finally:function(t){var e=a(this,r.Promise||o.Promise),n="function"==typeof t;return this.then(n?function(n){return s(e,t()).then(function(){return n})}:t,n?function(n){return s(e,t()).then(function(){throw n})}:t)}})},"0a0d":function(t,e,n){t.exports=n("e829")},"0bfb":function(t,e,n){"use strict";var i=n("cb7c");t.exports=function(){var t=i(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},"0d58":function(t,e,n){var i=n("ce10"),r=n("e11e");t.exports=Object.keys||function(t){return i(t,r)}},"0fc9":function(t,e,n){var i=n("3a38"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},"11e9":function(t,e,n){var i=n("52a7"),r=n("4630"),o=n("6821"),a=n("6a99"),s=n("69a8"),u=n("c69a"),c=Object.getOwnPropertyDescriptor;e.f=n("9e1e")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},1495:function(t,e,n){var i=n("86cc"),r=n("cb7c"),o=n("0d58");t.exports=n("9e1e")?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,u=0;while(s>u)i.f(t,n=a[u++],e[n]);return t}},"153c":function(t,e,n){var i=n("235a");i(i.S+i.F,"Object",{assign:n("ef81")})},1654:function(t,e,n){"use strict";var i=n("71c1")(!0);n("30f1")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},1691:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},"16b2":function(t,e,n){"use strict";(function(t,i){var r=n("dd8f"),o=n.n(r),a=n("de3d"),s=n.n(a),u=n("faa1"),c=n("3fb5"),l=n.n(c),h=n("69a0"),f=n.n(h),d=n("78f5"),p=n.n(d),v=n("6f28"),m=n.n(v);function g(t){return"undefined"!==typeof ArrayBuffer&&t instanceof ArrayBuffer||"undefined"!==typeof Blob&&t instanceof Blob}function _(t){if("function"===typeof t.slice)return t.slice(0);var e=new ArrayBuffer(t.byteLength),n=new Uint8Array(e),i=new Uint8Array(t);return n.set(i),e}function y(t){if(t instanceof ArrayBuffer)return _(t);var e=t.size,n=t.type;return"function"===typeof t.slice?t.slice(0,e,n):t.webkitSlice(0,e,n)}var b,w,k=Function.prototype.toString,E=k.call(Object);function C(t){var e=Object.getPrototypeOf(t);if(null===e)return!0;var n=e.constructor;return"function"==typeof n&&n instanceof n&&k.call(n)==E}function S(t){var e,n,i;if(!t||"object"!==typeof t)return t;if(Array.isArray(t)){for(e=[],n=0,i=t.length;n<i;n++)e[n]=S(t[n]);return e}if(t instanceof Date)return t.toISOString();if(g(t))return y(t);if(!C(t))return t;for(n in e={},t)if(Object.prototype.hasOwnProperty.call(t,n)){var r=S(t[n]);"undefined"!==typeof r&&(e[n]=r)}return e}function A(t){var e=!1;return o()(function(n){if(e)throw new Error("once called more than once");e=!0,t.apply(this,n)})}function T(t){return o()(function(e){e=S(e);var n=this,i="function"===typeof e[e.length-1]&&e.pop(),r=new Promise(function(i,r){var o;try{var a=A(function(t,e){t?r(t):i(e)});e.push(a),o=t.apply(n,e),o&&"function"===typeof o.then&&i(o)}catch(s){r(s)}});return i&&r.then(function(t){i(null,t)},i),r})}function O(t,e,n){if(t.constructor.listeners("debug").length){for(var i=["api",t.name,e],r=0;r<n.length-1;r++)i.push(n[r]);t.constructor.emit("debug",i);var o=n[n.length-1];n[n.length-1]=function(n,i){var r=["api",t.name,e];r=r.concat(n?["error",n]:["success",i]),t.constructor.emit("debug",r),o(n,i)}}}function x(t,e){return T(o()(function(n){if(this._closed)return Promise.reject(new Error("database is closed"));if(this._destroyed)return Promise.reject(new Error("database is destroyed"));var i=this;return O(i,t,n),this.taskqueue.isReady?e.apply(this,n):new Promise(function(e,r){i.taskqueue.addTask(function(o){o?r(o):e(i[t].apply(i,n))})})}))}function P(t){return"$"+t}function I(t){return t.substring(1)}function N(){this._store={}}function L(t){if(this._store=new N,t&&Array.isArray(t))for(var e=0,n=t.length;e<n;e++)this.add(t[e])}function D(){if("undefined"===typeof Symbol||"undefined"===typeof Map||"undefined"===typeof Set)return!1;var t=Object.getOwnPropertyDescriptor(Map,Symbol.species);return t&&"get"in t&&Map[Symbol.species]===Map}function R(t,e){for(var n={},i=0,r=e.length;i<r;i++){var o=e[i];o in t&&(n[o]=t[o])}return n}N.prototype.get=function(t){var e=P(t);return this._store[e]},N.prototype.set=function(t,e){var n=P(t);return this._store[n]=e,!0},N.prototype.has=function(t){var e=P(t);return e in this._store},N.prototype.delete=function(t){var e=P(t),n=e in this._store;return delete this._store[e],n},N.prototype.forEach=function(t){for(var e=Object.keys(this._store),n=0,i=e.length;n<i;n++){var r=e[n],o=this._store[r];r=I(r),t(o,r)}},Object.defineProperty(N.prototype,"size",{get:function(){return Object.keys(this._store).length}}),L.prototype.add=function(t){return this._store.set(t,!0)},L.prototype.has=function(t){return this._store.has(t)},L.prototype.forEach=function(t){this._store.forEach(function(e,n){t(n)})},Object.defineProperty(L.prototype,"size",{get:function(){return this._store.size}}),D()?(b=Set,w=Map):(b=L,w=N);var M,j,F=6;function B(t){return t}function q(t){return[{ok:t}]}function U(t,e,n){var i=e.docs,r=new w;i.forEach(function(t){r.has(t.id)?r.get(t.id).push(t):r.set(t.id,[t])});var o=r.size,a=0,s=new Array(o);function u(){var t=[];s.forEach(function(e){e.docs.forEach(function(n){t.push({id:e.id,docs:[n]})})}),n(null,{results:t})}function c(){++a===o&&u()}function l(t,e,n){s[t]={id:e,docs:n},c()}var h=[];r.forEach(function(t,e){h.push(e)});var f=0;function d(){if(!(f>=h.length)){var t=Math.min(f+F,h.length),e=h.slice(f,t);p(e,f),f+=e.length}}function p(n,i){n.forEach(function(n,o){var a=i+o,s=r.get(n),u=R(s[0],["atts_since","attachments"]);u.open_revs=s.map(function(t){return t.rev}),u.open_revs=u.open_revs.filter(B);var c=B;0===u.open_revs.length&&(delete u.open_revs,c=q),["revs","attachments","binary","ajax","latest"].forEach(function(t){t in e&&(u[t]=e[t])}),t.get(n,u,function(t,e){var i;i=t?[{error:t}]:c(e),l(a,n,i),d()})})}d()}try{localStorage.setItem("_pouch_check_localstorage",1),M=!!localStorage.getItem("_pouch_check_localstorage")}catch(po){M=!1}function $(){return M}function V(t){$()&&addEventListener("storage",function(e){t.emit(e.key)})}function H(){u["EventEmitter"].call(this),this._listeners={},V(this)}function W(t){if("undefined"!==typeof console&&"function"===typeof console[t]){var e=Array.prototype.slice.call(arguments,1);console[t].apply(console,e)}}function z(t,e){var n=6e5;t=parseInt(t,10)||0,e=parseInt(e,10),e!==e||e<=t?e=(t||1)<<1:e+=1,e>n&&(t=n>>1,e=n);var i=Math.random(),r=e-t;return~~(r*i+t)}function G(t){var e=0;return t||(e=2e3),z(t,e)}function K(t,e){W("info","The above "+t+" is totally normal. "+e)}l()(H,u["EventEmitter"]),H.prototype.addListener=function(t,e,n,i){if(!this._listeners[e]){var r=this,o=!1;this._listeners[e]=a,this.on(t,a)}function a(){if(r._listeners[e])if(o)o="waiting";else{o=!0;var t=R(i,["style","include_docs","attachments","conflicts","filter","doc_ids","view","since","query_params","binary","return_docs"]);n.changes(t).on("change",function(t){t.seq>i.since&&!i.cancelled&&(i.since=t.seq,i.onChange(t))}).on("complete",function(){"waiting"===o&&s()(a),o=!1}).on("error",u)}function u(){o=!1}}},H.prototype.removeListener=function(t,e){e in this._listeners&&(u["EventEmitter"].prototype.removeListener.call(this,t,this._listeners[e]),delete this._listeners[e])},H.prototype.notifyLocalWindows=function(t){$()&&(localStorage[t]="a"===localStorage[t]?"b":"a")},H.prototype.notify=function(t){this.emit(t),this.notifyLocalWindows(t)},j="function"===typeof Object.assign?Object.assign:function(t){for(var e=Object(t),n=1;n<arguments.length;n++){var i=arguments[n];if(null!=i)for(var r in i)Object.prototype.hasOwnProperty.call(i,r)&&(e[r]=i[r])}return e};var Q=j;function X(t,e,n){Error.call(this,n),this.status=t,this.name=e,this.message=n,this.error=!0}l()(X,Error),X.prototype.toString=function(){return JSON.stringify({status:this.status,name:this.name,message:this.message,reason:this.reason})};new X(401,"unauthorized","Name or password is incorrect.");var Y=new X(400,"bad_request","Missing JSON list of 'docs'"),J=new X(404,"not_found","missing"),Z=new X(409,"conflict","Document update conflict"),tt=new X(400,"bad_request","_id field must contain a string"),et=new X(412,"missing_id","_id is required for puts"),nt=new X(400,"bad_request","Only reserved document ids may start with underscore."),it=(new X(412,"precondition_failed","Database not open"),new X(500,"unknown_error","Database encountered an unknown error")),rt=new X(500,"badarg","Some query argument is invalid"),ot=(new X(400,"invalid_request","Request was invalid"),new X(400,"query_parse_error","Some query parameter is invalid")),at=new X(500,"doc_validation","Bad special document member"),st=new X(400,"bad_request","Something wrong with the request"),ut=new X(400,"bad_request","Document must be a JSON object"),ct=(new X(404,"not_found","Database not found"),new X(500,"indexed_db_went_bad","unknown")),lt=(new X(500,"web_sql_went_bad","unknown"),new X(500,"levelDB_went_went_bad","unknown"),new X(403,"forbidden","Forbidden by design doc validate_doc_update function"),new X(400,"bad_request","Invalid rev format")),ht=(new X(412,"file_exists","The database could not be created, the file already exists."),new X(412,"missing_stub","A pre-existing attachment stub wasn't found"));new X(413,"invalid_url","Provided URL is invalid");function ft(t,e){function n(e){for(var n in t)"function"!==typeof t[n]&&(this[n]=t[n]);void 0!==e&&(this.reason=e)}return n.prototype=X.prototype,new n(e)}function dt(t){if("object"!==typeof t){var e=t;t=it,t.data=e}return"error"in t&&"conflict"===t.error&&(t.name="conflict",t.status=409),"name"in t||(t.name=t.error||"unknown"),"status"in t||(t.status=500),"message"in t||(t.message=t.message||t.reason),t}function pt(t,e,n){try{return!t(e,n)}catch(r){var i="Filter function threw: "+r.toString();return ft(st,i)}}function vt(t){var e={},n=t.filter&&"function"===typeof t.filter;return e.query=t.query_params,function(i){i.doc||(i.doc={});var r=n&&pt(t.filter,i.doc,e);if("object"===typeof r)return r;if(r)return!1;if(t.include_docs){if(!t.attachments)for(var o in i.doc._attachments)i.doc._attachments.hasOwnProperty(o)&&(i.doc._attachments[o].stub=!0)}else delete i.doc;return!0}}function mt(t){for(var e=[],n=0,i=t.length;n<i;n++)e=e.concat(t[n]);return e}function gt(t){var e;if(t?"string"!==typeof t?e=ft(tt):/^_/.test(t)&&!/^_(design|local)/.test(t)&&(e=ft(nt)):e=ft(et),e)throw e}function _t(t){return"boolean"===typeof t._remote?t._remote:"function"===typeof t.type&&(W("warn","db.type() is deprecated and will be removed in a future version of PouchDB"),"http"===t.type())}function yt(t,e){return"listenerCount"in t?t.listenerCount(e):u["EventEmitter"].listenerCount(t,e)}function bt(t){if(!t)return null;var e=t.split("/");return 2===e.length?e:1===e.length?[t,t]:null}function wt(t){var e=bt(t);return e?e.join("/"):null}var kt=["source","protocol","authority","userInfo","user","password","host","port","relative","path","directory","file","query","anchor"],Et="queryKey",Ct=/(?:^|&)([^&=]*)=?([^&]*)/g,St=/^(?:(?![^:@]+:[^:@\/]*@)([^:\/?#.]+):)?(?:\/\/)?((?:(([^:@]*)(?::([^:@]*))?)?@)?([^:\/?#]*)(?::(\d*))?)(((\/(?:[^?#](?![^?#\/]*\.[^?#\/.]+(?:[?#]|$)))*\/?)?([^?#\/]*))(?:\?([^#]*))?(?:#(.*))?)/;function At(t){var e=St.exec(t),n={},i=14;while(i--){var r=kt[i],o=e[i]||"",a=-1!==["user","password"].indexOf(r);n[r]=a?decodeURIComponent(o):o}return n[Et]={},n[kt[12]].replace(Ct,function(t,e,i){e&&(n[Et][e]=i)}),n}function Tt(t,e){var n=[],i=[];for(var r in e)e.hasOwnProperty(r)&&(n.push(r),i.push(e[r]));return n.push(t),Function.apply(null,n).apply(null,i)}function Ot(t,e,n){return new Promise(function(i,r){t.get(e,function(o,a){if(o){if(404!==o.status)return r(o);a={}}var s=a._rev,u=n(a);if(!u)return i({updated:!1,rev:s});u._id=e,u._rev=s,i(xt(t,u,n))})})}function xt(t,e,n){return t.put(e).then(function(t){return{updated:!0,rev:t.rev}},function(i){if(409!==i.status)throw i;return Ot(t,e._id,n)})}var Pt=function(t){return atob(t)},It=function(t){return btoa(t)};function Nt(t,e){t=t||[],e=e||{};try{return new Blob(t,e)}catch(po){if("TypeError"!==po.name)throw po;for(var n="undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof MSBlobBuilder?MSBlobBuilder:"undefined"!==typeof MozBlobBuilder?MozBlobBuilder:WebKitBlobBuilder,i=new n,r=0;r<t.length;r+=1)i.append(t[r]);return i.getBlob(e.type)}}function Lt(t){for(var e=t.length,n=new ArrayBuffer(e),i=new Uint8Array(n),r=0;r<e;r++)i[r]=t.charCodeAt(r);return n}function Dt(t,e){return Nt([Lt(t)],{type:e})}function Rt(t,e){return Dt(Pt(t),e)}function Mt(t){for(var e="",n=new Uint8Array(t),i=n.byteLength,r=0;r<i;r++)e+=String.fromCharCode(n[r]);return e}function jt(t,e){var n=new FileReader,i="function"===typeof n.readAsBinaryString;n.onloadend=function(t){var n=t.target.result||"";if(i)return e(n);e(Mt(n))},i?n.readAsBinaryString(t):n.readAsArrayBuffer(t)}function Ft(t,e){jt(t,function(t){e(t)})}function Bt(t,e){Ft(t,function(t){e(It(t))})}function qt(t,e){var n=new FileReader;n.onloadend=function(t){var n=t.target.result||new ArrayBuffer(0);e(n)},n.readAsArrayBuffer(t)}var Ut=t.setImmediate||t.setTimeout,$t=32768;function Vt(t){return It(t)}function Ht(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.slice(e,n)}function Wt(t,e,n,i,r){(n>0||i<e.size)&&(e=Ht(e,n,i)),qt(e,function(e){t.append(e),r()})}function zt(t,e,n,i,r){(n>0||i<e.length)&&(e=e.substring(n,i)),t.appendBinary(e),r()}function Gt(t,e){var n="string"===typeof t,i=n?t.length:t.size,r=Math.min($t,i),o=Math.ceil(i/r),a=0,s=n?new f.a:new f.a.ArrayBuffer,u=n?zt:Wt;function c(){Ut(h)}function l(){var t=s.end(!0),n=Vt(t);e(n),s.destroy()}function h(){var e=a*r,n=e+r;a++,u(s,t,e,n,a<o?c:l)}h()}function Kt(t){return f.a.hash(t)}function Qt(t,e){var n=S(t);return e?(delete n._rev_tree,Kt(JSON.stringify(n))):p.a.v4().replace(/-/g,"").toLowerCase()}var Xt=p.a.v4;function Yt(t){var e,n,i,r,o=t.rev_tree.slice();while(r=o.pop()){var a=r.ids,s=a[2],u=r.pos;if(s.length)for(var c=0,l=s.length;c<l;c++)o.push({pos:u+1,ids:s[c]});else{var h=!!a[1].deleted,f=a[0];e&&!(i!==h?i:n!==u?n<u:e<f)||(e=f,n=u,i=h)}}return n+"-"+e}function Jt(t,e){var n,i=t.slice();while(n=i.pop())for(var r=n.pos,o=n.ids,a=o[2],s=e(0===a.length,r,o[0],n.ctx,o[1]),u=0,c=a.length;u<c;u++)i.push({pos:r+1,ids:a[u],ctx:s})}function Zt(t,e){return t.pos-e.pos}function te(t){var e=[];Jt(t,function(t,n,i,r,o){t&&e.push({rev:n+"-"+i,pos:n,opts:o})}),e.sort(Zt).reverse();for(var n=0,i=e.length;n<i;n++)delete e[n].pos;return e}function ee(t){for(var e=Yt(t),n=te(t.rev_tree),i=[],r=0,o=n.length;r<o;r++){var a=n[r];a.rev===e||a.opts.deleted||i.push(a.rev)}return i}function ne(t){var e=[];return Jt(t.rev_tree,function(t,n,i,r,o){"available"!==o.status||t||(e.push(n+"-"+i),o.status="missing")}),e}function ie(t){var e,n=[],i=t.slice();while(e=i.pop()){var r=e.pos,o=e.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=e.history?e.history.slice():[];l.push({id:a,opts:s}),c&&n.push({pos:r+1-l.length,ids:l});for(var h=0,f=u.length;h<f;h++)i.push({pos:r+1,ids:u[h],history:l})}return n.reverse()}function re(t,e){return t.pos-e.pos}function oe(t,e,n){var i,r=0,o=t.length;while(r<o)i=r+o>>>1,n(t[i],e)<0?r=i+1:o=i;return r}function ae(t,e,n){var i=oe(t,e,n);t.splice(i,0,e)}function se(t,e){for(var n,i,r=e,o=t.length;r<o;r++){var a=t[r],s=[a.id,a.opts,[]];i?(i[2].push(s),i=s):n=i=s}return n}function ue(t,e){return t[0]<e[0]?-1:1}function ce(t,e){var n=[{tree1:t,tree2:e}],i=!1;while(n.length>0){var r=n.pop(),o=r.tree1,a=r.tree2;(o[1].status||a[1].status)&&(o[1].status="available"===o[1].status||"available"===a[1].status?"available":"missing");for(var s=0;s<a[2].length;s++)if(o[2][0]){for(var u=!1,c=0;c<o[2].length;c++)o[2][c][0]===a[2][s][0]&&(n.push({tree1:o[2][c],tree2:a[2][s]}),u=!0);u||(i="new_branch",ae(o[2],a[2][s],ue))}else i="new_leaf",o[2][0]=a[2][s]}return{conflicts:i,tree:t}}function le(t,e,n){var i,r=[],o=!1,a=!1;if(!t.length)return{tree:[e],conflicts:"new_leaf"};for(var s=0,u=t.length;s<u;s++){var c=t[s];if(c.pos===e.pos&&c.ids[0]===e.ids[0])i=ce(c.ids,e.ids),r.push({pos:c.pos,ids:i.tree}),o=o||i.conflicts,a=!0;else if(!0!==n){var l=c.pos<e.pos?c:e,h=c.pos<e.pos?e:c,f=h.pos-l.pos,d=[],p=[];p.push({ids:l.ids,diff:f,parent:null,parentIdx:null});while(p.length>0){var v=p.pop();if(0!==v.diff)for(var m=v.ids[2],g=0,_=m.length;g<_;g++)p.push({ids:m[g],diff:v.diff-1,parent:v.ids,parentIdx:g});else v.ids[0]===h.ids[0]&&d.push(v)}var y=d[0];y?(i=ce(y.ids,h.ids),y.parent[2][y.parentIdx]=i.tree,r.push({pos:l.pos,ids:l.ids}),o=o||i.conflicts,a=!0):r.push(c)}else r.push(c)}return a||r.push(e),r.sort(re),{tree:r,conflicts:o||"internal_node"}}function he(t,e){for(var n,i,r=ie(t),o=0,a=r.length;o<a;o++){var s,u=r[o],c=u.ids;if(c.length>e){n||(n={});var l=c.length-e;s={pos:u.pos+l,ids:se(c,l)};for(var h=0;h<l;h++){var f=u.pos+h+"-"+c[h].id;n[f]=!0}}else s={pos:u.pos,ids:se(c,0)};i=i?le(i,s,!0).tree:[s]}return n&&Jt(i,function(t,e,i){delete n[e+"-"+i]}),{tree:i,revs:n?Object.keys(n):[]}}function fe(t,e,n){var i=le(t,e),r=he(i.tree,n);return{tree:r.tree,stemmedRevs:r.revs,conflicts:i.conflicts}}function de(t,e){var n,i=t.slice(),r=e.split("-"),o=parseInt(r[0],10),a=r[1];while(n=i.pop()){if(n.pos===o&&n.ids[0]===a)return!0;for(var s=n.ids[2],u=0,c=s.length;u<c;u++)i.push({pos:n.pos+1,ids:s[u]})}return!1}function pe(t){return t.ids}function ve(t,e){e||(e=Yt(t));var n,i=e.substring(e.indexOf("-")+1),r=t.rev_tree.map(pe);while(n=r.pop()){if(n[0]===i)return!!n[1].deleted;r=r.concat(n[2])}}function me(t){return/^_local/.test(t)}function ge(t,e){var n,i=e.rev_tree.slice();while(n=i.pop()){var r=n.pos,o=n.ids,a=o[0],s=o[1],u=o[2],c=0===u.length,l=n.history?n.history.slice():[];if(l.push({id:a,pos:r,opts:s}),c)for(var h=0,f=l.length;h<f;h++){var d=l[h],p=d.pos+"-"+d.id;if(p===t)return r+"-"+a}for(var v=0,m=u.length;v<m;v++)i.push({pos:r+1,ids:u[v],history:l})}throw new Error("Unable to resolve latest revision for id "+e.id+", rev "+t)}function _e(t,e,n,i){try{t.emit("change",e,n,i)}catch(po){W("error",'Error in .on("change", function):',po)}}function ye(t,e,n){u["EventEmitter"].call(this);var i=this;this.db=t,e=e?S(e):{};var r=e.complete=A(function(e,n){e?yt(i,"error")>0&&i.emit("error",e):i.emit("complete",n),i.removeAllListeners(),t.removeListener("destroyed",o)});function o(){i.cancel()}n&&(i.on("complete",function(t){n(null,t)}),i.on("error",n)),t.once("destroyed",o),e.onChange=function(t,e,n){i.isCancelled||_e(i,t,e,n)};var a=new Promise(function(t,n){e.complete=function(e,i){e?n(e):t(i)}});i.once("cancel",function(){t.removeListener("destroyed",o),e.complete(null,{status:"cancelled"})}),this.then=a.then.bind(a),this["catch"]=a["catch"].bind(a),this.then(function(t){r(null,t)},r),t.taskqueue.isReady?i.validateChanges(e):t.taskqueue.addTask(function(t){t?e.complete(t):i.isCancelled?i.emit("cancel"):i.validateChanges(e)})}function be(t,e,n){var i=[{rev:t._rev}];"all_docs"===n.style&&(i=te(e.rev_tree).map(function(t){return{rev:t.rev}}));var r={id:e.id,changes:i,doc:t};return ve(e,t._rev)&&(r.deleted=!0),n.conflicts&&(r.doc._conflicts=ee(e),r.doc._conflicts.length||delete r.doc._conflicts),r}function we(t,e){return t<e?-1:t>e?1:0}function ke(t,e){return function(n,i){n||i[0]&&i[0].error?(n=n||i[0],n.docId=e,t(n)):t(null,i.length?i[0]:i)}}function Ee(t){for(var e=0;e<t.length;e++){var n=t[e];if(n._deleted)delete n._attachments;else if(n._attachments)for(var i=Object.keys(n._attachments),r=0;r<i.length;r++){var o=i[r];n._attachments[o]=R(n._attachments[o],["data","digest","content_type","length","revpos","stub"])}}}function Ce(t,e){var n=we(t._id,e._id);if(0!==n)return n;var i=t._revisions?t._revisions.start:0,r=e._revisions?e._revisions.start:0;return we(i,r)}function Se(t){var e={},n=[];return Jt(t,function(t,i,r,o){var a=i+"-"+r;return t&&(e[a]=0),void 0!==o&&n.push({from:o,to:a}),a}),n.reverse(),n.forEach(function(t){void 0===e[t.from]?e[t.from]=1+e[t.to]:e[t.from]=Math.min(e[t.from],1+e[t.to])}),e}function Ae(t){var e="limit"in t?t.keys.slice(t.skip,t.limit+t.skip):t.skip>0?t.keys.slice(t.skip):t.keys;t.keys=e,t.skip=0,delete t.limit,t.descending&&(e.reverse(),t.descending=!1)}function Te(t){var e=t._compactionQueue[0],n=e.opts,i=e.callback;t.get("_local/compaction").catch(function(){return!1}).then(function(e){e&&e.last_seq&&(n.last_seq=e.last_seq),t._compact(n,function(e,n){e?i(e):i(null,n),s()(function(){t._compactionQueue.shift(),t._compactionQueue.length&&Te(t)})})})}function Oe(t){return"_"===t.charAt(0)&&t+" is not a valid attachment name, attachment names cannot start with '_'"}function xe(){for(var t in u["EventEmitter"].call(this),xe.prototype)"function"===typeof this[t]&&(this[t]=this[t].bind(this))}function Pe(){this.isReady=!1,this.failed=!1,this.queue=[]}function Ie(t,e){var n=t.match(/([a-z-]*):\/\/(.*)/);if(n)return{name:/https?/.test(n[1])?n[1]+"://"+n[2]:n[2],adapter:n[1]};var i=Le.adapters,r=Le.preferredAdapters,o=Le.prefix,a=e.adapter;if(!a)for(var s=0;s<r.length;++s){if(a=r[s],!("idb"===a&&"websql"in i&&$()&&localStorage["_pouch__websqldb_"+o+t]))break;W("log",'PouchDB is downgrading "'+t+'" to WebSQL to avoid data loss, because it was already opened with WebSQL.')}var u=i[a],c=!(u&&"use_prefix"in u)||u.use_prefix;return{name:c?o+t:t,adapter:a}}function Ne(t){function e(e){t.removeListener("closed",n),e||t.constructor.emit("destroyed",t.name)}function n(){t.removeListener("destroyed",e),t.constructor.emit("unref",t)}t.once("destroyed",e),t.once("closed",n),t.constructor.emit("ref",t)}function Le(t,e){if(!(this instanceof Le))return new Le(t,e);var n=this;if(e=e||{},t&&"object"===typeof t&&(e=t,t=e.name,delete e.name),void 0===e.deterministic_revs&&(e.deterministic_revs=!0),this.__opts=e=S(e),n.auto_compaction=e.auto_compaction,n.prefix=Le.prefix,"string"!==typeof t)throw new Error("Missing/invalid DB name");var i=(e.prefix||"")+t,r=Ie(i,e);if(e.name=r.name,e.adapter=e.adapter||r.adapter,n.name=t,n._adapter=e.adapter,Le.emit("debug",["adapter","Picked adapter: ",e.adapter]),!Le.adapters[e.adapter]||!Le.adapters[e.adapter].valid())throw new Error("Invalid Adapter: "+e.adapter);xe.call(n),n.taskqueue=new Pe,n.adapter=e.adapter,Le.adapters[e.adapter].call(n,e,function(t){if(t)return n.taskqueue.fail(t);Ne(n),n.emit("created",n),Le.emit("created",n.name),n.taskqueue.ready(n)})}l()(ye,u["EventEmitter"]),ye.prototype.cancel=function(){this.isCancelled=!0,this.db.taskqueue.isReady&&this.emit("cancel")},ye.prototype.validateChanges=function(t){var e=t.complete,n=this;Le._changesFilterPlugin?Le._changesFilterPlugin.validate(t,function(i){if(i)return e(i);n.doChanges(t)}):n.doChanges(t)},ye.prototype.doChanges=function(t){var e=this,n=t.complete;if(t=S(t),"live"in t&&!("continuous"in t)&&(t.continuous=t.live),t.processChange=be,"latest"===t.since&&(t.since="now"),t.since||(t.since=0),"now"!==t.since){if(Le._changesFilterPlugin){if(Le._changesFilterPlugin.normalize(t),Le._changesFilterPlugin.shouldFilter(this,t))return Le._changesFilterPlugin.filter(this,t)}else["doc_ids","filter","selector","view"].forEach(function(e){e in t&&W("warn",'The "'+e+'" option was passed in to changes/replicate, but pouchdb-changes-filter plugin is not installed, so it was ignored. Please install the plugin to enable filtering.')});"descending"in t||(t.descending=!1),t.limit=0===t.limit?1:t.limit,t.complete=n;var i=this.db._changes(t);if(i&&"function"===typeof i.cancel){var r=e.cancel;e.cancel=o()(function(t){i.cancel(),r.apply(this,t)})}}else this.db.info().then(function(i){e.isCancelled?n(null,{status:"cancelled"}):(t.since=i.update_seq,e.doChanges(t))},n)},l()(xe,u["EventEmitter"]),xe.prototype.post=x("post",function(t,e,n){if("function"===typeof e&&(n=e,e={}),"object"!==typeof t||Array.isArray(t))return n(ft(ut));this.bulkDocs({docs:[t]},e,ke(n,t._id))}),xe.prototype.put=x("put",function(t,e,n){if("function"===typeof e&&(n=e,e={}),"object"!==typeof t||Array.isArray(t))return n(ft(ut));if(gt(t._id),me(t._id)&&"function"===typeof this._putLocal)return t._deleted?this._removeLocal(t,n):this._putLocal(t,n);var i=this;function r(){var n=t._rev.split("-"),i=n[1],r=parseInt(n[0],10),o=r+1,a=Qt();t._revisions={start:o,ids:[a,i]},t._rev=o+"-"+a,e.new_edits=!1}function o(n){"function"===typeof i._put&&!1!==e.new_edits?i._put(t,e,n):i.bulkDocs({docs:[t]},e,ke(n,t._id))}e.force&&t._rev?(r(),o(function(e){var i=e?null:{ok:!0,id:t._id,rev:t._rev};n(e,i)})):o(n)}),xe.prototype.putAttachment=x("putAttachment",function(t,e,n,i,r){var o=this;function a(t){var n="_rev"in t?parseInt(t._rev,10):0;return t._attachments=t._attachments||{},t._attachments[e]={content_type:r,data:i,revpos:++n},o.put(t)}return"function"===typeof r&&(r=i,i=n,n=null),"undefined"===typeof r&&(r=i,i=n,n=null),r||W("warn","Attachment",e,"on document",t,"is missing content_type"),o.get(t).then(function(t){if(t._rev!==n)throw ft(Z);return a(t)},function(e){if(e.reason===J.message)return a({_id:t});throw e})}),xe.prototype.removeAttachment=x("removeAttachment",function(t,e,n,i){var r=this;r.get(t,function(t,o){if(t)i(t);else if(o._rev===n){if(!o._attachments)return i();delete o._attachments[e],0===Object.keys(o._attachments).length&&delete o._attachments,r.put(o,i)}else i(ft(Z))})}),xe.prototype.remove=x("remove",function(t,e,n,i){var r;"string"===typeof e?(r={_id:t,_rev:e},"function"===typeof n&&(i=n,n={})):(r=t,"function"===typeof e?(i=e,n={}):(i=n,n=e)),n=n||{},n.was_delete=!0;var o={_id:r._id,_rev:r._rev||n.rev,_deleted:!0};if(me(o._id)&&"function"===typeof this._removeLocal)return this._removeLocal(r,i);this.bulkDocs({docs:[o]},n,ke(i,o._id))}),xe.prototype.revsDiff=x("revsDiff",function(t,e,n){"function"===typeof e&&(n=e,e={});var i=Object.keys(t);if(!i.length)return n(null,{});var r=0,o=new w;function a(t,e){o.has(t)||o.set(t,{missing:[]}),o.get(t).missing.push(e)}function s(e,n){var i=t[e].slice(0);Jt(n,function(t,n,r,o,s){var u=n+"-"+r,c=i.indexOf(u);-1!==c&&(i.splice(c,1),"available"!==s.status&&a(e,u))}),i.forEach(function(t){a(e,t)})}i.map(function(e){this._getRevisionTree(e,function(a,u){if(a&&404===a.status&&"missing"===a.message)o.set(e,{missing:t[e]});else{if(a)return n(a);s(e,u)}if(++r===i.length){var c={};return o.forEach(function(t,e){c[e]=t}),n(null,c)}})},this)}),xe.prototype.bulkGet=x("bulkGet",function(t,e){U(this,t,e)}),xe.prototype.compactDocument=x("compactDocument",function(t,e,n){var i=this;this._getRevisionTree(t,function(r,o){if(r)return n(r);var a=Se(o),s=[],u=[];Object.keys(a).forEach(function(t){a[t]>e&&s.push(t)}),Jt(o,function(t,e,n,i,r){var o=e+"-"+n;"available"===r.status&&-1!==s.indexOf(o)&&u.push(o)}),i._doCompaction(t,u,n)})}),xe.prototype.compact=x("compact",function(t,e){"function"===typeof t&&(e=t,t={});var n=this;t=t||{},n._compactionQueue=n._compactionQueue||[],n._compactionQueue.push({opts:t,callback:e}),1===n._compactionQueue.length&&Te(n)}),xe.prototype._compact=function(t,e){var n=this,i={return_docs:!1,last_seq:t.last_seq||0},r=[];function o(t){r.push(n.compactDocument(t.id,0))}function a(t){var i=t.last_seq;Promise.all(r).then(function(){return Ot(n,"_local/compaction",function(t){return(!t.last_seq||t.last_seq<i)&&(t.last_seq=i,t)})}).then(function(){e(null,{ok:!0})}).catch(e)}n.changes(i).on("change",o).on("complete",a).on("error",e)},xe.prototype.get=x("get",function(t,e,n){if("function"===typeof e&&(n=e,e={}),"string"!==typeof t)return n(ft(tt));if(me(t)&&"function"===typeof this._getLocal)return this._getLocal(t,n);var i=[],r=this;function o(){var o=[],a=i.length;if(!a)return n(null,o);i.forEach(function(i){r.get(t,{rev:i,revs:e.revs,latest:e.latest,attachments:e.attachments,binary:e.binary},function(t,e){if(t)o.push({missing:i});else{for(var r,s=0,u=o.length;s<u;s++)if(o[s].ok&&o[s].ok._rev===e._rev){r=!0;break}r||o.push({ok:e})}a--,a||n(null,o)})})}if(!e.open_revs)return this._get(t,e,function(i,o){if(i)return i.docId=t,n(i);var a=o.doc,s=o.metadata,u=o.ctx;if(e.conflicts){var c=ee(s);c.length&&(a._conflicts=c)}if(ve(s,a._rev)&&(a._deleted=!0),e.revs||e.revs_info){for(var l=a._rev.split("-"),h=parseInt(l[0],10),f=l[1],d=ie(s.rev_tree),p=null,v=0;v<d.length;v++){var m=d[v],g=m.ids.map(function(t){return t.id}).indexOf(f),_=g===h-1;(_||!p&&-1!==g)&&(p=m)}var y=p.ids.map(function(t){return t.id}).indexOf(a._rev.split("-")[1])+1,b=p.ids.length-y;if(p.ids.splice(y,b),p.ids.reverse(),e.revs&&(a._revisions={start:p.pos+p.ids.length-1,ids:p.ids.map(function(t){return t.id})}),e.revs_info){var w=p.pos+p.ids.length;a._revs_info=p.ids.map(function(t){return w--,{rev:w+"-"+t.id,status:t.opts.status}})}}if(e.attachments&&a._attachments){var k=a._attachments,E=Object.keys(k).length;if(0===E)return n(null,a);Object.keys(k).forEach(function(t){this._getAttachment(a._id,t,k[t],{rev:a._rev,binary:e.binary,ctx:u},function(e,i){var r=a._attachments[t];r.data=i,delete r.stub,delete r.length,--E||n(null,a)})},r)}else{if(a._attachments)for(var C in a._attachments)a._attachments.hasOwnProperty(C)&&(a._attachments[C].stub=!0);n(null,a)}});if("all"===e.open_revs)this._getRevisionTree(t,function(t,e){if(t)return n(t);i=te(e).map(function(t){return t.rev}),o()});else{if(!Array.isArray(e.open_revs))return n(ft(it,"function_clause"));i=e.open_revs;for(var a=0;a<i.length;a++){var s=i[a];if("string"!==typeof s||!/^\d+-/.test(s))return n(ft(lt))}o()}}),xe.prototype.getAttachment=x("getAttachment",function(t,e,n,i){var r=this;n instanceof Function&&(i=n,n={}),this._get(t,n,function(o,a){return o?i(o):a.doc._attachments&&a.doc._attachments[e]?(n.ctx=a.ctx,n.binary=!0,void r._getAttachment(t,e,a.doc._attachments[e],n,i)):i(ft(J))})}),xe.prototype.allDocs=x("allDocs",function(t,e){if("function"===typeof t&&(e=t,t={}),t.skip="undefined"!==typeof t.skip?t.skip:0,t.start_key&&(t.startkey=t.start_key),t.end_key&&(t.endkey=t.end_key),"keys"in t){if(!Array.isArray(t.keys))return e(new TypeError("options.keys must be an array"));var n=["startkey","endkey","key"].filter(function(e){return e in t})[0];if(n)return void e(ft(ot,"Query parameter `"+n+"` is not compatible with multi-get"));if(!_t(this)&&(Ae(t),0===t.keys.length))return this._allDocs({limit:0},e)}return this._allDocs(t,e)}),xe.prototype.changes=function(t,e){return"function"===typeof t&&(e=t,t={}),t=t||{},t.return_docs="return_docs"in t?t.return_docs:!t.live,new ye(this,t,e)},xe.prototype.close=x("close",function(t){return this._closed=!0,this.emit("closed"),this._close(t)}),xe.prototype.info=x("info",function(t){var e=this;this._info(function(n,i){if(n)return t(n);i.db_name=i.db_name||e.name,i.auto_compaction=!(!e.auto_compaction||_t(e)),i.adapter=e.adapter,t(null,i)})}),xe.prototype.id=x("id",function(t){return this._id(t)}),xe.prototype.type=function(){return"function"===typeof this._type?this._type():this.adapter},xe.prototype.bulkDocs=x("bulkDocs",function(t,e,n){if("function"===typeof e&&(n=e,e={}),e=e||{},Array.isArray(t)&&(t={docs:t}),!t||!t.docs||!Array.isArray(t.docs))return n(ft(Y));for(var i=0;i<t.docs.length;++i)if("object"!==typeof t.docs[i]||Array.isArray(t.docs[i]))return n(ft(ut));var r;if(t.docs.forEach(function(t){t._attachments&&Object.keys(t._attachments).forEach(function(e){r=r||Oe(e),t._attachments[e].content_type||W("warn","Attachment",e,"on document",t._id,"is missing content_type")})}),r)return n(ft(st,r));"new_edits"in e||(e.new_edits=!("new_edits"in t)||t.new_edits);var o=this;e.new_edits||_t(o)||t.docs.sort(Ce),Ee(t.docs);var a=t.docs.map(function(t){return t._id});return this._bulkDocs(t,e,function(t,i){if(t)return n(t);if(e.new_edits||(i=i.filter(function(t){return t.error})),!_t(o))for(var r=0,s=i.length;r<s;r++)i[r].id=i[r].id||a[r];n(null,i)})}),xe.prototype.registerDependentDatabase=x("registerDependentDatabase",function(t,e){var n=new this.constructor(t,this.__opts);function i(e){return e.dependentDbs=e.dependentDbs||{},!e.dependentDbs[t]&&(e.dependentDbs[t]=!0,e)}Ot(this,"_local/_pouch_dependentDbs",i).then(function(){e(null,{db:n})}).catch(e)}),xe.prototype.destroy=x("destroy",function(t,e){"function"===typeof t&&(e=t,t={});var n=this,i=!("use_prefix"in n)||n.use_prefix;function r(){n._destroy(t,function(t,i){if(t)return e(t);n._destroyed=!0,n.emit("destroyed"),e(null,i||{ok:!0})})}if(_t(n))return r();n.get("_local/_pouch_dependentDbs",function(t,o){if(t)return 404!==t.status?e(t):r();var a=o.dependentDbs,s=n.constructor,u=Object.keys(a).map(function(t){var e=i?t.replace(new RegExp("^"+s.prefix),""):t;return new s(e,n.__opts).destroy()});Promise.all(u).then(r,e)})}),Pe.prototype.execute=function(){var t;if(this.failed)while(t=this.queue.shift())t(this.failed);else while(t=this.queue.shift())t()},Pe.prototype.fail=function(t){this.failed=t,this.execute()},Pe.prototype.ready=function(t){this.isReady=!0,this.db=t,this.execute()},Pe.prototype.addTask=function(t){this.queue.push(t),this.failed&&this.execute()},l()(Le,xe);var De="undefined"!==typeof AbortController?AbortController:function(){return{abort:function(){}}},Re=fetch,Me=Headers;Le.adapters={},Le.preferredAdapters=[],Le.prefix="_pouch_";var je=new u["EventEmitter"];function Fe(t){Object.keys(u["EventEmitter"].prototype).forEach(function(e){"function"===typeof u["EventEmitter"].prototype[e]&&(t[e]=je[e].bind(je))});var e=t._destructionListeners=new w;t.on("ref",function(t){e.has(t.name)||e.set(t.name,[]),e.get(t.name).push(t)}),t.on("unref",function(t){if(e.has(t.name)){var n=e.get(t.name),i=n.indexOf(t);i<0||(n.splice(i,1),n.length>1?e.set(t.name,n):e.delete(t.name))}}),t.on("destroyed",function(t){if(e.has(t)){var n=e.get(t);e.delete(t),n.forEach(function(t){t.emit("destroyed",!0)})}})}Fe(Le),Le.adapter=function(t,e,n){e.valid()&&(Le.adapters[t]=e,n&&Le.preferredAdapters.push(t))},Le.plugin=function(t){if("function"===typeof t)t(Le);else{if("object"!==typeof t||0===Object.keys(t).length)throw new Error('Invalid plugin: got "'+t+'", expected an object or a function');Object.keys(t).forEach(function(e){Le.prototype[e]=t[e]})}return this.__defaults&&(Le.__defaults=Q({},this.__defaults)),Le},Le.defaults=function(t){function e(t,n){if(!(this instanceof e))return new e(t,n);n=n||{},t&&"object"===typeof t&&(n=t,t=n.name,delete n.name),n=Q({},e.__defaults,n),Le.call(this,t,n)}return l()(e,Le),e.preferredAdapters=Le.preferredAdapters.slice(),Object.keys(Le).forEach(function(t){t in e||(e[t]=Le[t])}),e.__defaults=Q({},this.__defaults,t),e},Le.fetch=function(t,e){return Re(t,e)};var Be="7.0.0";function qe(t,e){for(var n=t,i=0,r=e.length;i<r;i++){var o=e[i];if(n=n[o],!n)break}return n}function Ue(t,e){return t<e?-1:t>e?1:0}function $e(t){for(var e=[],n="",i=0,r=t.length;i<r;i++){var o=t[i];"."===o?i>0&&"\\"===t[i-1]?n=n.substring(0,n.length-1)+".":(e.push(n),n=""):n+=o}return e.push(n),e}var Ve=["$or","$nor","$not"];function He(t){return Ve.indexOf(t)>-1}function We(t){return Object.keys(t)[0]}function ze(t){return t[We(t)]}function Ge(t){var e={};return t.forEach(function(t){Object.keys(t).forEach(function(n){var i=t[n];if("object"!==typeof i&&(i={$eq:i}),He(n))i instanceof Array?e[n]=i.map(function(t){return Ge([t])}):e[n]=Ge([i]);else{var r=e[n]=e[n]||{};Object.keys(i).forEach(function(t){var e=i[t];return"$gt"===t||"$gte"===t?Ke(t,e,r):"$lt"===t||"$lte"===t?Qe(t,e,r):"$ne"===t?Xe(e,r):"$eq"===t?Ye(e,r):void(r[t]=e)})}})}),e}function Ke(t,e,n){"undefined"===typeof n.$eq&&("undefined"!==typeof n.$gte?"$gte"===t?e>n.$gte&&(n.$gte=e):e>=n.$gte&&(delete n.$gte,n.$gt=e):"undefined"!==typeof n.$gt?"$gte"===t?e>n.$gt&&(delete n.$gt,n.$gte=e):e>n.$gt&&(n.$gt=e):n[t]=e)}function Qe(t,e,n){"undefined"===typeof n.$eq&&("undefined"!==typeof n.$lte?"$lte"===t?e<n.$lte&&(n.$lte=e):e<=n.$lte&&(delete n.$lte,n.$lt=e):"undefined"!==typeof n.$lt?"$lte"===t?e<n.$lt&&(delete n.$lt,n.$lte=e):e<n.$lt&&(n.$lt=e):n[t]=e)}function Xe(t,e){"$ne"in e?e.$ne.push(t):e.$ne=[t]}function Ye(t,e){delete e.$gt,delete e.$gte,delete e.$lt,delete e.$lte,delete e.$ne,e.$eq=t}function Je(t){var e=S(t),n=!1;"$and"in e&&(e=Ge(e["$and"]),n=!0),["$or","$nor"].forEach(function(t){t in e&&e[t].forEach(function(t){for(var e=Object.keys(t),n=0;n<e.length;n++){var i=e[n],r=t[i];"object"===typeof r&&null!==r||(t[i]={$eq:r})}})}),"$not"in e&&(e["$not"]=Ge([e["$not"]]));for(var i=Object.keys(e),r=0;r<i.length;r++){var o=i[r],a=e[o];"object"!==typeof a||null===a?a={$eq:a}:"$ne"in a&&!n&&(a.$ne=[a.$ne]),e[o]=a}return e}function Ze(t,e,n){var i="",r=n-t.length;while(i.length<r)i+=e;return i}function tn(t,e,n){var i=Ze(t,e,n);return i+t}var en=-324,nn=3,rn="";function on(t,e){if(t===e)return 0;t=an(t),e=an(e);var n=vn(t),i=vn(e);if(n-i!==0)return n-i;switch(typeof t){case"number":return t-e;case"boolean":return t<e?-1:1;case"string":return dn(t,e)}return Array.isArray(t)?fn(t,e):pn(t,e)}function an(t){switch(typeof t){case"undefined":return null;case"number":return t===1/0||t===-1/0||isNaN(t)?null:t;case"object":var e=t;if(Array.isArray(t)){var n=t.length;t=new Array(n);for(var i=0;i<n;i++)t[i]=an(e[i])}else{if(t instanceof Date)return t.toJSON();if(null!==t)for(var r in t={},e)if(e.hasOwnProperty(r)){var o=e[r];"undefined"!==typeof o&&(t[r]=an(o))}}}return t}function sn(t){if(null!==t)switch(typeof t){case"boolean":return t?1:0;case"number":return mn(t);case"string":return t.replace(/\u0002/g,"").replace(/\u0001/g,"").replace(/\u0000/g,"");case"object":var e=Array.isArray(t),n=e?t:Object.keys(t),i=-1,r=n.length,o="";if(e)while(++i<r)o+=un(n[i]);else while(++i<r){var a=n[i];o+=un(a)+un(t[a])}return o}return""}function un(t){var e="\0";return t=an(t),vn(t)+rn+sn(t)+e}function cn(t,e){var n,i=e,r="1"===t[e];if(r)n=0,e++;else{var o="0"===t[e];e++;var a="",s=t.substring(e,e+nn),u=parseInt(s,10)+en;o&&(u=-u),e+=nn;while(1){var c=t[e];if("\0"===c)break;a+=c,e++}a=a.split("."),n=1===a.length?parseInt(a,10):parseFloat(a[0]+"."+a[1]),o&&(n-=10),0!==u&&(n=parseFloat(n+"e"+u))}return{num:n,length:e-i}}function ln(t,e){var n=t.pop();if(e.length){var i=e[e.length-1];n===i.element&&(e.pop(),i=e[e.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(n);else if(o===t.length-2){var a=t.pop();r[a]=n}else t.push(n)}}function hn(t){var e=[],n=[],i=0;while(1){var r=t[i++];if("\0"!==r)switch(r){case"1":e.push(null);break;case"2":e.push("1"===t[i]),i++;break;case"3":var o=cn(t,i);e.push(o.num),i+=o.length;break;case"4":var a="";while(1){var s=t[i];if("\0"===s)break;a+=s,i++}a=a.replace(/\u0001\u0001/g,"\0").replace(/\u0001\u0002/g,"").replace(/\u0002\u0002/g,""),e.push(a);break;case"5":var u={element:[],index:e.length};e.push(u.element),n.push(u);break;case"6":var c={element:{},index:e.length};e.push(c.element),n.push(c);break;default:throw new Error("bad collationIndex or unexpectedly reached end of input: "+r)}else{if(1===e.length)return e.pop();ln(e,n)}}}function fn(t,e){for(var n=Math.min(t.length,e.length),i=0;i<n;i++){var r=on(t[i],e[i]);if(0!==r)return r}return t.length===e.length?0:t.length>e.length?1:-1}function dn(t,e){return t===e?0:t>e?1:-1}function pn(t,e){for(var n=Object.keys(t),i=Object.keys(e),r=Math.min(n.length,i.length),o=0;o<r;o++){var a=on(n[o],i[o]);if(0!==a)return a;if(a=on(t[n[o]],e[i[o]]),0!==a)return a}return n.length===i.length?0:n.length>i.length?1:-1}function vn(t){var e=["boolean","number","string","object"],n=e.indexOf(typeof t);return~n?null===t?1:Array.isArray(t)?5:n<3?n+2:n+3:Array.isArray(t)?5:void 0}function mn(t){if(0===t)return"1";var e=t.toExponential().split(/e\+?/),n=parseInt(e[1],10),i=t<0,r=i?"0":"2",o=(i?-n:n)-en,a=tn(o.toString(),"0",nn);r+=rn+a;var s=Math.abs(parseFloat(e[0]));i&&(s=10-s);var u=s.toFixed(20);return u=u.replace(/\.?0+$/,""),r+=rn+u,r}function gn(t){function e(e){return t.map(function(t){var n=We(t),i=$e(n),r=qe(e,i);return r})}return function(t,n){var i=e(t.doc),r=e(n.doc),o=on(i,r);return 0!==o?o:Ue(t.doc._id,n.doc._id)}}function _n(t,e,n){if(t=t.filter(function(t){return yn(t.doc,e.selector,n)}),e.sort){var i=gn(e.sort);t=t.sort(i),"string"!==typeof e.sort[0]&&"desc"===ze(e.sort[0])&&(t=t.reverse())}if("limit"in e||"skip"in e){var r=e.skip||0,o=("limit"in e?e.limit:t.length)+r;t=t.slice(r,o)}return t}function yn(t,e,n){return n.every(function(n){var i=e[n],r=$e(n),o=qe(t,r);return He(n)?wn(n,i,t):bn(i,t,r,o)})}function bn(t,e,n,i){return!t||Object.keys(t).every(function(r){var o=t[r];return kn(r,e,o,n,i)})}function wn(t,e,n){return"$or"===t?e.some(function(t){return yn(n,t,Object.keys(t))}):"$not"===t?!yn(n,e,Object.keys(e)):!e.find(function(t){return yn(n,t,Object.keys(t))})}function kn(t,e,n,i,r){if(!In[t])throw new Error('unknown operator "'+t+'" - should be one of $eq, $lte, $lt, $gt, $gte, $exists, $ne, $in, $nin, $size, $mod, $regex, $elemMatch, $type, $allMatch or $all');return In[t](e,n,i,r)}function En(t){return"undefined"!==typeof t&&null!==t}function Cn(t){return"undefined"!==typeof t}function Sn(t,e){var n=e[0],i=e[1];if(0===n)throw new Error("Bad divisor, cannot divide by zero");if(parseInt(n,10)!==n)throw new Error("Divisor is not an integer");if(parseInt(i,10)!==i)throw new Error("Modulus is not an integer");return parseInt(t,10)===t&&t%n===i}function An(t,e){return e.some(function(e){return t instanceof Array?t.indexOf(e)>-1:t===e})}function Tn(t,e){return e.every(function(e){return t.indexOf(e)>-1})}function On(t,e){return t.length===e}function xn(t,e){var n=new RegExp(e);return n.test(t)}function Pn(t,e){switch(e){case"null":return null===t;case"boolean":return"boolean"===typeof t;case"number":return"number"===typeof t;case"string":return"string"===typeof t;case"array":return t instanceof Array;case"object":return"[object Object]"==={}.toString.call(t)}throw new Error(e+" not supported as a type.Please use one of object, string, array, number, boolean or null.")}var In={$elemMatch:function(t,e,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"===typeof i[0]?i.some(function(t){return yn(t,e,Object.keys(e))}):i.some(function(i){return bn(e,t,n,i)})))},$allMatch:function(t,e,n,i){return!!Array.isArray(i)&&(0!==i.length&&("object"===typeof i[0]?i.every(function(t){return yn(t,e,Object.keys(e))}):i.every(function(i){return bn(e,t,n,i)})))},$eq:function(t,e,n,i){return Cn(i)&&0===on(i,e)},$gte:function(t,e,n,i){return Cn(i)&&on(i,e)>=0},$gt:function(t,e,n,i){return Cn(i)&&on(i,e)>0},$lte:function(t,e,n,i){return Cn(i)&&on(i,e)<=0},$lt:function(t,e,n,i){return Cn(i)&&on(i,e)<0},$exists:function(t,e,n,i){return e?Cn(i):!Cn(i)},$mod:function(t,e,n,i){return En(i)&&Sn(i,e)},$ne:function(t,e,n,i){return e.every(function(t){return 0!==on(i,t)})},$in:function(t,e,n,i){return En(i)&&An(i,e)},$nin:function(t,e,n,i){return En(i)&&!An(i,e)},$size:function(t,e,n,i){return En(i)&&On(i,e)},$all:function(t,e,n,i){return Array.isArray(i)&&Tn(i,e)},$regex:function(t,e,n,i){return En(i)&&xn(i,e)},$type:function(t,e,n,i){return Pn(i,e)}};function Nn(t,e){if("object"!==typeof e)throw new Error("Selector error: expected a JSON object");e=Je(e);var n={doc:t},i=_n([n],{selector:e},Object.keys(e));return i&&1===i.length}function Ln(t){return Tt('"use strict";\nreturn '+t+";",{})}function Dn(t){var e=["return function(doc) {",'  "use strict";',"  var emitted = false;","  var emit = function (a, b) {","    emitted = true;","  };","  var view = "+t+";","  view(doc);","  if (emitted) {","    return true;","  }","};"].join("\n");return Tt(e,{})}function Rn(t,e){if(t.selector&&t.filter&&"_selector"!==t.filter){var n="string"===typeof t.filter?t.filter:"function";return e(new Error('selector invalid for filter "'+n+'"'))}e()}function Mn(t){t.view&&!t.filter&&(t.filter="_view"),t.selector&&!t.filter&&(t.filter="_selector"),t.filter&&"string"===typeof t.filter&&("_view"===t.filter?t.view=wt(t.view):t.filter=wt(t.filter))}function jn(t,e){return e.filter&&"string"===typeof e.filter&&!e.doc_ids&&!_t(t.db)}function Fn(t,e){var n=e.complete;if("_view"===e.filter){if(!e.view||"string"!==typeof e.view){var i=ft(st,"`view` filter parameter not found or invalid.");return n(i)}var r=bt(e.view);t.db.get("_design/"+r[0],function(i,o){if(t.isCancelled)return n(null,{status:"cancelled"});if(i)return n(dt(i));var a=o&&o.views&&o.views[r[1]]&&o.views[r[1]].map;if(!a)return n(ft(J,o.views?"missing json key: "+r[1]:"missing json key: views"));e.filter=Dn(a),t.doChanges(e)})}else if(e.selector)e.filter=function(t){return Nn(t,e.selector)},t.doChanges(e);else{var o=bt(e.filter);t.db.get("_design/"+o[0],function(i,r){if(t.isCancelled)return n(null,{status:"cancelled"});if(i)return n(dt(i));var a=r&&r.filters&&r.filters[o[1]];if(!a)return n(ft(J,r&&r.filters?"missing json key: "+o[1]:"missing json key: filters"));e.filter=Ln(a),t.doChanges(e)})}}function Bn(t){t._changesFilterPlugin={validate:Rn,normalize:Mn,shouldFilter:jn,filter:Fn}}function qn(t){return t.reduce(function(t,e){return t[e]=!0,t},{})}Le.plugin(Bn),Le.version=Be;var Un=qn(["_id","_rev","_attachments","_deleted","_revisions","_revs_info","_conflicts","_deleted_conflicts","_local_seq","_rev_tree","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats","_removed"]),$n=qn(["_attachments","_replication_id","_replication_state","_replication_state_time","_replication_state_reason","_replication_stats"]);function Vn(t){if(!/^\d+-./.test(t))return ft(lt);var e=t.indexOf("-"),n=t.substring(0,e),i=t.substring(e+1);return{prefix:parseInt(n,10),id:i}}function Hn(t,e){for(var n=t.start-t.ids.length+1,i=t.ids,r=[i[0],e,[]],o=1,a=i.length;o<a;o++)r=[i[o],{status:"missing"},[r]];return[{pos:n,ids:r}]}function Wn(t,e,n){var i,r,o;n||(n={deterministic_revs:!0});var a={status:"available"};if(t._deleted&&(a.deleted=!0),e)if(t._id||(t._id=Xt()),r=Qt(t,n.deterministic_revs),t._rev){if(o=Vn(t._rev),o.error)return o;t._rev_tree=[{pos:o.prefix,ids:[o.id,{status:"missing"},[[r,a,[]]]]}],i=o.prefix+1}else t._rev_tree=[{pos:1,ids:[r,a,[]]}],i=1;else if(t._revisions&&(t._rev_tree=Hn(t._revisions,a),i=t._revisions.start,r=t._revisions.ids[0]),!t._rev_tree){if(o=Vn(t._rev),o.error)return o;i=o.prefix,r=o.id,t._rev_tree=[{pos:i,ids:[r,a,[]]}]}gt(t._id),t._rev=i+"-"+r;var s={metadata:{},data:{}};for(var u in t)if(Object.prototype.hasOwnProperty.call(t,u)){var c="_"===u[0];if(c&&!Un[u]){var l=ft(at,u);throw l.message=at.message+": "+u,l}c&&!$n[u]?s.metadata[u.slice(1)]=t[u]:s.data[u]=t[u]}return s}function zn(t){try{return Pt(t)}catch(po){var e=ft(rt,"Attachment is not a valid base64 string");return{error:e}}}function Gn(t,e,n){var i=zn(t.data);if(i.error)return n(i.error);t.length=i.length,t.data="blob"===e?Dt(i,t.content_type):"base64"===e?It(i):i,Gt(i,function(e){t.digest="md5-"+e,n()})}function Kn(t,e,n){Gt(t.data,function(i){t.digest="md5-"+i,t.length=t.data.size||t.data.length||0,"binary"===e?Ft(t.data,function(e){t.data=e,n()}):"base64"===e?Bt(t.data,function(e){t.data=e,n()}):n()})}function Qn(t,e,n){if(t.stub)return n();"string"===typeof t.data?Gn(t,e,n):Kn(t,e,n)}function Xn(t,e,n){if(!t.length)return n();var i,r=0;function o(){r++,t.length===r&&(i?n(i):n())}t.forEach(function(t){var n=t.data&&t.data._attachments?Object.keys(t.data._attachments):[],r=0;if(!n.length)return o();function a(t){i=t,r++,r===n.length&&o()}for(var s in t.data._attachments)t.data._attachments.hasOwnProperty(s)&&Qn(t.data._attachments[s],e,a)})}function Yn(t,e,n,i,r,o,a,s){if(de(e.rev_tree,n.metadata.rev)&&!s)return i[r]=n,o();var u=e.winningRev||Yt(e),c="deleted"in e?e.deleted:ve(e,u),l="deleted"in n.metadata?n.metadata.deleted:ve(n.metadata),h=/^1-/.test(n.metadata.rev);if(c&&!l&&s&&h){var f=n.data;f._rev=u,f._id=n.metadata.id,n=Wn(f,s)}var d=fe(e.rev_tree,n.metadata.rev_tree[0],t),p=s&&(c&&l&&"new_leaf"!==d.conflicts||!c&&"new_leaf"!==d.conflicts||c&&!l&&"new_branch"===d.conflicts);if(p){var v=ft(Z);return i[r]=v,o()}var m=n.metadata.rev;n.metadata.rev_tree=d.tree,n.stemmedRevs=d.stemmedRevs||[],e.rev_map&&(n.metadata.rev_map=e.rev_map);var g,_=Yt(n.metadata),y=ve(n.metadata,_),b=c===y?0:c<y?-1:1;g=m===_?y:ve(n.metadata,m),a(n,_,y,g,!0,b,r,o)}function Jn(t){return"missing"===t.metadata.rev_tree[0].ids[1].status}function Zn(t,e,n,i,r,o,a,s,u){function c(t,e,n){var i=Yt(t.metadata),r=ve(t.metadata,i);if("was_delete"in s&&r)return o[e]=ft(J,"deleted"),n();var u=l&&Jn(t);if(u){var c=ft(Z);return o[e]=c,n()}var h=r?0:1;a(t,i,r,r,!1,h,e,n)}t=t||1e3;var l=s.new_edits,h=new w,f=0,d=e.length;function p(){++f===d&&u&&u()}e.forEach(function(t,e){if(t._id&&me(t._id)){var i=t._deleted?"_removeLocal":"_putLocal";n[i](t,{ctx:r},function(t,n){o[e]=t||n,p()})}else{var a=t.metadata.id;h.has(a)?(d--,h.get(a).push([t,e])):h.set(a,[[t,e]])}}),h.forEach(function(e,n){var r=0;function s(){++r<e.length?u():p()}function u(){var u=e[r],h=u[0],f=u[1];if(i.has(n))Yn(t,i.get(n),h,o,f,s,a,l);else{var d=fe([],h.metadata.rev_tree[0],t);h.metadata.rev_tree=d.tree,h.stemmedRevs=d.stemmedRevs||[],c(h,f,s)}}u()})}var ti=5,ei="document-store",ni="by-sequence",ii="attach-store",ri="attach-seq-store",oi="meta-store",ai="local-store",si="detect-blob-support";function ui(t){try{return JSON.parse(t)}catch(po){return m.a.parse(t)}}function ci(t){try{return JSON.stringify(t)}catch(po){return m.a.stringify(t)}}function li(t){return function(e){var n="unknown_error";e.target&&e.target.error&&(n=e.target.error.name||e.target.error.message),t(ft(ct,n,e.type))}}function hi(t,e,n){return{data:ci(t),winningRev:e,deletedOrLocal:n?"1":"0",seq:t.seq,id:t.id}}function fi(t){if(!t)return null;var e=ui(t.data);return e.winningRev=t.winningRev,e.deleted="1"===t.deletedOrLocal,e.seq=t.seq,e}function di(t){if(!t)return t;var e=t._doc_id_rev.lastIndexOf(":");return t._id=t._doc_id_rev.substring(0,e-1),t._rev=t._doc_id_rev.substring(e+1),delete t._doc_id_rev,t}function pi(t,e,n,i){n?i(t?"string"!==typeof t?t:Rt(t,e):Nt([""],{type:e})):t?"string"!==typeof t?jt(t,function(t){i(It(t))}):i(t):i("")}function vi(t,e,n,i){var r=Object.keys(t._attachments||{});if(!r.length)return i&&i();var o=0;function a(){++o===r.length&&i&&i()}function s(t,e){var i=t._attachments[e],r=i.digest,o=n.objectStore(ii).get(r);o.onsuccess=function(t){i.body=t.target.result.body,a()}}r.forEach(function(n){e.attachments&&e.include_docs?s(t,n):(t._attachments[n].stub=!0,a())})}function mi(t,e){return Promise.all(t.map(function(t){if(t.doc&&t.doc._attachments){var n=Object.keys(t.doc._attachments);return Promise.all(n.map(function(n){var i=t.doc._attachments[n];if("body"in i){var r=i.body,o=i.content_type;return new Promise(function(a){pi(r,o,e,function(e){t.doc._attachments[n]=Q(R(i,["digest","content_type"]),{data:e}),a()})})}}))}}))}function gi(t,e,n){var i=[],r=n.objectStore(ni),o=n.objectStore(ii),a=n.objectStore(ri),s=t.length;function u(){s--,s||c()}function c(){i.length&&i.forEach(function(t){var e=a.index("digestSeq").count(IDBKeyRange.bound(t+"::",t+"::￿",!1,!1));e.onsuccess=function(e){var n=e.target.result;n||o.delete(t)}})}t.forEach(function(t){var n=r.index("_doc_id_rev"),o=e+"::"+t;n.getKey(o).onsuccess=function(t){var e=t.target.result;if("number"!==typeof e)return u();r.delete(e);var n=a.index("seq").openCursor(IDBKeyRange.only(e));n.onsuccess=function(t){var e=t.target.result;if(e){var n=e.value.digestSeq.split("::")[0];i.push(n),a.delete(e.primaryKey),e.continue()}else u()}}})}function _i(t,e,n){try{return{txn:t.transaction(e,n)}}catch(i){return{error:i}}}var yi=new H;function bi(t,e,n,i,r,o){for(var a,s,u,c,l,h,f,d,p=e.docs,v=0,m=p.length;v<m;v++){var g=p[v];g._id&&me(g._id)||(g=p[v]=Wn(g,n.new_edits,t),g.error&&!f&&(f=g))}if(f)return o(f);var _=!1,y=0,b=new Array(p.length),k=new w,E=!1,C=i._meta.blobSupport?"blob":"base64";function S(){var t=[ei,ni,ii,ai,ri,oi],e=_i(r,t,"readwrite");if(e.error)return o(e.error);a=e.txn,a.onabort=li(o),a.ontimeout=li(o),a.oncomplete=P,s=a.objectStore(ei),u=a.objectStore(ni),c=a.objectStore(ii),l=a.objectStore(ri),h=a.objectStore(oi),h.get(oi).onsuccess=function(t){d=t.target.result,O()},N(function(t){if(t)return E=!0,o(t);x()})}function A(){_=!0,O()}function T(){Zn(t.revs_limit,p,i,k,a,b,L,n,A)}function O(){d&&_&&(d.docCount+=y,h.put(d))}function x(){if(p.length)for(var t=0,e=0,n=p.length;e<n;e++){var i=p[e];if(i._id&&me(i._id))o();else{var r=s.get(i.metadata.id);r.onsuccess=a}}function o(){++t===p.length&&T()}function a(t){var e=fi(t.target.result);e&&k.set(e.id,e),o()}}function P(){E||(yi.notify(i._meta.name),o(null,b))}function I(t,e){var n=c.get(t);n.onsuccess=function(n){if(n.target.result)e();else{var i=ft(ht,"unknown stub attachment with digest "+t);i.status=412,e(i)}}}function N(t){var e=[];if(p.forEach(function(t){t.data&&t.data._attachments&&Object.keys(t.data._attachments).forEach(function(n){var i=t.data._attachments[n];i.stub&&e.push(i.digest)})}),!e.length)return t();var n,i=0;function r(){++i===e.length&&t(n)}e.forEach(function(t){I(t,function(t){t&&!n&&(n=t),r()})})}function L(t,e,n,i,r,o,a,s){t.metadata.winningRev=e,t.metadata.deleted=n;var u=t.data;u._id=t.metadata.id,u._rev=t.metadata.rev,i&&(u._deleted=!0);var c=u._attachments&&Object.keys(u._attachments).length;if(c)return R(t,e,n,r,a,s);y+=o,O(),D(t,e,n,r,a,s)}function D(t,e,n,r,o,c){var l=t.data,h=t.metadata;function f(o){var u=t.stemmedRevs||[];r&&i.auto_compaction&&(u=u.concat(ne(t.metadata))),u&&u.length&&gi(u,t.metadata.id,a),h.seq=o.target.result;var c=hi(h,e,n),l=s.put(c);l.onsuccess=p}function d(t){t.preventDefault(),t.stopPropagation();var e=u.index("_doc_id_rev"),n=e.getKey(l._doc_id_rev);n.onsuccess=function(t){var e=u.put(l,t.target.result);e.onsuccess=f}}function p(){b[o]={ok:!0,id:h.id,rev:h.rev},k.set(t.metadata.id,t.metadata),M(t,h.seq,c)}l._doc_id_rev=h.id+"::"+h.rev,delete l._id,delete l._rev;var v=u.put(l);v.onsuccess=f,v.onerror=d}function R(t,e,n,i,r,o){var a=t.data,s=0,u=Object.keys(a._attachments);function c(){s===u.length&&D(t,e,n,i,r,o)}function l(){s++,c()}u.forEach(function(n){var i=t.data._attachments[n];if(i.stub)s++,c();else{var r=i.data;delete i.data,i.revpos=parseInt(e,10);var o=i.digest;j(o,r,l)}})}function M(t,e,n){var i=0,r=Object.keys(t.data._attachments||{});if(!r.length)return n();function o(){++i===r.length&&n()}function a(n){var i=t.data._attachments[n].digest,r=l.put({seq:e,digestSeq:i+"::"+e});r.onsuccess=o,r.onerror=function(t){t.preventDefault(),t.stopPropagation(),o()}}for(var s=0;s<r.length;s++)a(r[s])}function j(t,e,n){var i=c.count(t);i.onsuccess=function(i){var r=i.target.result;if(r)return n();var o={digest:t,body:e},a=c.put(o);a.onsuccess=n}}Xn(p,C,function(t){if(t)return o(t);S()})}function wi(t,e,n,i,r){-1===i&&(i=1e3);var o,a,s,u="function"===typeof t.getAll&&"function"===typeof t.getAllKeys&&i>1&&!n;function c(t){a=t.target.result,o&&r(o,a,s)}function l(t){o=t.target.result,a&&r(o,a,s)}function h(){if(!o.length)return r();var n,s=o[o.length-1];if(e&&e.upper)try{n=IDBKeyRange.bound(s,e.upper,!0,e.upperOpen)}catch(po){if("DataError"===po.name&&0===po.code)return r()}else n=IDBKeyRange.lowerBound(s,!0);e=n,o=null,a=null,t.getAll(e,i).onsuccess=c,t.getAllKeys(e,i).onsuccess=l}function f(t){var e=t.target.result;if(!e)return r();r([e.key],[e.value],e)}u?(s={continue:h},t.getAll(e,i).onsuccess=c,t.getAllKeys(e,i).onsuccess=l):n?t.openCursor(e,"prev").onsuccess=f:t.openCursor(e).onsuccess=f}function ki(t,e,n){if("function"!==typeof t.getAll){var i=[];t.openCursor(e).onsuccess=r}else t.getAll(e).onsuccess=n;function r(t){var e=t.target.result;e?(i.push(e.value),e.continue()):n({target:{result:i}})}}function Ei(t,e,n){var i=new Array(t.length),r=0;t.forEach(function(o,a){e.get(o).onsuccess=function(e){e.target.result?i[a]=e.target.result:i[a]={key:o,error:"not_found"},r++,r===t.length&&n(t,i,{})}})}function Ci(t,e,n,i,r){try{if(t&&e)return r?IDBKeyRange.bound(e,t,!n,!1):IDBKeyRange.bound(t,e,!1,!n);if(t)return r?IDBKeyRange.upperBound(t):IDBKeyRange.lowerBound(t);if(e)return r?IDBKeyRange.lowerBound(e,!n):IDBKeyRange.upperBound(e,!n);if(i)return IDBKeyRange.only(i)}catch(po){return{error:po}}return null}function Si(t,e,n){var i,r,o="startkey"in t&&t.startkey,a="endkey"in t&&t.endkey,s="key"in t&&t.key,u="keys"in t&&t.keys,c=t.skip||0,l="number"===typeof t.limit?t.limit:-1,h=!1!==t.inclusive_end;if(!u&&(i=Ci(o,a,h,s,t.descending),r=i&&i.error,r&&("DataError"!==r.name||0!==r.code)))return n(ft(ct,r.name,r.message));var f=[ei,ni,oi];t.attachments&&f.push(ii);var d=_i(e,f,"readonly");if(d.error)return n(d.error);var p=d.txn;p.oncomplete=x,p.onabort=li(n);var v,m,g=p.objectStore(ei),_=p.objectStore(ni),y=p.objectStore(oi),b=_.index("_doc_id_rev"),w=[];function k(t,e){function n(t){var n=t.target.result,i=void 0;return n&&n.key&&(i=n.key),e({target:{result:[i]}})}t.openCursor(null,"prev").onsuccess=n}function E(e,n,i){var r=e.id+"::"+i;b.get(r).onsuccess=function(i){if(n.doc=di(i.target.result)||{},t.conflicts){var r=ee(e);r.length&&(n.doc._conflicts=r)}vi(n.doc,t,p)}}function C(e,n){var i={id:n.id,key:n.id,value:{rev:e}},r=n.deleted;r?u&&(w.push(i),i.value.deleted=!0,i.doc=null):c--<=0&&(w.push(i),t.include_docs&&E(n,i,e))}function S(t){for(var e=0,n=t.length;e<n;e++){if(w.length===l)break;var i=t[e];if(i.error&&u)w.push(i);else{var r=fi(i),o=r.winningRev;C(o,r)}}}function A(t,e,n){n&&(S(e),w.length<l&&n.continue())}function T(e){var n=e.target.result;t.descending&&(n=n.reverse()),S(n)}function O(){var e={total_rows:v,offset:t.skip,rows:w};t.update_seq&&void 0!==m&&(e.update_seq=m),n(null,e)}function x(){t.attachments?mi(w,t.binary).then(O):O()}return y.get(oi).onsuccess=function(t){v=t.target.result.docCount},t.update_seq&&k(_,function(t){t.target.result&&t.target.result.length>0&&(m=t.target.result[0])}),r||0===l?void 0:u?Ei(t.keys,g,A):-1===l?ki(g,i,T):void wi(g,i,t.descending,l+c,A)}function Ai(t){return new Promise(function(e){var n=Nt([""]),i=t.objectStore(si).put(n,"key");i.onsuccess=function(){var t=navigator.userAgent.match(/Chrome\/(\d+)/),n=navigator.userAgent.match(/Edge\//);e(n||!t||parseInt(t[1],10)>=43)},i.onerror=t.onabort=function(t){t.preventDefault(),t.stopPropagation(),e(!1)}}).catch(function(){return!1})}function Ti(t,e){var n=t.objectStore(ei).index("deletedOrLocal");n.count(IDBKeyRange.only("0")).onsuccess=function(t){e(t.target.result)}}var Oi=!1,xi=[];function Pi(t,e,n,i){try{t(e,n)}catch(e){i.emit("error",e)}}function Ii(){!Oi&&xi.length&&(Oi=!0,xi.shift()())}function Ni(t,e,n){xi.push(function(){t(function(t,i){Pi(e,t,i,n),Oi=!1,s()(function(){Ii(n)})})}),Ii()}function Li(t,e,n,i){if(t=S(t),t.continuous){var r=n+":"+Xt();return yi.addListener(n,r,e,t),yi.notify(n),{cancel:function(){yi.removeListener(n,r)}}}var o=t.doc_ids&&new b(t.doc_ids);t.since=t.since||0;var a=t.since,s="limit"in t?t.limit:-1;0===s&&(s=1);var u,c,l,h,f=[],d=0,p=vt(t),v=new w;function m(e,n,i){if(i&&e.length){var r=new Array(e.length),o=new Array(e.length),c=0;n.forEach(function(t,n){var i=di(t),a=e[n];_(i,a,function(t,i){o[n]=t,r[n]=i,++c===e.length&&h()})})}function l(e,n){var i=t.processChange(n,e,t);a=i.seq=e.seq;var r=p(i);return"object"===typeof r?Promise.reject(r):r?(d++,t.return_docs&&f.push(i),t.attachments&&t.include_docs?new Promise(function(e){vi(n,t,u,function(){mi([i],t.binary).then(function(){e(i)})})}):Promise.resolve(i)):Promise.resolve()}function h(){for(var e=[],n=0,a=r.length;n<a;n++){if(d===s)break;var u=r[n];if(u){var c=o[n];e.push(l(c,u))}}Promise.all(e).then(function(e){for(var n=0,i=e.length;n<i;n++)e[n]&&t.onChange(e[n])}).catch(t.complete),d!==s&&i.continue()}}function g(t,e,n,i){if(n.seq!==e)return i();if(n.winningRev===t._rev)return i(n,t);var r=t._id+"::"+n.winningRev,o=h.get(r);o.onsuccess=function(t){i(n,di(t.target.result))}}function _(t,e,n){if(o&&!o.has(t._id))return n();var i=v.get(t._id);if(i)return g(t,e,i,n);l.get(t._id).onsuccess=function(r){i=fi(r.target.result),v.set(t._id,i),g(t,e,i,n)}}function y(){t.complete(null,{results:f,last_seq:a})}function k(){!t.continuous&&t.attachments?mi(f).then(y):y()}var E=[ei,ni];t.attachments&&E.push(ii);var C=_i(i,E,"readonly");if(C.error)return t.complete(C.error);u=C.txn,u.onabort=li(t.complete),u.oncomplete=k,c=u.objectStore(ni),l=u.objectStore(ei),h=c.index("_doc_id_rev");var A=t.since&&!t.descending?IDBKeyRange.lowerBound(t.since,!0):null;wi(c,A,t.descending,s,m)}var Di,Ri=new w,Mi=new w;function ji(t,e){var n=this;Ni(function(e){Fi(n,t,e)},e,n.constructor)}function Fi(t,e,n){var i=e.name,r=null;function o(t){var e=t.createObjectStore(ei,{keyPath:"id"});t.createObjectStore(ni,{autoIncrement:!0}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0}),t.createObjectStore(ii,{keyPath:"digest"}),t.createObjectStore(oi,{keyPath:"id",autoIncrement:!1}),t.createObjectStore(si),e.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),t.createObjectStore(ai,{keyPath:"_id"});var n=t.createObjectStore(ri,{autoIncrement:!0});n.createIndex("seq","seq"),n.createIndex("digestSeq","digestSeq",{unique:!0})}function a(t,e){var n=t.objectStore(ei);n.createIndex("deletedOrLocal","deletedOrLocal",{unique:!1}),n.openCursor().onsuccess=function(t){var i=t.target.result;if(i){var r=i.value,o=ve(r);r.deletedOrLocal=o?"1":"0",n.put(r),i.continue()}else e()}}function u(t){t.createObjectStore(ai,{keyPath:"_id"}).createIndex("_doc_id_rev","_doc_id_rev",{unique:!0})}function c(t,e){var n=t.objectStore(ai),i=t.objectStore(ei),r=t.objectStore(ni),o=i.openCursor();o.onsuccess=function(t){var o=t.target.result;if(o){var a=o.value,s=a.id,u=me(s),c=Yt(a);if(u){var l=s+"::"+c,h=s+"::",f=s+"::~",d=r.index("_doc_id_rev"),p=IDBKeyRange.bound(h,f,!1,!1),v=d.openCursor(p);v.onsuccess=function(t){if(v=t.target.result,v){var e=v.value;e._doc_id_rev===l&&n.put(e),r.delete(v.primaryKey),v.continue()}else i.delete(o.primaryKey),o.continue()}}else o.continue()}else e&&e()}}function l(t){var e=t.createObjectStore(ri,{autoIncrement:!0});e.createIndex("seq","seq"),e.createIndex("digestSeq","digestSeq",{unique:!0})}function h(t,e){var n=t.objectStore(ni),i=t.objectStore(ii),r=t.objectStore(ri),o=i.count();o.onsuccess=function(t){var i=t.target.result;if(!i)return e();n.openCursor().onsuccess=function(t){var n=t.target.result;if(!n)return e();for(var i=n.value,o=n.primaryKey,a=Object.keys(i._attachments||{}),s={},u=0;u<a.length;u++){var c=i._attachments[a[u]];s[c.digest]=!0}var l=Object.keys(s);for(u=0;u<l.length;u++){var h=l[u];r.put({seq:o,digestSeq:h+"::"+o})}n.continue()}}}function f(t){function e(t){return t.data?fi(t):(t.deleted="1"===t.deletedOrLocal,t)}var n=t.objectStore(ni),i=t.objectStore(ei),r=i.openCursor();r.onsuccess=function(t){var r=t.target.result;if(r){var o=e(r.value);if(o.winningRev=o.winningRev||Yt(o),o.seq)return s();a()}function a(){var t=o.id+"::",e=o.id+"::￿",i=n.index("_doc_id_rev").openCursor(IDBKeyRange.bound(t,e)),r=0;i.onsuccess=function(t){var e=t.target.result;if(!e)return o.seq=r,s();var n=e.primaryKey;n>r&&(r=n),e.continue()}}function s(){var t=hi(o,o.winningRev,o.deleted),e=i.put(t);e.onsuccess=function(){r.continue()}}}}t._meta=null,t._remote=!1,t.type=function(){return"idb"},t._id=T(function(e){e(null,t._meta.instanceId)}),t._bulkDocs=function(n,i,o){bi(e,n,i,t,r,o)},t._get=function(t,e,n){var i,o,a,s=e.ctx;if(!s){var u=_i(r,[ei,ni,ii],"readonly");if(u.error)return n(u.error);s=u.txn}function c(){n(a,{doc:i,metadata:o,ctx:s})}s.objectStore(ei).get(t).onsuccess=function(t){if(o=fi(t.target.result),!o)return a=ft(J,"missing"),c();var n;if(e.rev)n=e.latest?ge(e.rev,o):e.rev;else{n=o.winningRev;var r=ve(o);if(r)return a=ft(J,"deleted"),c()}var u=s.objectStore(ni),l=o.id+"::"+n;u.index("_doc_id_rev").get(l).onsuccess=function(t){if(i=t.target.result,i&&(i=di(i)),!i)return a=ft(J,"missing"),c();c()}}},t._getAttachment=function(t,e,n,i,o){var a;if(i.ctx)a=i.ctx;else{var s=_i(r,[ei,ni,ii],"readonly");if(s.error)return o(s.error);a=s.txn}var u=n.digest,c=n.content_type;a.objectStore(ii).get(u).onsuccess=function(t){var e=t.target.result.body;pi(e,c,i.binary,function(t){o(null,t)})}},t._info=function(e){var n,i,o=_i(r,[oi,ni],"readonly");if(o.error)return e(o.error);var a=o.txn;a.objectStore(oi).get(oi).onsuccess=function(t){i=t.target.result.docCount},a.objectStore(ni).openCursor(null,"prev").onsuccess=function(t){var e=t.target.result;n=e?e.key:0},a.oncomplete=function(){e(null,{doc_count:i,update_seq:n,idb_attachment_format:t._meta.blobSupport?"binary":"base64"})}},t._allDocs=function(t,e){Si(t,r,e)},t._changes=function(e){return Li(e,t,i,r)},t._close=function(t){r.close(),Ri.delete(i),t()},t._getRevisionTree=function(t,e){var n=_i(r,[ei],"readonly");if(n.error)return e(n.error);var i=n.txn,o=i.objectStore(ei).get(t);o.onsuccess=function(t){var n=fi(t.target.result);n?e(null,n.rev_tree):e(ft(J))}},t._doCompaction=function(t,e,n){var i=[ei,ni,ii,ri],o=_i(r,i,"readwrite");if(o.error)return n(o.error);var a=o.txn,s=a.objectStore(ei);s.get(t).onsuccess=function(n){var i=fi(n.target.result);Jt(i.rev_tree,function(t,n,i,r,o){var a=n+"-"+i;-1!==e.indexOf(a)&&(o.status="missing")}),gi(e,t,a);var r=i.winningRev,o=i.deleted;a.objectStore(ei).put(hi(i,r,o))},a.onabort=li(n),a.oncomplete=function(){n()}},t._getLocal=function(t,e){var n=_i(r,[ai],"readonly");if(n.error)return e(n.error);var i=n.txn,o=i.objectStore(ai).get(t);o.onerror=li(e),o.onsuccess=function(t){var n=t.target.result;n?(delete n["_doc_id_rev"],e(null,n)):e(ft(J))}},t._putLocal=function(t,e,n){"function"===typeof e&&(n=e,e={}),delete t._revisions;var i=t._rev,o=t._id;t._rev=i?"0-"+(parseInt(i.split("-")[1],10)+1):"0-1";var a,s=e.ctx;if(!s){var u=_i(r,[ai],"readwrite");if(u.error)return n(u.error);s=u.txn,s.onerror=li(n),s.oncomplete=function(){a&&n(null,a)}}var c,l=s.objectStore(ai);i?(c=l.get(o),c.onsuccess=function(r){var o=r.target.result;if(o&&o._rev===i){var s=l.put(t);s.onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)}}else n(ft(Z))}):(c=l.add(t),c.onerror=function(t){n(ft(Z)),t.preventDefault(),t.stopPropagation()},c.onsuccess=function(){a={ok:!0,id:t._id,rev:t._rev},e.ctx&&n(null,a)})},t._removeLocal=function(t,e,n){"function"===typeof e&&(n=e,e={});var i,o=e.ctx;if(!o){var a=_i(r,[ai],"readwrite");if(a.error)return n(a.error);o=a.txn,o.oncomplete=function(){i&&n(null,i)}}var s=t._id,u=o.objectStore(ai),c=u.get(s);c.onerror=li(n),c.onsuccess=function(r){var o=r.target.result;o&&o._rev===t._rev?(u.delete(s),i={ok:!0,id:s,rev:"0-0"},e.ctx&&n(null,i)):n(ft(J))}},t._destroy=function(t,e){yi.removeAllListeners(i);var n=Mi.get(i);n&&n.result&&(n.result.close(),Ri.delete(i));var r=indexedDB.deleteDatabase(i);r.onsuccess=function(){Mi.delete(i),$()&&i in localStorage&&delete localStorage[i],e(null,{ok:!0})},r.onerror=li(e)};var d=Ri.get(i);if(d)return r=d.idb,t._meta=d.global,s()(function(){n(null,t)});var p=indexedDB.open(i,ti);Mi.set(i,p),p.onupgradeneeded=function(t){var e=t.target.result;if(t.oldVersion<1)return o(e);var n=t.currentTarget.transaction;t.oldVersion<3&&u(e),t.oldVersion<4&&l(e);var i=[a,c,h,f],r=t.oldVersion;function s(){var t=i[r-1];r++,t&&t(n,s)}s()},p.onsuccess=function(e){r=e.target.result,r.onversionchange=function(){r.close(),Ri.delete(i)},r.onabort=function(t){W("error","Database has a global failure",t.target.error),r.close(),Ri.delete(i)};var o,a,s,u,c=r.transaction([oi,si,ei],"readwrite"),l=!1;function h(){"undefined"!==typeof s&&l&&(t._meta={name:i,instanceId:u,blobSupport:s},Ri.set(i,{idb:r,global:t._meta}),n(null,t))}function f(){if("undefined"!==typeof a&&"undefined"!==typeof o){var t=i+"_id";t in o?u=o[t]:o[t]=u=Xt(),o.docCount=a,c.objectStore(oi).put(o)}}c.objectStore(oi).get(oi).onsuccess=function(t){o=t.target.result||{id:oi},f()},Ti(c,function(t){a=t,f()}),Di||(Di=Ai(c)),Di.then(function(t){s=t,h()}),c.oncomplete=function(){l=!0,h()},c.onabort=li(n)},p.onerror=function(){var t="Failed to open indexedDB, are you in private browsing mode?";W("error",t),n(ft(ct,t))}}function Bi(t){t.adapter("idb",ji,!0)}function qi(t,e){return new Promise(function(n,i){var r,o=0,a=0,s=0,u=t.length;function c(){o++,t[a++]().then(h,f)}function l(){++s===u?r?i(r):n():d()}function h(){o--,l()}function f(t){o--,r=r||t,l()}function d(){while(o<e&&a<u)c()}d()})}ji.valid=function(){try{return"undefined"!==typeof indexedDB&&"undefined"!==typeof IDBKeyRange}catch(po){return!1}};var Ui=25,$i=50,Vi=5e3,Hi=1e4,Wi={};function zi(t){var e=t.doc||t.ok,n=e._attachments;n&&Object.keys(n).forEach(function(t){var e=n[t];e.data=Rt(e.data,e.content_type)})}function Gi(t){return/^_design/.test(t)?"_design/"+encodeURIComponent(t.slice(8)):/^_local/.test(t)?"_local/"+encodeURIComponent(t.slice(7)):encodeURIComponent(t)}function Ki(t){return t._attachments&&Object.keys(t._attachments)?Promise.all(Object.keys(t._attachments).map(function(e){var n=t._attachments[e];if(n.data&&"string"!==typeof n.data)return new Promise(function(t){Bt(n.data,t)}).then(function(t){n.data=t})})):Promise.resolve()}function Qi(t){if(!t.prefix)return!1;var e=At(t.prefix).protocol;return"http"===e||"https"===e}function Xi(t,e){if(Qi(e)){var n=e.name.substr(e.prefix.length),i=e.prefix.replace(/\/?$/,"/");t=i+encodeURIComponent(n)}var r=At(t);(r.user||r.password)&&(r.auth={username:r.user,password:r.password});var o=r.path.replace(/(^\/|\/$)/g,"").split("/");return r.db=o.pop(),-1===r.db.indexOf("%")&&(r.db=encodeURIComponent(r.db)),r.path=o.join("/"),r}function Yi(t,e){return Ji(t,t.db+"/"+e)}function Ji(t,e){var n=t.path?"/":"";return t.protocol+"://"+t.host+(t.port?":"+t.port:"")+"/"+t.path+n+e}function Zi(t){return"?"+Object.keys(t).map(function(e){return e+"="+encodeURIComponent(t[e])}).join("&")}function tr(t){var e="undefined"!==typeof navigator&&navigator.userAgent?navigator.userAgent.toLowerCase():"",n=-1!==e.indexOf("msie"),i=-1!==e.indexOf("trident"),r=-1!==e.indexOf("edge"),o=!("method"in t)||"GET"===t.method;return(n||i||r)&&o}function er(t,e){var n=this,r=Xi(t.name,t),a=Yi(r,"");t=S(t);var u,c=function(e,n){if(n=n||{},n.headers=n.headers||new Me,t.auth||r.auth){var i=t.auth||r.auth,o=i.username+":"+i.password,a=It(unescape(encodeURIComponent(o)));n.headers.set("Authorization","Basic "+a)}var s=t.headers||{};Object.keys(s).forEach(function(t){n.headers.append(t,s[t])}),tr(n)&&(e+=(-1===e.indexOf("?")?"?":"&")+"_nonce="+Date.now());var u=t.fetch||Re;return u(e,n)};function l(t,e){return x(t,o()(function(t){f().then(function(){return e.apply(this,t)}).catch(function(e){var n=t.pop();n(e)})})).bind(n)}function h(t,e,n){var i={};return e=e||{},e.headers=e.headers||new Me,e.headers.get("Content-Type")||e.headers.set("Content-Type","application/json"),e.headers.get("Accept")||e.headers.set("Accept","application/json"),c(t,e).then(function(t){return i.ok=t.ok,i.status=t.status,t.json()}).then(function(t){if(i.data=t,!i.ok){i.data.status=i.status;var e=dt(i.data);if(n)return n(e);throw e}if(Array.isArray(i.data)&&(i.data=i.data.map(function(t){return t.error||t.missing?dt(t):t})),!n)return i;n(null,i.data)})}function f(){return t.skip_setup?Promise.resolve():u||(u=h(a).catch(function(t){return t&&t.status&&404===t.status?(K(404,"PouchDB is just detecting if the remote exists."),h(a,{method:"PUT"})):Promise.reject(t)}).catch(function(t){return!(!t||!t.status||412!==t.status)||Promise.reject(t)}),u.catch(function(){u=null}),u)}function d(t){return t.split("/").map(encodeURIComponent).join("/")}s()(function(){e(null,n)}),n._remote=!0,n.type=function(){return"http"},n.id=l("id",function(t){c(Ji(r,"")).then(function(t){return t.json()}).then(function(e){var n=e&&e.uuid?e.uuid+r.db:Yi(r,"");t(null,n)}).catch(function(e){t(e)})}),n.compact=l("compact",function(t,e){"function"===typeof t&&(e=t,t={}),t=S(t),h(Yi(r,"_compact"),{method:"POST"}).then(function(){function i(){n.info(function(n,r){r&&!r.compact_running?e(null,{ok:!0}):setTimeout(i,t.interval||200)})}i()})}),n.bulkGet=x("bulkGet",function(t,e){var n=this;function i(e){var n={};t.revs&&(n.revs=!0),t.attachments&&(n.attachments=!0),t.latest&&(n.latest=!0),h(Yi(r,"_bulk_get"+Zi(n)),{method:"POST",body:JSON.stringify({docs:t.docs})}).then(function(n){t.attachments&&t.binary&&n.data.results.forEach(function(t){t.docs.forEach(zi)}),e(null,n.data)}).catch(e)}function o(){var i=$i,r=Math.ceil(t.docs.length/i),o=0,a=new Array(r);function s(t){return function(n,i){a[t]=i.results,++o===r&&e(null,{results:mt(a)})}}for(var u=0;u<r;u++){var c=R(t,["revs","attachments","binary","latest"]);c.docs=t.docs.slice(u*i,Math.min(t.docs.length,(u+1)*i)),U(n,c,s(u))}}var a=Ji(r,""),s=Wi[a];"boolean"!==typeof s?i(function(t,n){t?(Wi[a]=!1,K(t.status,"PouchDB is just detecting if the remote supports the _bulk_get API."),o()):(Wi[a]=!0,e(null,n))}):s?i(e):o()}),n._info=function(t){f().then(function(){return c(Yi(r,""))}).then(function(t){return t.json()}).then(function(e){e.host=Yi(r,""),t(null,e)}).catch(t)},n.fetch=function(t,e){return f().then(function(){return c(Yi(r,t),e)})},n.get=l("get",function(t,e,n){"function"===typeof e&&(n=e,e={}),e=S(e);var o={};function a(t){var n=t._attachments,o=n&&Object.keys(n);if(n&&o.length){var a=o.map(function(t){return function(){return s(t)}});return qi(a,5)}function s(o){var a=n[o],s=Gi(t._id)+"/"+d(o)+"?rev="+t._rev;return c(Yi(r,s)).then(function(t){return"undefined"===typeof i||i.browser?t.blob():t.buffer()}).then(function(t){return e.binary?("undefined"===typeof i||i.browser||(t.type=a.content_type),t):new Promise(function(e){Bt(t,e)})}).then(function(t){delete a.stub,delete a.length,a.data=t})}}function s(t){return Array.isArray(t)?Promise.all(t.map(function(t){if(t.ok)return a(t.ok)})):a(t)}e.revs&&(o.revs=!0),e.revs_info&&(o.revs_info=!0),e.latest&&(o.latest=!0),e.open_revs&&("all"!==e.open_revs&&(e.open_revs=JSON.stringify(e.open_revs)),o.open_revs=e.open_revs),e.rev&&(o.rev=e.rev),e.conflicts&&(o.conflicts=e.conflicts),e.update_seq&&(o.update_seq=e.update_seq),t=Gi(t);var u=Yi(r,t+Zi(o));h(u).then(function(t){return Promise.resolve().then(function(){if(e.attachments)return s(t.data)}).then(function(){n(null,t.data)})}).catch(function(e){e.docId=t,n(e)})}),n.remove=l("remove",function(t,e,n,i){var o;"string"===typeof e?(o={_id:t,_rev:e},"function"===typeof n&&(i=n,n={})):(o=t,"function"===typeof e?(i=e,n={}):(i=n,n=e));var a=o._rev||n.rev,s=Yi(r,Gi(o._id))+"?rev="+a;h(s,{method:"DELETE"},i).catch(i)}),n.getAttachment=l("getAttachment",function(t,e,n,o){"function"===typeof n&&(o=n,n={});var a,s=n.rev?"?rev="+n.rev:"",u=Yi(r,Gi(t))+"/"+d(e)+s;c(u,{method:"GET"}).then(function(t){if(a=t.headers.get("content-type"),t.ok)return"undefined"===typeof i||i.browser?t.blob():t.buffer();throw t}).then(function(t){"undefined"===typeof i||i.browser||(t.type=a),o(null,t)}).catch(function(t){o(t)})}),n.removeAttachment=l("removeAttachment",function(t,e,n,i){var o=Yi(r,Gi(t)+"/"+d(e))+"?rev="+n;h(o,{method:"DELETE"},i).catch(i)}),n.putAttachment=l("putAttachment",function(t,e,n,i,o,a){"function"===typeof o&&(a=o,o=i,i=n,n=null);var s=Gi(t)+"/"+d(e),u=Yi(r,s);if(n&&(u+="?rev="+n),"string"===typeof i){var c;try{c=Pt(i)}catch(l){return a(ft(rt,"Attachment is not a valid base64 string"))}i=c?Dt(c,o):""}h(u,{headers:new Me({"Content-Type":o}),method:"PUT",body:i},a).catch(a)}),n._bulkDocs=function(t,e,n){t.new_edits=e.new_edits,f().then(function(){return Promise.all(t.docs.map(Ki))}).then(function(){return h(Yi(r,"_bulk_docs"),{method:"POST",body:JSON.stringify(t)},n)}).catch(n)},n._put=function(t,e,n){f().then(function(){return Ki(t)}).then(function(){return h(Yi(r,Gi(t._id)),{method:"PUT",body:JSON.stringify(t)})}).then(function(t){n(null,t.data)}).catch(function(e){e.docId=t&&t._id,n(e)})},n.allDocs=l("allDocs",function(t,e){"function"===typeof t&&(e=t,t={}),t=S(t);var n,i={},o="GET";t.conflicts&&(i.conflicts=!0),t.update_seq&&(i.update_seq=!0),t.descending&&(i.descending=!0),t.include_docs&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.key&&(i.key=JSON.stringify(t.key)),t.start_key&&(t.startkey=t.start_key),t.startkey&&(i.startkey=JSON.stringify(t.startkey)),t.end_key&&(t.endkey=t.end_key),t.endkey&&(i.endkey=JSON.stringify(t.endkey)),"undefined"!==typeof t.inclusive_end&&(i.inclusive_end=!!t.inclusive_end),"undefined"!==typeof t.limit&&(i.limit=t.limit),"undefined"!==typeof t.skip&&(i.skip=t.skip);var a=Zi(i);"undefined"!==typeof t.keys&&(o="POST",n={keys:t.keys}),h(Yi(r,"_all_docs"+a),{method:o,body:JSON.stringify(n)}).then(function(n){t.include_docs&&t.attachments&&t.binary&&n.data.rows.forEach(zi),e(null,n.data)}).catch(e)}),n._changes=function(t){var e="batch_size"in t?t.batch_size:Ui;t=S(t),!t.continuous||"heartbeat"in t||(t.heartbeat=Hi);var n="timeout"in t?t.timeout:3e4;"timeout"in t&&t.timeout&&n-t.timeout<Vi&&(n=t.timeout+Vi),"heartbeat"in t&&t.heartbeat&&n-t.heartbeat<Vi&&(n=t.heartbeat+Vi);var i={};"timeout"in t&&t.timeout&&(i.timeout=t.timeout);var o="undefined"!==typeof t.limit&&t.limit,a=o;if(t.style&&(i.style=t.style),(t.include_docs||t.filter&&"function"===typeof t.filter)&&(i.include_docs=!0),t.attachments&&(i.attachments=!0),t.continuous&&(i.feed="longpoll"),t.seq_interval&&(i.seq_interval=t.seq_interval),t.conflicts&&(i.conflicts=!0),t.descending&&(i.descending=!0),t.update_seq&&(i.update_seq=!0),"heartbeat"in t&&t.heartbeat&&(i.heartbeat=t.heartbeat),t.filter&&"string"===typeof t.filter&&(i.filter=t.filter),t.view&&"string"===typeof t.view&&(i.filter="_view",i.view=t.view),t.query_params&&"object"===typeof t.query_params)for(var u in t.query_params)t.query_params.hasOwnProperty(u)&&(i[u]=t.query_params[u]);var c,l="GET";t.doc_ids?(i.filter="_doc_ids",l="POST",c={doc_ids:t.doc_ids}):t.selector&&(i.filter="_selector",l="POST",c={selector:t.selector});var d,p=new De,v=function(n,s){if(!t.aborted){i.since=n,"object"===typeof i.since&&(i.since=JSON.stringify(i.since)),t.descending?o&&(i.limit=a):i.limit=!o||a>e?e:a;var u=Yi(r,"_changes"+Zi(i)),v={signal:p.signal,method:l,body:JSON.stringify(c)};d=n,t.aborted||f().then(function(){return h(u,v,s)}).catch(s)}},m={results:[]},g=function(n,i){if(!t.aborted){var r=0;if(i&&i.results){r=i.results.length,m.last_seq=i.last_seq;var u=null,c=null;"number"===typeof i.pending&&(u=i.pending),"string"!==typeof m.last_seq&&"number"!==typeof m.last_seq||(c=m.last_seq);var l={};l.query=t.query_params,i.results=i.results.filter(function(e){a--;var n=vt(t)(e);return n&&(t.include_docs&&t.attachments&&t.binary&&zi(e),t.return_docs&&m.results.push(e),t.onChange(e,u,c)),n})}else if(n)return t.aborted=!0,void t.complete(n);i&&i.last_seq&&(d=i.last_seq);var h=o&&a<=0||i&&r<e||t.descending;(!t.continuous||o&&a<=0)&&h?t.complete(null,m):s()(function(){v(d,g)})}};return v(t.since||0,g),{cancel:function(){t.aborted=!0,p.abort()}}},n.revsDiff=l("revsDiff",function(t,e,n){"function"===typeof e&&(n=e,e={}),h(Yi(r,"_revs_diff"),{method:"POST",body:JSON.stringify(t)},n).catch(n)}),n._close=function(t){t()},n._destroy=function(t,e){h(Yi(r,""),{method:"DELETE"}).then(function(t){e(null,t)}).catch(function(t){404===t.status?e(null,{ok:!0}):e(t)})}}function nr(t){t.adapter("http",er,!1),t.adapter("https",er,!1)}function ir(t){this.status=400,this.name="query_parse_error",this.message=t,this.error=!0;try{Error.captureStackTrace(this,ir)}catch(po){}}function rr(t){this.status=404,this.name="not_found",this.message=t,this.error=!0;try{Error.captureStackTrace(this,rr)}catch(po){}}function or(t){this.status=500,this.name="invalid_value",this.message=t,this.error=!0;try{Error.captureStackTrace(this,or)}catch(po){}}function ar(t,e){return e&&t.then(function(t){s()(function(){e(null,t)})},function(t){s()(function(){e(t)})}),t}function sr(t){return o()(function(e){var n=e.pop(),i=t.apply(this,e);return"function"===typeof n&&ar(i,n),i})}function ur(t,e){return t.then(function(t){return e().then(function(){return t})},function(t){return e().then(function(){throw t})})}function cr(t,e){return function(){var n=arguments,i=this;return t.add(function(){return e.apply(i,n)})}}function lr(t){var e=new b(t),n=new Array(e.size),i=-1;return e.forEach(function(t){n[++i]=t}),n}function hr(t){var e=new Array(t.size),n=-1;return t.forEach(function(t,i){e[++n]=i}),e}function fr(t){var e="builtin "+t+" function requires map values to be numbers or number arrays";return new or(e)}function dr(t){for(var e=0,n=0,i=t.length;n<i;n++){var r=t[n];if("number"!==typeof r){if(!Array.isArray(r))throw fr("_sum");e="number"===typeof e?[e]:e;for(var o=0,a=r.length;o<a;o++){var s=r[o];if("number"!==typeof s)throw fr("_sum");"undefined"===typeof e[o]?e.push(s):e[o]+=s}}else"number"===typeof e?e+=r:e[0]+=r}return e}er.valid=function(){return!0},l()(ir,Error),l()(rr,Error),l()(or,Error);var pr=W.bind(null,"log"),vr=Array.isArray,mr=JSON.parse;function gr(t,e){return Tt("return ("+t.replace(/;\s*$/,"")+");",{emit:e,sum:dr,log:pr,isArray:vr,toJSON:mr})}function _r(){this.promise=new Promise(function(t){t()})}function yr(t){if(!t)return"undefined";switch(typeof t){case"function":return t.toString();case"string":return t.toString();default:return JSON.stringify(t)}}function br(t,e){return yr(t)+yr(e)+"undefined"}function wr(t,e,n,i,r,o){var a,s=br(n,i);if(!r&&(a=t._cachedViews=t._cachedViews||{},a[s]))return a[s];var u=t.info().then(function(u){var c=u.db_name+"-mrview-"+(r?"temp":Kt(s));function l(t){t.views=t.views||{};var n=e;-1===n.indexOf("/")&&(n=e+"/"+e);var i=t.views[n]=t.views[n]||{};if(!i[c])return i[c]=!0,t}return Ot(t,"_local/"+o,l).then(function(){return t.registerDependentDatabase(c).then(function(e){var r=e.db;r.auto_compaction=!0;var o={name:c,db:r,sourceDB:t,adapter:t.adapter,mapFun:n,reduceFun:i};return o.db.get("_local/lastSeq").catch(function(t){if(404!==t.status)throw t}).then(function(t){return o.seq=t?t.seq:0,a&&o.db.once("destroyed",function(){delete a[s]}),o})})})});return a&&(a[s]=u),u}_r.prototype.add=function(t){return this.promise=this.promise.catch(function(){}).then(function(){return t()}),this.promise},_r.prototype.finish=function(){return this.promise};var kr={},Er=new _r,Cr=50;function Sr(t){return-1===t.indexOf("/")?[t,t]:t.split("/")}function Ar(t){return 1===t.length&&/^1-/.test(t[0].rev)}function Tr(t,e){try{t.emit("error",e)}catch(n){W("error","The user's map/reduce function threw an uncaught error.\nYou can debug this error by doing:\nmyDatabase.on('error', function (err) { debugger; });\nPlease double-check your map/reduce function."),W("error",e)}}function Or(t,e,n,i){function r(t,e,n){try{e(n)}catch(po){Tr(t,po)}}function o(t,e,n,i,r){try{return{output:e(n,i,r)}}catch(po){return Tr(t,po),{error:po}}}function a(t,e){var n=on(t.key,e.key);return 0!==n?n:on(t.value,e.value)}function u(t,e,n){return n=n||0,"number"===typeof e?t.slice(n,e+n):n>0?t.slice(n):t}function c(t){var e=t.value,n=e&&"object"===typeof e&&e._id||t.id;return n}function l(t){t.rows.forEach(function(t){var e=t.doc&&t.doc._attachments;e&&Object.keys(e).forEach(function(t){var n=e[t];e[t].data=Rt(n.data,n.content_type)})})}function h(t){return function(e){return t.include_docs&&t.attachments&&t.binary&&l(e),e}}function f(t,e,n,i){var r=e[t];"undefined"!==typeof r&&(i&&(r=encodeURIComponent(JSON.stringify(r))),n.push(t+"="+r))}function d(t){if("undefined"!==typeof t){var e=Number(t);return isNaN(e)||e!==parseInt(t,10)?t:e}}function p(t){return t.group_level=d(t.group_level),t.limit=d(t.limit),t.skip=d(t.skip),t}function v(t){if(t){if("number"!==typeof t)return new ir('Invalid value for integer: "'+t+'"');if(t<0)return new ir('Invalid value for positive integer: "'+t+'"')}}function m(t,e){var n=t.descending?"endkey":"startkey",i=t.descending?"startkey":"endkey";if("undefined"!==typeof t[n]&&"undefined"!==typeof t[i]&&on(t[n],t[i])>0)throw new ir("No rows can match your key range, reverse your start_key and end_key or set {descending : true}");if(e.reduce&&!1!==t.reduce){if(t.include_docs)throw new ir("{include_docs:true} is invalid for reduce");if(t.keys&&t.keys.length>1&&!t.group&&!t.group_level)throw new ir("Multi-key fetches for reduce views must use {group: true}")}["group_level","limit","skip"].forEach(function(e){var n=v(t[e]);if(n)throw n})}function g(t,e,n){var i,r,o,a=[],s="GET";if(f("reduce",n,a),f("include_docs",n,a),f("attachments",n,a),f("limit",n,a),f("descending",n,a),f("group",n,a),f("group_level",n,a),f("skip",n,a),f("stale",n,a),f("conflicts",n,a),f("startkey",n,a,!0),f("start_key",n,a,!0),f("endkey",n,a,!0),f("end_key",n,a,!0),f("inclusive_end",n,a),f("key",n,a,!0),f("update_seq",n,a),a=a.join("&"),a=""===a?"":"?"+a,"undefined"!==typeof n.keys){var u=2e3,c="keys="+encodeURIComponent(JSON.stringify(n.keys));c.length+a.length+1<=u?a+=("?"===a[0]?"&":"?")+c:(s="POST","string"===typeof e?i={keys:n.keys}:e.keys=n.keys)}if("string"===typeof e){var l=Sr(e);return t.fetch("_design/"+l[0]+"/_view/"+l[1]+a,{headers:new Me({"Content-Type":"application/json"}),method:s,body:JSON.stringify(i)}).then(function(t){return r=t.ok,o=t.status,t.json()}).then(function(t){if(!r)throw t.status=o,dt(t);return t.rows.forEach(function(t){if(t.value&&t.value.error&&"builtin_reduce_error"===t.value.error)throw new Error(t.reason)}),t}).then(h(n))}return i=i||{},Object.keys(e).forEach(function(t){Array.isArray(e[t])?i[t]=e[t]:i[t]=e[t].toString()}),t.fetch("_temp_view"+a,{headers:new Me({"Content-Type":"application/json"}),method:"POST",body:JSON.stringify(i)}).then(function(t){return r=t.ok,o=t.status,t.json()}).then(function(t){if(!r)throw t.status=o,dt(t);return t}).then(h(n))}function _(t,e,n){return new Promise(function(i,r){t._query(e,n,function(t,e){if(t)return r(t);i(e)})})}function y(t){return new Promise(function(e,n){t._viewCleanup(function(t,i){if(t)return n(t);e(i)})})}function k(t){return function(e){if(404===e.status)return t;throw e}}function E(t,e,n){var i="_local/doc_"+t,r={_id:i,keys:[]},o=n.get(t),a=o[0],s=o[1];function u(){return Ar(s)?Promise.resolve(r):e.db.get(i).catch(k(r))}function c(t){return t.keys.length?e.db.allDocs({keys:t.keys,include_docs:!0}):Promise.resolve({rows:[]})}function l(t,e){for(var n=[],i=new b,r=0,o=e.rows.length;r<o;r++){var s=e.rows[r],u=s.doc;if(u&&(n.push(u),i.add(u._id),u._deleted=!a.has(u._id),!u._deleted)){var c=a.get(u._id);"value"in c&&(u.value=c.value)}}var l=hr(a);return l.forEach(function(t){if(!i.has(t)){var e={_id:t},r=a.get(t);"value"in r&&(e.value=r.value),n.push(e)}}),t.keys=lr(l.concat(t.keys)),n.push(t),n}return u().then(function(t){return c(t).then(function(e){return l(t,e)})})}function C(t,e,n){var i="_local/lastSeq";return t.db.get(i).catch(k({_id:i,seq:0})).then(function(i){var r=hr(e);return Promise.all(r.map(function(n){return E(n,t,e)})).then(function(e){var r=mt(e);return i.seq=n,r.push(i),t.db.bulkDocs({docs:r})})})}function S(t){var e="string"===typeof t?t:t.name,n=kr[e];return n||(n=kr[e]=new _r),n}function A(t){return cr(S(t),function(){return T(t)})()}function T(t){var n,i;function o(t,e){var r={id:i._id,key:an(t)};"undefined"!==typeof e&&null!==e&&(r.value=an(e)),n.push(r)}var s=e(t.mapFun,o),u=t.seq||0;function c(e,n){return function(){return C(t,e,n)}}var l=new _r;function h(){return t.sourceDB.changes({return_docs:!0,conflicts:!0,include_docs:!0,style:"all_docs",since:u,limit:Cr}).then(f)}function f(t){var e=t.results;if(e.length){var n=d(e);if(l.add(c(n,u)),!(e.length<Cr))return h()}}function d(e){for(var o=new w,c=0,l=e.length;c<l;c++){var h=e[c];if("_"!==h.doc._id[0]){n=[],i=h.doc,i._deleted||r(t.sourceDB,s,i),n.sort(a);var f=p(n);o.set(h.doc._id,[f,h.changes])}u=h.seq}return o}function p(t){for(var e,n=new w,i=0,r=t.length;i<r;i++){var o=t[i],a=[o.key,o.id];i>0&&0===on(o.key,e)&&a.push(i),n.set(un(a),o),e=o.key}return n}return h().then(function(){return l.finish()}).then(function(){t.seq=u})}function O(t,e,i){0===i.group_level&&delete i.group_level;var r=i.group||i.group_level,a=n(t.reduceFun),s=[],c=isNaN(i.group_level)?Number.POSITIVE_INFINITY:i.group_level;e.forEach(function(t){var e=s[s.length-1],n=r?t.key:null;if(r&&Array.isArray(n)&&(n=n.slice(0,c)),e&&0===on(e.groupKey,n))return e.keys.push([t.key,t.id]),void e.values.push(t.value);s.push({keys:[[t.key,t.id]],values:[t.value],groupKey:n})}),e=[];for(var l=0,h=s.length;l<h;l++){var f=s[l],d=o(t.sourceDB,a,f.keys,f.values,!1);if(d.error&&d.error instanceof or)throw d.error;e.push({value:d.error?null:d.output,key:f.groupKey})}return{rows:u(e,i.limit,i.skip)}}function x(t,e){return cr(S(t),function(){return P(t,e)})()}function P(t,e){var n,i=t.reduceFun&&!1!==e.reduce,r=e.skip||0;function o(e){return e.include_docs=!0,t.db.allDocs(e).then(function(t){return n=t.total_rows,t.rows.map(function(t){if("value"in t.doc&&"object"===typeof t.doc.value&&null!==t.doc.value){var e=Object.keys(t.doc.value).sort(),n=["id","key","value"];if(!(e<n||e>n))return t.doc.value}var i=hn(t.doc._id);return{key:i[0],id:i[1],value:"value"in t.doc?t.doc.value:null}})})}function a(o){var a;if(a=i?O(t,o,e):{total_rows:n,offset:r,rows:o},e.update_seq&&(a.update_seq=t.seq),e.include_docs){var s=lr(o.map(c));return t.sourceDB.allDocs({keys:s,include_docs:!0,conflicts:e.conflicts,attachments:e.attachments,binary:e.binary}).then(function(t){var e=new w;return t.rows.forEach(function(t){e.set(t.id,t.doc)}),o.forEach(function(t){var n=c(t),i=e.get(n);i&&(t.doc=i)}),a})}return a}if("undefined"===typeof e.keys||e.keys.length||(e.limit=0,delete e.keys),"undefined"!==typeof e.keys){var s=e.keys,u=s.map(function(t){var n={startkey:un([t]),endkey:un([t,{}])};return e.update_seq&&(n.update_seq=!0),o(n)});return Promise.all(u).then(mt).then(a)}var l,h,f={descending:e.descending};if(e.update_seq&&(f.update_seq=!0),"start_key"in e&&(l=e.start_key),"startkey"in e&&(l=e.startkey),"end_key"in e&&(h=e.end_key),"endkey"in e&&(h=e.endkey),"undefined"!==typeof l&&(f.startkey=e.descending?un([l,{}]):un([l])),"undefined"!==typeof h){var d=!1!==e.inclusive_end;e.descending&&(d=!d),f.endkey=un(d?[h,{}]:[h])}if("undefined"!==typeof e.key){var p=un([e.key]),v=un([e.key,{}]);f.descending?(f.endkey=p,f.startkey=v):(f.startkey=p,f.endkey=v)}return i||("number"===typeof e.limit&&(f.limit=e.limit),f.skip=r),o(f).then(a)}function I(t){return t.fetch("_view_cleanup",{headers:new Me({"Content-Type":"application/json"}),method:"POST"}).then(function(t){return t.json()})}function N(e){return e.get("_local/"+t).then(function(t){var n=new w;Object.keys(t.views).forEach(function(t){var e=Sr(t),i="_design/"+e[0],r=e[1],o=n.get(i);o||(o=new b,n.set(i,o)),o.add(r)});var i={keys:hr(n),include_docs:!0};return e.allDocs(i).then(function(i){var r={};i.rows.forEach(function(e){var i=e.key.substring(8);n.get(e.key).forEach(function(n){var o=i+"/"+n;t.views[o]||(o=n);var a=Object.keys(t.views[o]),s=e.doc&&e.doc.views&&e.doc.views[n];a.forEach(function(t){r[t]=r[t]||s})})});var o=Object.keys(r).filter(function(t){return!r[t]}),a=o.map(function(t){return cr(S(t),function(){return new e.constructor(t,e.__opts).destroy()})()});return Promise.all(a).then(function(){return{ok:!0}})})},k({ok:!0}))}function L(e,n,r){if("function"===typeof e._query)return _(e,n,r);if(_t(e))return g(e,n,r);if("string"!==typeof n)return m(r,n),Er.add(function(){var i=wr(e,"temp_view/temp_view",n.map,n.reduce,!0,t);return i.then(function(t){return ur(A(t).then(function(){return x(t,r)}),function(){return t.db.destroy()})})}),Er.finish();var o=n,a=Sr(o),u=a[0],c=a[1];return e.get("_design/"+u).then(function(n){var a=n.views&&n.views[c];if(!a)throw new rr("ddoc "+n._id+" has no view named "+c);i(n,c),m(r,a);var u=wr(e,o,a.map,a.reduce,!1,t);return u.then(function(t){return"ok"===r.stale||"update_after"===r.stale?("update_after"===r.stale&&s()(function(){A(t)}),x(t,r)):A(t).then(function(){return x(t,r)})})})}function D(t,e,n){var i=this;"function"===typeof e&&(n=e,e={}),e=e?p(e):{},"function"===typeof t&&(t={map:t});var r=Promise.resolve().then(function(){return L(i,t,e)});return ar(r,n),r}var R=sr(function(){var t=this;return"function"===typeof t._viewCleanup?y(t):_t(t)?I(t):N(t)});return{query:D,viewCleanup:R}}var xr={_sum:function(t,e){return dr(e)},_count:function(t,e){return e.length},_stats:function(t,e){function n(t){for(var e=0,n=0,i=t.length;n<i;n++){var r=t[n];e+=r*r}return e}return{sum:dr(e),min:Math.min.apply(null,e),max:Math.max.apply(null,e),count:e.length,sumsqr:n(e)}}};function Pr(t){if(/^_sum/.test(t))return xr._sum;if(/^_count/.test(t))return xr._count;if(/^_stats/.test(t))return xr._stats;if(/^_/.test(t))throw new Error(t+" is not a supported reduce function.")}function Ir(t,e){if("function"===typeof t&&2===t.length){var n=t;return function(t){return n(t,e)}}return gr(t.toString(),e)}function Nr(t){var e=t.toString(),n=Pr(e);return n||gr(e)}function Lr(t,e){var n=t.views&&t.views[e];if("string"!==typeof n.map)throw new rr("ddoc "+t._id+" has no string view named "+e+", instead found object of type: "+typeof n.map)}var Dr="mrviews",Rr=Or(Dr,Ir,Nr,Lr);function Mr(t,e,n){return Rr.query.call(this,t,e,n)}function jr(t){return Rr.viewCleanup.call(this,t)}var Fr={query:Mr,viewCleanup:jr};function Br(t){return/^1-/.test(t)}function qr(t,e,n){return!t._attachments||!t._attachments[n]||t._attachments[n].digest!==e._attachments[n].digest}function Ur(t,e){var n=Object.keys(e._attachments);return Promise.all(n.map(function(n){return t.getAttachment(e._id,n,{rev:e._rev})}))}function $r(t,e,n){var i=_t(e)&&!_t(t),r=Object.keys(n._attachments);return i?t.get(n._id).then(function(i){return Promise.all(r.map(function(r){return qr(i,n,r)?e.getAttachment(n._id,r):t.getAttachment(i._id,r)}))}).catch(function(t){if(404!==t.status)throw t;return Ur(e,n)}):Ur(e,n)}function Vr(t){var e=[];return Object.keys(t).forEach(function(n){var i=t[n].missing;i.forEach(function(t){e.push({id:n,rev:t})})}),{docs:e,revs:!0,latest:!0}}function Hr(t,e,n,i){n=S(n);var r=[],o=!0;function a(){var a=Vr(n);if(a.docs.length)return t.bulkGet(a).then(function(n){if(i.cancelled)throw new Error("cancelled");return Promise.all(n.results.map(function(n){return Promise.all(n.docs.map(function(n){var i=n.ok;return n.error&&(o=!1),i&&i._attachments?$r(e,t,i).then(function(t){var e=Object.keys(i._attachments);return t.forEach(function(t,n){var r=i._attachments[e[n]];delete r.stub,delete r.length,r.data=t}),i}):i}))})).then(function(t){r=r.concat(mt(t).filter(Boolean))})})}function s(t){return t._attachments&&Object.keys(t._attachments).length>0}function u(t){return t._conflicts&&t._conflicts.length>0}function c(e){return t.allDocs({keys:e,include_docs:!0,conflicts:!0}).then(function(t){if(i.cancelled)throw new Error("cancelled");t.rows.forEach(function(t){t.deleted||!t.doc||!Br(t.value.rev)||s(t.doc)||u(t.doc)||(t.doc._conflicts&&delete t.doc._conflicts,r.push(t.doc),delete n[t.id])})})}function l(){var t=Object.keys(n).filter(function(t){var e=n[t].missing;return 1===e.length&&Br(e[0])});if(t.length>0)return c(t)}function h(){return{ok:o,docs:r}}return Promise.resolve().then(l).then(a).then(h)}var Wr=1,zr="pouchdb",Gr=5,Kr=0;function Qr(t,e,n,i,r){return t.get(e).catch(function(n){if(404===n.status)return"http"!==t.adapter&&"https"!==t.adapter||K(404,"PouchDB is just checking if a remote checkpoint exists."),{session_id:i,_id:e,history:[],replicator:zr,version:Wr};throw n}).then(function(o){if(!r.cancelled&&o.last_seq!==n)return o.history=(o.history||[]).filter(function(t){return t.session_id!==i}),o.history.unshift({last_seq:n,session_id:i}),o.history=o.history.slice(0,Gr),o.version=Wr,o.replicator=zr,o.session_id=i,o.last_seq=n,t.put(o).catch(function(o){if(409===o.status)return Qr(t,e,n,i,r);throw o})})}function Xr(t,e,n,i,r){this.src=t,this.target=e,this.id=n,this.returnValue=i,this.opts=r||{}}Xr.prototype.writeCheckpoint=function(t,e){var n=this;return this.updateTarget(t,e).then(function(){return n.updateSource(t,e)})},Xr.prototype.updateTarget=function(t,e){return this.opts.writeTargetCheckpoint?Qr(this.target,this.id,t,e,this.returnValue):Promise.resolve(!0)},Xr.prototype.updateSource=function(t,e){if(this.opts.writeSourceCheckpoint){var n=this;return Qr(this.src,this.id,t,e,this.returnValue).catch(function(t){if(eo(t))return n.opts.writeSourceCheckpoint=!1,!0;throw t})}return Promise.resolve(!0)};var Yr={undefined:function(t,e){return 0===on(t.last_seq,e.last_seq)?e.last_seq:0},1:function(t,e){return Jr(e,t).last_seq}};function Jr(t,e){return t.session_id===e.session_id?{last_seq:t.last_seq,history:t.history}:Zr(t.history,e.history)}function Zr(t,e){var n=t[0],i=t.slice(1),r=e[0],o=e.slice(1);if(!n||0===e.length)return{last_seq:Kr,history:[]};var a=n.session_id;if(to(a,e))return{last_seq:n.last_seq,history:t};var s=r.session_id;return to(s,i)?{last_seq:r.last_seq,history:o}:Zr(i,o)}function to(t,e){var n=e[0],i=e.slice(1);return!(!t||0===e.length)&&(t===n.session_id||to(t,i))}function eo(t){return"number"===typeof t.status&&4===Math.floor(t.status/100)}Xr.prototype.getCheckpoint=function(){var t=this;return t.opts&&t.opts.writeSourceCheckpoint&&!t.opts.writeTargetCheckpoint?t.src.get(t.id).then(function(t){return t.last_seq||Kr}).catch(function(t){if(404!==t.status)throw t;return Kr}):t.target.get(t.id).then(function(e){return t.opts&&t.opts.writeTargetCheckpoint&&!t.opts.writeSourceCheckpoint?e.last_seq||Kr:t.src.get(t.id).then(function(t){return e.version!==t.version?Kr:(n=e.version?e.version.toString():"undefined",n in Yr?Yr[n](e,t):Kr);var n},function(n){if(404===n.status&&e.last_seq)return t.src.put({_id:t.id,last_seq:Kr}).then(function(){return Kr},function(n){return eo(n)?(t.opts.writeSourceCheckpoint=!1,e.last_seq):Kr});throw n})}).catch(function(t){if(404!==t.status)throw t;return Kr})};var no=0;function io(t,e,n,i){if(!1===t.retry)return e.emit("error",n),void e.removeAllListeners();if("function"!==typeof t.back_off_function&&(t.back_off_function=G),e.emit("requestError",n),"active"===e.state||"pending"===e.state){e.emit("paused",n),e.state="stopped";var r=function(){t.current_back_off=no},o=function(){e.removeListener("active",r)};e.once("paused",o),e.once("active",r)}t.current_back_off=t.current_back_off||no,t.current_back_off=t.back_off_function(t.current_back_off),setTimeout(i,t.current_back_off)}function ro(t){return Object.keys(t).sort(on).reduce(function(e,n){return e[n]=t[n],e},{})}function oo(t,e,n){var i=n.doc_ids?n.doc_ids.sort(on):"",r=n.filter?n.filter.toString():"",o="",a="",s="";return n.selector&&(s=JSON.stringify(n.selector)),n.filter&&n.query_params&&(o=JSON.stringify(ro(n.query_params))),n.filter&&"_view"===n.filter&&(a=n.view.toString()),Promise.all([t.id(),e.id()]).then(function(t){var e=t[0]+t[1]+r+a+o+i+s;return new Promise(function(t){Gt(e,t)})}).then(function(t){return t=t.replace(/\//g,".").replace(/\+/g,"_"),"_local/"+t})}function ao(t,e,n,i,r){var o,a,u,c=[],l={seq:0,changes:[],docs:[]},h=!1,f=!1,d=!1,p=0,v=n.continuous||n.live||!1,m=n.batch_size||100,g=n.batches_limit||10,_=!1,y=n.doc_ids,b=n.selector,w=[],k=Xt();r=r||{ok:!0,start_time:(new Date).toISOString(),docs_read:0,docs_written:0,doc_write_failures:0,errors:[]};var E={};function C(){return u?Promise.resolve():oo(t,e,n).then(function(r){a=r;var o={};o=!1===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!1}:"source"===n.checkpoint?{writeSourceCheckpoint:!0,writeTargetCheckpoint:!1}:"target"===n.checkpoint?{writeSourceCheckpoint:!1,writeTargetCheckpoint:!0}:{writeSourceCheckpoint:!0,writeTargetCheckpoint:!0},u=new Xr(t,e,a,i,o)})}function A(){if(w=[],0!==o.docs.length){var t=o.docs,a={timeout:n.timeout};return e.bulkDocs({docs:t,new_edits:!1},a).then(function(e){if(i.cancelled)throw L(),new Error("cancelled");var n=Object.create(null);e.forEach(function(t){t.error&&(n[t.id]=t)});var o=Object.keys(n).length;r.doc_write_failures+=o,r.docs_written+=t.length-o,t.forEach(function(t){var e=n[t._id];if(e){r.errors.push(e);var o=(e.name||"").toLowerCase();if("unauthorized"!==o&&"forbidden"!==o)throw e;i.emit("denied",S(e))}else w.push(t)})},function(e){throw r.doc_write_failures+=t.length,e})}}function T(){if(o.error)throw new Error("There was a problem getting docs.");r.last_seq=p=o.seq;var t=S(r);return w.length&&(t.docs=w,"number"===typeof o.pending&&(t.pending=o.pending,delete o.pending),i.emit("change",t)),h=!0,u.writeCheckpoint(o.seq,k).then(function(){if(h=!1,i.cancelled)throw L(),new Error("cancelled");o=void 0,j()}).catch(function(t){throw B(t),t})}function O(){var t={};return o.changes.forEach(function(e){"_user/"!==e.id&&(t[e.id]=e.changes.map(function(t){return t.rev}))}),e.revsDiff(t).then(function(t){if(i.cancelled)throw L(),new Error("cancelled");o.diffs=t})}function x(){return Hr(t,e,o.diffs,i).then(function(t){o.error=!t.ok,t.docs.forEach(function(t){delete o.diffs[t._id],r.docs_read++,o.docs.push(t)})})}function P(){i.cancelled||o||(0!==c.length?(o=c.shift(),O().then(x).then(A).then(T).then(P).catch(function(t){N("batch processing terminated with error",t)})):I(!0))}function I(t){0!==l.changes.length?(t||f||l.changes.length>=m)&&(c.push(l),l={seq:0,changes:[],docs:[]},"pending"!==i.state&&"stopped"!==i.state||(i.state="active",i.emit("active")),P()):0!==c.length||o||((v&&E.live||f)&&(i.state="pending",i.emit("paused")),f&&L())}function N(t,e){d||(e.message||(e.message=t),r.ok=!1,r.status="aborting",c=[],l={seq:0,changes:[],docs:[]},L(e))}function L(o){if(!d&&(!i.cancelled||(r.status="cancelled",!h)))if(r.status=r.status||"complete",r.end_time=(new Date).toISOString(),r.last_seq=p,d=!0,o){o=ft(o),o.result=r;var a=(o.name||"").toLowerCase();"unauthorized"===a||"forbidden"===a?(i.emit("error",o),i.removeAllListeners()):io(n,i,o,function(){ao(t,e,n,i)})}else i.emit("complete",r),i.removeAllListeners()}function D(t,e,r){if(i.cancelled)return L();"number"===typeof e&&(l.pending=e);var o=vt(n)(t);o&&(l.seq=t.seq||r,l.changes.push(t),s()(function(){I(0===c.length&&E.live)}))}function R(t){if(_=!1,i.cancelled)return L();if(t.results.length>0)E.since=t.results[t.results.length-1].seq,j(),I(!0);else{var e=function(){v?(E.live=!0,j()):f=!0,I(!0)};o||0!==t.results.length?e():(h=!0,u.writeCheckpoint(t.last_seq,k).then(function(){h=!1,r.last_seq=p=t.last_seq,e()}).catch(B))}}function M(t){if(_=!1,i.cancelled)return L();N("changes rejected",t)}function j(){if(!_&&!f&&c.length<g){_=!0,i._changes&&(i.removeListener("cancel",i._abortChanges),i._changes.cancel()),i.once("cancel",r);var e=t.changes(E).on("change",D);e.then(o,o),e.then(R).catch(M),n.retry&&(i._changes=e,i._abortChanges=r)}function r(){e.cancel()}function o(){i.removeListener("cancel",r)}}function F(){C().then(function(){if(!i.cancelled)return u.getCheckpoint().then(function(t){p=t,E={since:p,limit:m,batch_size:m,style:"all_docs",doc_ids:y,selector:b,return_docs:!0},n.filter&&("string"!==typeof n.filter?E.include_docs=!0:E.filter=n.filter),"heartbeat"in n&&(E.heartbeat=n.heartbeat),"timeout"in n&&(E.timeout=n.timeout),n.query_params&&(E.query_params=n.query_params),n.view&&(E.view=n.view),j()});L()}).catch(function(t){N("getCheckpoint rejected with ",t)})}function B(t){h=!1,N("writeCheckpoint completed with error",t)}i.ready(t,e),i.cancelled?L():(i._addedListeners||(i.once("cancel",L),"function"===typeof n.complete&&(i.once("error",n.complete),i.once("complete",function(t){n.complete(null,t)})),i._addedListeners=!0),"undefined"===typeof n.since?F():C().then(function(){return h=!0,u.writeCheckpoint(n.since,k)}).then(function(){h=!1,i.cancelled?L():(p=n.since,F())}).catch(B))}function so(){u["EventEmitter"].call(this),this.cancelled=!1,this.state="pending";var t=this,e=new Promise(function(e,n){t.once("complete",e),t.once("error",n)});t.then=function(t,n){return e.then(t,n)},t.catch=function(t){return e.catch(t)},t.catch(function(){})}function uo(t,e){var n=e.PouchConstructor;return"string"===typeof t?new n(t,e):t}function co(t,e,n,i){if("function"===typeof n&&(i=n,n={}),"undefined"===typeof n&&(n={}),n.doc_ids&&!Array.isArray(n.doc_ids))throw ft(st,"`doc_ids` filter parameter is not a list.");n.complete=i,n=S(n),n.continuous=n.continuous||n.live,n.retry="retry"in n&&n.retry,n.PouchConstructor=n.PouchConstructor||this;var r=new so(n),o=uo(t,n),a=uo(e,n);return ao(o,a,n,r),r}function lo(t,e,n,i){return"function"===typeof n&&(i=n,n={}),"undefined"===typeof n&&(n={}),n=S(n),n.PouchConstructor=n.PouchConstructor||this,t=uo(t,n),e=uo(e,n),new ho(t,e,n,i)}function ho(t,e,n,i){var r=this;this.canceled=!1;var o=n.push?Q({},n,n.push):n,a=n.pull?Q({},n,n.pull):n;function s(t){r.emit("change",{direction:"pull",change:t})}function u(t){r.emit("change",{direction:"push",change:t})}function c(t){r.emit("denied",{direction:"push",doc:t})}function l(t){r.emit("denied",{direction:"pull",doc:t})}function h(){r.pushPaused=!0,r.pullPaused&&r.emit("paused")}function f(){r.pullPaused=!0,r.pushPaused&&r.emit("paused")}function d(){r.pushPaused=!1,r.pullPaused&&r.emit("active",{direction:"push"})}function p(){r.pullPaused=!1,r.pushPaused&&r.emit("active",{direction:"pull"})}this.push=co(t,e,o),this.pull=co(e,t,a),this.pushPaused=!0,this.pullPaused=!0;var v={};function m(t){return function(e,n){var i="change"===e&&(n===s||n===u),o="denied"===e&&(n===l||n===c),a="paused"===e&&(n===f||n===h),m="active"===e&&(n===p||n===d);(i||o||a||m)&&(e in v||(v[e]={}),v[e][t]=!0,2===Object.keys(v[e]).length&&r.removeAllListeners(e))}}function g(t,e,n){-1==t.listeners(e).indexOf(n)&&t.on(e,n)}n.live&&(this.push.on("complete",r.pull.cancel.bind(r.pull)),this.pull.on("complete",r.push.cancel.bind(r.push))),this.on("newListener",function(t){"change"===t?(g(r.pull,"change",s),g(r.push,"change",u)):"denied"===t?(g(r.pull,"denied",l),g(r.push,"denied",c)):"active"===t?(g(r.pull,"active",p),g(r.push,"active",d)):"paused"===t&&(g(r.pull,"paused",f),g(r.push,"paused",h))}),this.on("removeListener",function(t){"change"===t?(r.pull.removeListener("change",s),r.push.removeListener("change",u)):"denied"===t?(r.pull.removeListener("denied",l),r.push.removeListener("denied",c)):"active"===t?(r.pull.removeListener("active",p),r.push.removeListener("active",d)):"paused"===t&&(r.pull.removeListener("paused",f),r.push.removeListener("paused",h))}),this.pull.on("removeListener",m("pull")),this.push.on("removeListener",m("push"));var _=Promise.all([this.push,this.pull]).then(function(t){var e={push:t[0],pull:t[1]};return r.emit("complete",e),i&&i(null,e),r.removeAllListeners(),e},function(t){if(r.cancel(),i?i(t):r.emit("error",t),r.removeAllListeners(),i)throw t});this.then=function(t,e){return _.then(t,e)},this.catch=function(t){return _.catch(t)}}function fo(t){t.replicate=co,t.sync=lo,Object.defineProperty(t.prototype,"replicate",{get:function(){var t=this;return"undefined"===typeof this.replicateMethods&&(this.replicateMethods={from:function(e,n,i){return t.constructor.replicate(e,t,n,i)},to:function(e,n,i){return t.constructor.replicate(t,e,n,i)}}),this.replicateMethods}}),t.prototype.sync=function(t,e,n){return this.constructor.sync(this,t,e,n)}}l()(so,u["EventEmitter"]),so.prototype.cancel=function(){this.cancelled=!0,this.state="cancelled",this.emit("cancel")},so.prototype.ready=function(t,e){var n=this;function i(){n.cancel()}function r(){t.removeListener("destroyed",i),e.removeListener("destroyed",i)}n._readyCalled||(n._readyCalled=!0,t.once("destroyed",i),e.once("destroyed",i),n.once("complete",r))},l()(ho,u["EventEmitter"]),ho.prototype.cancel=function(){this.canceled||(this.canceled=!0,this.push.cancel(),this.pull.cancel())},Le.plugin(Bi).plugin(nr).plugin(Fr).plugin(fo),e["a"]=Le}).call(this,n("c8ba"),n("4362"))},"18cc":function(t,e,n){var i=n("232e"),r=n("9129").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},1928:function(t,e,n){var i=n("f40b"),r=n("96ff"),o=n("50e6");t.exports=function(t){var e=i(t),n=r.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},1982:function(t,e,n){var i=n("cad0"),r=n("c46b");t.exports=n("948a")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},1991:function(t,e,n){var i,r,o,a=n("9b43"),s=n("31f4"),u=n("fab2"),c=n("230e"),l=n("7726"),h=l.process,f=l.setImmediate,d=l.clearImmediate,p=l.MessageChannel,v=l.Dispatch,m=0,g={},_="onreadystatechange",y=function(){var t=+this;if(g.hasOwnProperty(t)){var e=g[t];delete g[t],e()}},b=function(t){y.call(t.data)};f&&d||(f=function(t){var e=[],n=1;while(arguments.length>n)e.push(arguments[n++]);return g[++m]=function(){s("function"==typeof t?t:Function(t),e)},i(m),m},d=function(t){delete g[t]},"process"==n("2d95")(h)?i=function(t){h.nextTick(a(y,t,1))}:v&&v.now?i=function(t){v.now(a(y,t,1))}:p?(r=new p,o=r.port2,r.port1.onmessage=b,i=a(o.postMessage,o,1)):l.addEventListener&&"function"==typeof postMessage&&!l.importScripts?(i=function(t){l.postMessage(t+"","*")},l.addEventListener("message",b,!1)):i=_ in c("script")?function(t){u.appendChild(c("script"))[_]=function(){u.removeChild(this),y.call(t)}}:function(t){setTimeout(a(y,t,1),0)}),t.exports={set:f,clear:d}},"1bc3":function(t,e,n){var i=n("f772");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"1ec9":function(t,e,n){var i=n("f772"),r=n("e53d").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},"1f50":function(t,e,n){var i=n("8187");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"1fa8":function(t,e,n){var i=n("cb7c");t.exports=function(t,e,n,r){try{return r?e(i(n)[0],n[1]):e(n)}catch(a){var o=t["return"];throw void 0!==o&&i(o.call(t)),a}}},"214f":function(t,e,n){"use strict";n("b0c5");var i=n("2aba"),r=n("32e9"),o=n("79e5"),a=n("be13"),s=n("2b4c"),u=n("520a"),c=s("species"),l=!o(function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}),h=function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var n="ab".split(t);return 2===n.length&&"a"===n[0]&&"b"===n[1]}();t.exports=function(t,e,n){var f=s(t),d=!o(function(){var e={};return e[f]=function(){return 7},7!=""[t](e)}),p=d?!o(function(){var e=!1,n=/a/;return n.exec=function(){return e=!0,null},"split"===t&&(n.constructor={},n.constructor[c]=function(){return n}),n[f](""),!e}):void 0;if(!d||!p||"replace"===t&&!l||"split"===t&&!h){var v=/./[f],m=n(a,f,""[t],function(t,e,n,i,r){return e.exec===u?d&&!r?{done:!0,value:v.call(e,n,i)}:{done:!0,value:t.call(n,e,i)}:{done:!1}}),g=m[0],_=m[1];i(String.prototype,t,g),r(RegExp.prototype,f,2==e?function(t,e){return _.call(t,this,e)}:function(t){return _.call(t,this)})}}},2223:function(t,e,n){var i=n("669d");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"230e":function(t,e,n){var i=n("d3f4"),r=n("7726").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},"232e":function(t,e,n){var i=n("8343"),r=n("ad20"),o=n("6ff2")(!1),a=n("89fc")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>u)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},"235a":function(t,e,n){var i=n("aad8"),r=n("02eb"),o=n("1982"),a=n("4c35"),s=n("e821"),u="prototype",c=function(t,e,n){var l,h,f,d,p=t&c.F,v=t&c.G,m=t&c.S,g=t&c.P,_=t&c.B,y=v?i:m?i[e]||(i[e]={}):(i[e]||{})[u],b=v?r:r[e]||(r[e]={}),w=b[u]||(b[u]={});for(l in v&&(n=e),n)h=!p&&y&&void 0!==y[l],f=(h?y:n)[l],d=_&&h?s(f,i):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,t&c.U),b[l]!=f&&o(b,l,d),g&&w[l]!=f&&(w[l]=f)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"23c6":function(t,e,n){var i=n("2d95"),r=n("2b4c")("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"241e":function(t,e,n){var i=n("25eb");t.exports=function(t){return Object(i(t))}},"25eb":function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},2621:function(t,e){e.f=Object.getOwnPropertySymbols},2622:function(t,e,n){"use strict";var i=n("c6b0"),r=n("c46b"),o=n("03ed"),a={};n("1982")(a,n("8d98")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},2629:function(t,e,n){n("2b10"),t.exports=n("02eb").String.repeat},"268f":function(t,e,n){t.exports=n("fde4")},"27ee":function(t,e,n){var i=n("23c6"),r=n("2b4c")("iterator"),o=n("84f2");t.exports=n("8378").getIteratorMethod=function(t){if(void 0!=t)return t[r]||t["@@iterator"]||o[i(t)]}},2813:function(t,e,n){"use strict";var i=n("235a"),r=n("7346"),o=n("7e54"),a="startsWith",s=""[a];i(i.P+i.F*n("b4b7")(a),"String",{startsWith:function(t){var e=o(this,t,a),n=r(Math.min(arguments.length>1?arguments[1]:void 0,e.length)),i=String(t);return s?s.call(e,i,n):e.slice(n,n+i.length)===i}})},2877:function(t,e,n){"use strict";function i(t,e,n,i,r,o,a,s){var u,c="function"===typeof t?t.options:t;if(e&&(c.render=e,c.staticRenderFns=n,c._compiled=!0),i&&(c.functional=!0),o&&(c._scopeId="data-v-"+o),a?(u=function(t){t=t||this.$vnode&&this.$vnode.ssrContext||this.parent&&this.parent.$vnode&&this.parent.$vnode.ssrContext,t||"undefined"===typeof __VUE_SSR_CONTEXT__||(t=__VUE_SSR_CONTEXT__),r&&r.call(this,t),t&&t._registeredComponents&&t._registeredComponents.add(a)},c._ssrRegister=u):r&&(u=s?function(){r.call(this,this.$root.$options.shadowRoot)}:r),u)if(c.functional){c._injectStyles=u;var l=c.render;c.render=function(t,e){return u.call(e),l(t,e)}}else{var h=c.beforeCreate;c.beforeCreate=h?[].concat(h,u):[u]}return{exports:t,options:c}}n.d(e,"a",function(){return i})},"28fa":function(t,e){var n="undefined"!=typeof crypto&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&msCrypto.getRandomValues.bind(msCrypto);if(n){var i=new Uint8Array(16);t.exports=function(){return n(i),i}}else{var r=new Array(16);t.exports=function(){for(var t,e=0;e<16;e++)0===(3&e)&&(t=4294967296*Math.random()),r[e]=t>>>((3&e)<<3)&255;return r}}},"294c":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"2aba":function(t,e,n){var i=n("7726"),r=n("32e9"),o=n("69a8"),a=n("ca5a")("src"),s="toString",u=Function[s],c=(""+u).split(s);n("8378").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},"2aeb":function(t,e,n){var i=n("cb7c"),r=n("1495"),o=n("e11e"),a=n("613b")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("230e")("iframe"),i=o.length,r="<",a=">";e.style.display="none",n("fab2").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[u][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},"2b0e":function(t,e,n){"use strict";(function(t){
/*!
 * Vue.js v2.6.7
 * (c) 2014-2019 Evan You
 * Released under the MIT License.
 */
var n=Object.freeze({});function i(t){return void 0===t||null===t}function r(t){return void 0!==t&&null!==t}function o(t){return!0===t}function a(t){return!1===t}function s(t){return"string"===typeof t||"number"===typeof t||"symbol"===typeof t||"boolean"===typeof t}function u(t){return null!==t&&"object"===typeof t}var c=Object.prototype.toString;function l(t){return"[object Object]"===c.call(t)}function h(t){return"[object RegExp]"===c.call(t)}function f(t){var e=parseFloat(String(t));return e>=0&&Math.floor(e)===e&&isFinite(t)}function d(t){return r(t)&&"function"===typeof t.then&&"function"===typeof t.catch}function p(t){return null==t?"":Array.isArray(t)||l(t)&&t.toString===c?JSON.stringify(t,null,2):String(t)}function v(t){var e=parseFloat(t);return isNaN(e)?t:e}function m(t,e){for(var n=Object.create(null),i=t.split(","),r=0;r<i.length;r++)n[i[r]]=!0;return e?function(t){return n[t.toLowerCase()]}:function(t){return n[t]}}m("slot,component",!0);var g=m("key,ref,slot,slot-scope,is");function _(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var y=Object.prototype.hasOwnProperty;function b(t,e){return y.call(t,e)}function w(t){var e=Object.create(null);return function(n){var i=e[n];return i||(e[n]=t(n))}}var k=/-(\w)/g,E=w(function(t){return t.replace(k,function(t,e){return e?e.toUpperCase():""})}),C=w(function(t){return t.charAt(0).toUpperCase()+t.slice(1)}),S=/\B([A-Z])/g,A=w(function(t){return t.replace(S,"-$1").toLowerCase()});function T(t,e){function n(n){var i=arguments.length;return i?i>1?t.apply(e,arguments):t.call(e,n):t.call(e)}return n._length=t.length,n}function O(t,e){return t.bind(e)}var x=Function.prototype.bind?O:T;function P(t,e){e=e||0;var n=t.length-e,i=new Array(n);while(n--)i[n]=t[n+e];return i}function I(t,e){for(var n in e)t[n]=e[n];return t}function N(t){for(var e={},n=0;n<t.length;n++)t[n]&&I(e,t[n]);return e}function L(t,e,n){}var D=function(t,e,n){return!1},R=function(t){return t};function M(t,e){if(t===e)return!0;var n=u(t),i=u(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var r=Array.isArray(t),o=Array.isArray(e);if(r&&o)return t.length===e.length&&t.every(function(t,n){return M(t,e[n])});if(t instanceof Date&&e instanceof Date)return t.getTime()===e.getTime();if(r||o)return!1;var a=Object.keys(t),s=Object.keys(e);return a.length===s.length&&a.every(function(n){return M(t[n],e[n])})}catch(c){return!1}}function j(t,e){for(var n=0;n<t.length;n++)if(M(t[n],e))return n;return-1}function F(t){var e=!1;return function(){e||(e=!0,t.apply(this,arguments))}}var B="data-server-rendered",q=["component","directive","filter"],U=["beforeCreate","created","beforeMount","mounted","beforeUpdate","updated","beforeDestroy","destroyed","activated","deactivated","errorCaptured","serverPrefetch"],$={optionMergeStrategies:Object.create(null),silent:!1,productionTip:!1,devtools:!1,performance:!1,errorHandler:null,warnHandler:null,ignoredElements:[],keyCodes:Object.create(null),isReservedTag:D,isReservedAttr:D,isUnknownElement:D,getTagNamespace:L,parsePlatformTagName:R,mustUseProp:D,async:!0,_lifecycleHooks:U},V="a-zA-Z·À-ÖØ-öø-ͽͿ-῿‌-‍‿-⁀⁰-↏Ⰰ-⿯、-퟿豈-﷏ﷰ-�";function H(t){var e=(t+"").charCodeAt(0);return 36===e||95===e}function W(t,e,n,i){Object.defineProperty(t,e,{value:n,enumerable:!!i,writable:!0,configurable:!0})}var z=new RegExp("[^"+V+".$_\\d]");function G(t){if(!z.test(t)){var e=t.split(".");return function(t){for(var n=0;n<e.length;n++){if(!t)return;t=t[e[n]]}return t}}}var K,Q="__proto__"in{},X="undefined"!==typeof window,Y="undefined"!==typeof WXEnvironment&&!!WXEnvironment.platform,J=Y&&WXEnvironment.platform.toLowerCase(),Z=X&&window.navigator.userAgent.toLowerCase(),tt=Z&&/msie|trident/.test(Z),et=Z&&Z.indexOf("msie 9.0")>0,nt=Z&&Z.indexOf("edge/")>0,it=(Z&&Z.indexOf("android"),Z&&/iphone|ipad|ipod|ios/.test(Z)||"ios"===J),rt=(Z&&/chrome\/\d+/.test(Z),Z&&/phantomjs/.test(Z),Z&&Z.match(/firefox\/(\d+)/)),ot={}.watch,at=!1;if(X)try{var st={};Object.defineProperty(st,"passive",{get:function(){at=!0}}),window.addEventListener("test-passive",null,st)}catch(ka){}var ut=function(){return void 0===K&&(K=!X&&!Y&&"undefined"!==typeof t&&(t["process"]&&"server"===t["process"].env.VUE_ENV)),K},ct=X&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function lt(t){return"function"===typeof t&&/native code/.test(t.toString())}var ht,ft="undefined"!==typeof Symbol&&lt(Symbol)&&"undefined"!==typeof Reflect&&lt(Reflect.ownKeys);ht="undefined"!==typeof Set&&lt(Set)?Set:function(){function t(){this.set=Object.create(null)}return t.prototype.has=function(t){return!0===this.set[t]},t.prototype.add=function(t){this.set[t]=!0},t.prototype.clear=function(){this.set=Object.create(null)},t}();var dt=L,pt=0,vt=function(){this.id=pt++,this.subs=[]};vt.prototype.addSub=function(t){this.subs.push(t)},vt.prototype.removeSub=function(t){_(this.subs,t)},vt.prototype.depend=function(){vt.target&&vt.target.addDep(this)},vt.prototype.notify=function(){var t=this.subs.slice();for(var e=0,n=t.length;e<n;e++)t[e].update()},vt.target=null;var mt=[];function gt(t){mt.push(t),vt.target=t}function _t(){mt.pop(),vt.target=mt[mt.length-1]}var yt=function(t,e,n,i,r,o,a,s){this.tag=t,this.data=e,this.children=n,this.text=i,this.elm=r,this.ns=void 0,this.context=o,this.fnContext=void 0,this.fnOptions=void 0,this.fnScopeId=void 0,this.key=e&&e.key,this.componentOptions=a,this.componentInstance=void 0,this.parent=void 0,this.raw=!1,this.isStatic=!1,this.isRootInsert=!0,this.isComment=!1,this.isCloned=!1,this.isOnce=!1,this.asyncFactory=s,this.asyncMeta=void 0,this.isAsyncPlaceholder=!1},bt={child:{configurable:!0}};bt.child.get=function(){return this.componentInstance},Object.defineProperties(yt.prototype,bt);var wt=function(t){void 0===t&&(t="");var e=new yt;return e.text=t,e.isComment=!0,e};function kt(t){return new yt(void 0,void 0,void 0,String(t))}function Et(t){var e=new yt(t.tag,t.data,t.children&&t.children.slice(),t.text,t.elm,t.context,t.componentOptions,t.asyncFactory);return e.ns=t.ns,e.isStatic=t.isStatic,e.key=t.key,e.isComment=t.isComment,e.fnContext=t.fnContext,e.fnOptions=t.fnOptions,e.fnScopeId=t.fnScopeId,e.asyncMeta=t.asyncMeta,e.isCloned=!0,e}var Ct=Array.prototype,St=Object.create(Ct),At=["push","pop","shift","unshift","splice","sort","reverse"];At.forEach(function(t){var e=Ct[t];W(St,t,function(){var n=[],i=arguments.length;while(i--)n[i]=arguments[i];var r,o=e.apply(this,n),a=this.__ob__;switch(t){case"push":case"unshift":r=n;break;case"splice":r=n.slice(2);break}return r&&a.observeArray(r),a.dep.notify(),o})});var Tt=Object.getOwnPropertyNames(St),Ot=!0;function xt(t){Ot=t}var Pt=function(t){this.value=t,this.dep=new vt,this.vmCount=0,W(t,"__ob__",this),Array.isArray(t)?(Q?It(t,St):Nt(t,St,Tt),this.observeArray(t)):this.walk(t)};function It(t,e){t.__proto__=e}function Nt(t,e,n){for(var i=0,r=n.length;i<r;i++){var o=n[i];W(t,o,e[o])}}function Lt(t,e){var n;if(u(t)&&!(t instanceof yt))return b(t,"__ob__")&&t.__ob__ instanceof Pt?n=t.__ob__:Ot&&!ut()&&(Array.isArray(t)||l(t))&&Object.isExtensible(t)&&!t._isVue&&(n=new Pt(t)),e&&n&&n.vmCount++,n}function Dt(t,e,n,i,r){var o=new vt,a=Object.getOwnPropertyDescriptor(t,e);if(!a||!1!==a.configurable){var s=a&&a.get,u=a&&a.set;s&&!u||2!==arguments.length||(n=t[e]);var c=!r&&Lt(n);Object.defineProperty(t,e,{enumerable:!0,configurable:!0,get:function(){var e=s?s.call(t):n;return vt.target&&(o.depend(),c&&(c.dep.depend(),Array.isArray(e)&&jt(e))),e},set:function(e){var i=s?s.call(t):n;e===i||e!==e&&i!==i||s&&!u||(u?u.call(t,e):n=e,c=!r&&Lt(e),o.notify())}})}}function Rt(t,e,n){if(Array.isArray(t)&&f(e))return t.length=Math.max(t.length,e),t.splice(e,1,n),n;if(e in t&&!(e in Object.prototype))return t[e]=n,n;var i=t.__ob__;return t._isVue||i&&i.vmCount?n:i?(Dt(i.value,e,n),i.dep.notify(),n):(t[e]=n,n)}function Mt(t,e){if(Array.isArray(t)&&f(e))t.splice(e,1);else{var n=t.__ob__;t._isVue||n&&n.vmCount||b(t,e)&&(delete t[e],n&&n.dep.notify())}}function jt(t){for(var e=void 0,n=0,i=t.length;n<i;n++)e=t[n],e&&e.__ob__&&e.__ob__.dep.depend(),Array.isArray(e)&&jt(e)}Pt.prototype.walk=function(t){for(var e=Object.keys(t),n=0;n<e.length;n++)Dt(t,e[n])},Pt.prototype.observeArray=function(t){for(var e=0,n=t.length;e<n;e++)Lt(t[e])};var Ft=$.optionMergeStrategies;function Bt(t,e){if(!e)return t;for(var n,i,r,o=ft?Reflect.ownKeys(e):Object.keys(e),a=0;a<o.length;a++)n=o[a],"__ob__"!==n&&(i=t[n],r=e[n],b(t,n)?i!==r&&l(i)&&l(r)&&Bt(i,r):Rt(t,n,r));return t}function qt(t,e,n){return n?function(){var i="function"===typeof e?e.call(n,n):e,r="function"===typeof t?t.call(n,n):t;return i?Bt(i,r):r}:e?t?function(){return Bt("function"===typeof e?e.call(this,this):e,"function"===typeof t?t.call(this,this):t)}:e:t}function Ut(t,e){var n=e?t?t.concat(e):Array.isArray(e)?e:[e]:t;return n?$t(n):n}function $t(t){for(var e=[],n=0;n<t.length;n++)-1===e.indexOf(t[n])&&e.push(t[n]);return e}function Vt(t,e,n,i){var r=Object.create(t||null);return e?I(r,e):r}Ft.data=function(t,e,n){return n?qt(t,e,n):e&&"function"!==typeof e?t:qt(t,e)},U.forEach(function(t){Ft[t]=Ut}),q.forEach(function(t){Ft[t+"s"]=Vt}),Ft.watch=function(t,e,n,i){if(t===ot&&(t=void 0),e===ot&&(e=void 0),!e)return Object.create(t||null);if(!t)return e;var r={};for(var o in I(r,t),e){var a=r[o],s=e[o];a&&!Array.isArray(a)&&(a=[a]),r[o]=a?a.concat(s):Array.isArray(s)?s:[s]}return r},Ft.props=Ft.methods=Ft.inject=Ft.computed=function(t,e,n,i){if(!t)return e;var r=Object.create(null);return I(r,t),e&&I(r,e),r},Ft.provide=qt;var Ht=function(t,e){return void 0===e?t:e};function Wt(t,e){var n=t.props;if(n){var i,r,o,a={};if(Array.isArray(n)){i=n.length;while(i--)r=n[i],"string"===typeof r&&(o=E(r),a[o]={type:null})}else if(l(n))for(var s in n)r=n[s],o=E(s),a[o]=l(r)?r:{type:r};else 0;t.props=a}}function zt(t,e){var n=t.inject;if(n){var i=t.inject={};if(Array.isArray(n))for(var r=0;r<n.length;r++)i[n[r]]={from:n[r]};else if(l(n))for(var o in n){var a=n[o];i[o]=l(a)?I({from:o},a):{from:a}}else 0}}function Gt(t){var e=t.directives;if(e)for(var n in e){var i=e[n];"function"===typeof i&&(e[n]={bind:i,update:i})}}function Kt(t,e,n){if("function"===typeof e&&(e=e.options),Wt(e,n),zt(e,n),Gt(e),!e._base&&(e.extends&&(t=Kt(t,e.extends,n)),e.mixins))for(var i=0,r=e.mixins.length;i<r;i++)t=Kt(t,e.mixins[i],n);var o,a={};for(o in t)s(o);for(o in e)b(t,o)||s(o);function s(i){var r=Ft[i]||Ht;a[i]=r(t[i],e[i],n,i)}return a}function Qt(t,e,n,i){if("string"===typeof n){var r=t[e];if(b(r,n))return r[n];var o=E(n);if(b(r,o))return r[o];var a=C(o);if(b(r,a))return r[a];var s=r[n]||r[o]||r[a];return s}}function Xt(t,e,n,i){var r=e[t],o=!b(n,t),a=n[t],s=te(Boolean,r.type);if(s>-1)if(o&&!b(r,"default"))a=!1;else if(""===a||a===A(t)){var u=te(String,r.type);(u<0||s<u)&&(a=!0)}if(void 0===a){a=Yt(i,r,t);var c=Ot;xt(!0),Lt(a),xt(c)}return a}function Yt(t,e,n){if(b(e,"default")){var i=e.default;return t&&t.$options.propsData&&void 0===t.$options.propsData[n]&&void 0!==t._props[n]?t._props[n]:"function"===typeof i&&"Function"!==Jt(e.type)?i.call(t):i}}function Jt(t){var e=t&&t.toString().match(/^\s*function (\w+)/);return e?e[1]:""}function Zt(t,e){return Jt(t)===Jt(e)}function te(t,e){if(!Array.isArray(e))return Zt(e,t)?0:-1;for(var n=0,i=e.length;n<i;n++)if(Zt(e[n],t))return n;return-1}function ee(t,e,n){gt();try{if(e){var i=e;while(i=i.$parent){var r=i.$options.errorCaptured;if(r)for(var o=0;o<r.length;o++)try{var a=!1===r[o].call(i,t,e,n);if(a)return}catch(ka){ie(ka,i,"errorCaptured hook")}}}ie(t,e,n)}finally{_t()}}function ne(t,e,n,i,r){var o;try{o=n?t.apply(e,n):t.call(e),o&&!o._isVue&&d(o)&&(o=o.catch(function(t){return ee(t,i,r+" (Promise/async)")}))}catch(ka){ee(ka,i,r)}return o}function ie(t,e,n){if($.errorHandler)try{return $.errorHandler.call(null,t,e,n)}catch(ka){ka!==t&&re(ka,null,"config.errorHandler")}re(t,e,n)}function re(t,e,n){if(!X&&!Y||"undefined"===typeof console)throw t;console.error(t)}var oe,ae=!1,se=[],ue=!1;function ce(){ue=!1;var t=se.slice(0);se.length=0;for(var e=0;e<t.length;e++)t[e]()}if("undefined"!==typeof Promise&&lt(Promise)){var le=Promise.resolve();oe=function(){le.then(ce),it&&setTimeout(L)},ae=!0}else if(tt||"undefined"===typeof MutationObserver||!lt(MutationObserver)&&"[object MutationObserverConstructor]"!==MutationObserver.toString())oe="undefined"!==typeof setImmediate&&lt(setImmediate)?function(){setImmediate(ce)}:function(){setTimeout(ce,0)};else{var he=1,fe=new MutationObserver(ce),de=document.createTextNode(String(he));fe.observe(de,{characterData:!0}),oe=function(){he=(he+1)%2,de.data=String(he)},ae=!0}function pe(t,e){var n;if(se.push(function(){if(t)try{t.call(e)}catch(ka){ee(ka,e,"nextTick")}else n&&n(e)}),ue||(ue=!0,oe()),!t&&"undefined"!==typeof Promise)return new Promise(function(t){n=t})}var ve=new ht;function me(t){ge(t,ve),ve.clear()}function ge(t,e){var n,i,r=Array.isArray(t);if(!(!r&&!u(t)||Object.isFrozen(t)||t instanceof yt)){if(t.__ob__){var o=t.__ob__.dep.id;if(e.has(o))return;e.add(o)}if(r){n=t.length;while(n--)ge(t[n],e)}else{i=Object.keys(t),n=i.length;while(n--)ge(t[i[n]],e)}}}var _e=w(function(t){var e="&"===t.charAt(0);t=e?t.slice(1):t;var n="~"===t.charAt(0);t=n?t.slice(1):t;var i="!"===t.charAt(0);return t=i?t.slice(1):t,{name:t,once:n,capture:i,passive:e}});function ye(t,e){function n(){var t=arguments,i=n.fns;if(!Array.isArray(i))return ne(i,null,arguments,e,"v-on handler");for(var r=i.slice(),o=0;o<r.length;o++)ne(r[o],null,t,e,"v-on handler")}return n.fns=t,n}function be(t,e,n,r,a,s){var u,c,l,h;for(u in t)c=t[u],l=e[u],h=_e(u),i(c)||(i(l)?(i(c.fns)&&(c=t[u]=ye(c,s)),o(h.once)&&(c=t[u]=a(h.name,c,h.capture)),n(h.name,c,h.capture,h.passive,h.params)):c!==l&&(l.fns=c,t[u]=l));for(u in e)i(t[u])&&(h=_e(u),r(h.name,e[u],h.capture))}function we(t,e,n){var a;t instanceof yt&&(t=t.data.hook||(t.data.hook={}));var s=t[e];function u(){n.apply(this,arguments),_(a.fns,u)}i(s)?a=ye([u]):r(s.fns)&&o(s.merged)?(a=s,a.fns.push(u)):a=ye([s,u]),a.merged=!0,t[e]=a}function ke(t,e,n){var o=e.options.props;if(!i(o)){var a={},s=t.attrs,u=t.props;if(r(s)||r(u))for(var c in o){var l=A(c);Ee(a,u,c,l,!0)||Ee(a,s,c,l,!1)}return a}}function Ee(t,e,n,i,o){if(r(e)){if(b(e,n))return t[n]=e[n],o||delete e[n],!0;if(b(e,i))return t[n]=e[i],o||delete e[i],!0}return!1}function Ce(t){for(var e=0;e<t.length;e++)if(Array.isArray(t[e]))return Array.prototype.concat.apply([],t);return t}function Se(t){return s(t)?[kt(t)]:Array.isArray(t)?Te(t):void 0}function Ae(t){return r(t)&&r(t.text)&&a(t.isComment)}function Te(t,e){var n,a,u,c,l=[];for(n=0;n<t.length;n++)a=t[n],i(a)||"boolean"===typeof a||(u=l.length-1,c=l[u],Array.isArray(a)?a.length>0&&(a=Te(a,(e||"")+"_"+n),Ae(a[0])&&Ae(c)&&(l[u]=kt(c.text+a[0].text),a.shift()),l.push.apply(l,a)):s(a)?Ae(c)?l[u]=kt(c.text+a):""!==a&&l.push(kt(a)):Ae(a)&&Ae(c)?l[u]=kt(c.text+a.text):(o(t._isVList)&&r(a.tag)&&i(a.key)&&r(e)&&(a.key="__vlist"+e+"_"+n+"__"),l.push(a)));return l}function Oe(t){var e=t.$options.provide;e&&(t._provided="function"===typeof e?e.call(t):e)}function xe(t){var e=Pe(t.$options.inject,t);e&&(xt(!1),Object.keys(e).forEach(function(n){Dt(t,n,e[n])}),xt(!0))}function Pe(t,e){if(t){for(var n=Object.create(null),i=ft?Reflect.ownKeys(t):Object.keys(t),r=0;r<i.length;r++){var o=i[r];if("__ob__"!==o){var a=t[o].from,s=e;while(s){if(s._provided&&b(s._provided,a)){n[o]=s._provided[a];break}s=s.$parent}if(!s)if("default"in t[o]){var u=t[o].default;n[o]="function"===typeof u?u.call(e):u}else 0}}return n}}function Ie(t,e){if(!t||!t.length)return{};for(var n={},i=0,r=t.length;i<r;i++){var o=t[i],a=o.data;if(a&&a.attrs&&a.attrs.slot&&delete a.attrs.slot,o.context!==e&&o.fnContext!==e||!a||null==a.slot)(n.default||(n.default=[])).push(o);else{var s=a.slot,u=n[s]||(n[s]=[]);"template"===o.tag?u.push.apply(u,o.children||[]):u.push(o)}}for(var c in n)n[c].every(Ne)&&delete n[c];return n}function Ne(t){return t.isComment&&!t.asyncFactory||" "===t.text}function Le(t,e,i){var r,o=!t||!!t.$stable,a=t&&t.$key;if(t){if(t._normalized)return t._normalized;if(o&&i&&i!==n&&a===i.$key&&0===Object.keys(e).length)return i;for(var s in r={},t)t[s]&&"$"!==s[0]&&(r[s]=De(e,s,t[s]))}else r={};for(var u in e)u in r||(r[u]=Re(e,u));return t&&Object.isExtensible(t)&&(t._normalized=r),W(r,"$stable",o),W(r,"$key",a),r}function De(t,e,n){var i=function(){var t=arguments.length?n.apply(null,arguments):n({});return t=t&&"object"===typeof t&&!Array.isArray(t)?[t]:Se(t),t&&0===t.length?void 0:t};return n.proxy&&Object.defineProperty(t,e,{get:i,enumerable:!0,configurable:!0}),i}function Re(t,e){return function(){return t[e]}}function Me(t,e){var n,i,o,a,s;if(Array.isArray(t)||"string"===typeof t)for(n=new Array(t.length),i=0,o=t.length;i<o;i++)n[i]=e(t[i],i);else if("number"===typeof t)for(n=new Array(t),i=0;i<t;i++)n[i]=e(i+1,i);else if(u(t))if(ft&&t[Symbol.iterator]){n=[];var c=t[Symbol.iterator](),l=c.next();while(!l.done)n.push(e(l.value,n.length)),l=c.next()}else for(a=Object.keys(t),n=new Array(a.length),i=0,o=a.length;i<o;i++)s=a[i],n[i]=e(t[s],s,i);return r(n)||(n=[]),n._isVList=!0,n}function je(t,e,n,i){var r,o=this.$scopedSlots[t];o?(n=n||{},i&&(n=I(I({},i),n)),r=o(n)||e):r=this.$slots[t]||e;var a=n&&n.slot;return a?this.$createElement("template",{slot:a},r):r}function Fe(t){return Qt(this.$options,"filters",t,!0)||R}function Be(t,e){return Array.isArray(t)?-1===t.indexOf(e):t!==e}function qe(t,e,n,i,r){var o=$.keyCodes[e]||n;return r&&i&&!$.keyCodes[e]?Be(r,i):o?Be(o,t):i?A(i)!==e:void 0}function Ue(t,e,n,i,r){if(n)if(u(n)){var o;Array.isArray(n)&&(n=N(n));var a=function(a){if("class"===a||"style"===a||g(a))o=t;else{var s=t.attrs&&t.attrs.type;o=i||$.mustUseProp(e,s,a)?t.domProps||(t.domProps={}):t.attrs||(t.attrs={})}var u=E(a);if(!(a in o)&&!(u in o)&&(o[a]=n[a],r)){var c=t.on||(t.on={});c["update:"+u]=function(t){n[a]=t}}};for(var s in n)a(s)}else;return t}function $e(t,e){var n=this._staticTrees||(this._staticTrees=[]),i=n[t];return i&&!e?i:(i=n[t]=this.$options.staticRenderFns[t].call(this._renderProxy,null,this),He(i,"__static__"+t,!1),i)}function Ve(t,e,n){return He(t,"__once__"+e+(n?"_"+n:""),!0),t}function He(t,e,n){if(Array.isArray(t))for(var i=0;i<t.length;i++)t[i]&&"string"!==typeof t[i]&&We(t[i],e+"_"+i,n);else We(t,e,n)}function We(t,e,n){t.isStatic=!0,t.key=e,t.isOnce=n}function ze(t,e){if(e)if(l(e)){var n=t.on=t.on?I({},t.on):{};for(var i in e){var r=n[i],o=e[i];n[i]=r?[].concat(r,o):o}}else;return t}function Ge(t,e,n,i){e=e||{$stable:!n};for(var r=0;r<t.length;r++){var o=t[r];Array.isArray(o)?Ge(o,e,n):o&&(o.proxy&&(o.fn.proxy=!0),e[o.key]=o.fn)}return i&&(e.$key=i),e}function Ke(t,e){for(var n=0;n<e.length;n+=2){var i=e[n];"string"===typeof i&&i&&(t[e[n]]=e[n+1])}return t}function Qe(t,e){return"string"===typeof t?e+t:t}function Xe(t){t._o=Ve,t._n=v,t._s=p,t._l=Me,t._t=je,t._q=M,t._i=j,t._m=$e,t._f=Fe,t._k=qe,t._b=Ue,t._v=kt,t._e=wt,t._u=Ge,t._g=ze,t._d=Ke,t._p=Qe}function Ye(t,e,i,r,a){var s,u=this,c=a.options;b(r,"_uid")?(s=Object.create(r),s._original=r):(s=r,r=r._original);var l=o(c._compiled),h=!l;this.data=t,this.props=e,this.children=i,this.parent=r,this.listeners=t.on||n,this.injections=Pe(c.inject,r),this.slots=function(){return u.$slots||Le(t.scopedSlots,u.$slots=Ie(i,r)),u.$slots},Object.defineProperty(this,"scopedSlots",{enumerable:!0,get:function(){return Le(t.scopedSlots,this.slots())}}),l&&(this.$options=c,this.$slots=this.slots(),this.$scopedSlots=Le(t.scopedSlots,this.$slots)),c._scopeId?this._c=function(t,e,n,i){var o=hn(s,t,e,n,i,h);return o&&!Array.isArray(o)&&(o.fnScopeId=c._scopeId,o.fnContext=r),o}:this._c=function(t,e,n,i){return hn(s,t,e,n,i,h)}}function Je(t,e,i,o,a){var s=t.options,u={},c=s.props;if(r(c))for(var l in c)u[l]=Xt(l,c,e||n);else r(i.attrs)&&tn(u,i.attrs),r(i.props)&&tn(u,i.props);var h=new Ye(i,u,a,o,t),f=s.render.call(null,h._c,h);if(f instanceof yt)return Ze(f,i,h.parent,s,h);if(Array.isArray(f)){for(var d=Se(f)||[],p=new Array(d.length),v=0;v<d.length;v++)p[v]=Ze(d[v],i,h.parent,s,h);return p}}function Ze(t,e,n,i,r){var o=Et(t);return o.fnContext=n,o.fnOptions=i,e.slot&&((o.data||(o.data={})).slot=e.slot),o}function tn(t,e){for(var n in e)t[E(n)]=e[n]}Xe(Ye.prototype);var en={init:function(t,e){if(t.componentInstance&&!t.componentInstance._isDestroyed&&t.data.keepAlive){var n=t;en.prepatch(n,n)}else{var i=t.componentInstance=on(t,Pn);i.$mount(e?t.elm:void 0,e)}},prepatch:function(t,e){var n=e.componentOptions,i=e.componentInstance=t.componentInstance;Rn(i,n.propsData,n.listeners,e,n.children)},insert:function(t){var e=t.context,n=t.componentInstance;n._isMounted||(n._isMounted=!0,Bn(n,"mounted")),t.data.keepAlive&&(e._isMounted?Yn(n):jn(n,!0))},destroy:function(t){var e=t.componentInstance;e._isDestroyed||(t.data.keepAlive?Fn(e,!0):e.$destroy())}},nn=Object.keys(en);function rn(t,e,n,a,s){if(!i(t)){var c=n.$options._base;if(u(t)&&(t=c.extend(t)),"function"===typeof t){var l;if(i(t.cid)&&(l=t,t=wn(l,c),void 0===t))return bn(l,e,n,a,s);e=e||{},bi(t),r(e.model)&&un(t.options,e);var h=ke(e,t,s);if(o(t.options.functional))return Je(t,h,e,n,a);var f=e.on;if(e.on=e.nativeOn,o(t.options.abstract)){var d=e.slot;e={},d&&(e.slot=d)}an(e);var p=t.options.name||s,v=new yt("vue-component-"+t.cid+(p?"-"+p:""),e,void 0,void 0,void 0,n,{Ctor:t,propsData:h,listeners:f,tag:s,children:a},l);return v}}}function on(t,e){var n={_isComponent:!0,_parentVnode:t,parent:e},i=t.data.inlineTemplate;return r(i)&&(n.render=i.render,n.staticRenderFns=i.staticRenderFns),new t.componentOptions.Ctor(n)}function an(t){for(var e=t.hook||(t.hook={}),n=0;n<nn.length;n++){var i=nn[n],r=e[i],o=en[i];r===o||r&&r._merged||(e[i]=r?sn(o,r):o)}}function sn(t,e){var n=function(n,i){t(n,i),e(n,i)};return n._merged=!0,n}function un(t,e){var n=t.model&&t.model.prop||"value",i=t.model&&t.model.event||"input";(e.attrs||(e.attrs={}))[n]=e.model.value;var o=e.on||(e.on={}),a=o[i],s=e.model.callback;r(a)?(Array.isArray(a)?-1===a.indexOf(s):a!==s)&&(o[i]=[s].concat(a)):o[i]=s}var cn=1,ln=2;function hn(t,e,n,i,r,a){return(Array.isArray(n)||s(n))&&(r=i,i=n,n=void 0),o(a)&&(r=ln),fn(t,e,n,i,r)}function fn(t,e,n,i,o){if(r(n)&&r(n.__ob__))return wt();if(r(n)&&r(n.is)&&(e=n.is),!e)return wt();var a,s,u;(Array.isArray(i)&&"function"===typeof i[0]&&(n=n||{},n.scopedSlots={default:i[0]},i.length=0),o===ln?i=Se(i):o===cn&&(i=Ce(i)),"string"===typeof e)?(s=t.$vnode&&t.$vnode.ns||$.getTagNamespace(e),a=$.isReservedTag(e)?new yt($.parsePlatformTagName(e),n,i,void 0,void 0,t):n&&n.pre||!r(u=Qt(t.$options,"components",e))?new yt(e,n,i,void 0,void 0,t):rn(u,n,t,i,e)):a=rn(e,n,t,i);return Array.isArray(a)?a:r(a)?(r(s)&&dn(a,s),r(n)&&pn(n),a):wt()}function dn(t,e,n){if(t.ns=e,"foreignObject"===t.tag&&(e=void 0,n=!0),r(t.children))for(var a=0,s=t.children.length;a<s;a++){var u=t.children[a];r(u.tag)&&(i(u.ns)||o(n)&&"svg"!==u.tag)&&dn(u,e,n)}}function pn(t){u(t.style)&&me(t.style),u(t.class)&&me(t.class)}function vn(t){t._vnode=null,t._staticTrees=null;var e=t.$options,i=t.$vnode=e._parentVnode,r=i&&i.context;t.$slots=Ie(e._renderChildren,r),t.$scopedSlots=n,t._c=function(e,n,i,r){return hn(t,e,n,i,r,!1)},t.$createElement=function(e,n,i,r){return hn(t,e,n,i,r,!0)};var o=i&&i.data;Dt(t,"$attrs",o&&o.attrs||n,null,!0),Dt(t,"$listeners",e._parentListeners||n,null,!0)}var mn,gn=null;function _n(t){Xe(t.prototype),t.prototype.$nextTick=function(t){return pe(t,this)},t.prototype._render=function(){var t,e=this,n=e.$options,i=n.render,r=n._parentVnode;r&&(e.$scopedSlots=Le(r.data.scopedSlots,e.$slots,e.$scopedSlots)),e.$vnode=r;try{gn=e,t=i.call(e._renderProxy,e.$createElement)}catch(ka){ee(ka,e,"render"),t=e._vnode}finally{gn=null}return Array.isArray(t)&&1===t.length&&(t=t[0]),t instanceof yt||(t=wt()),t.parent=r,t}}function yn(t,e){return(t.__esModule||ft&&"Module"===t[Symbol.toStringTag])&&(t=t.default),u(t)?e.extend(t):t}function bn(t,e,n,i,r){var o=wt();return o.asyncFactory=t,o.asyncMeta={data:e,context:n,children:i,tag:r},o}function wn(t,e){if(o(t.error)&&r(t.errorComp))return t.errorComp;if(r(t.resolved))return t.resolved;if(o(t.loading)&&r(t.loadingComp))return t.loadingComp;var n=gn;if(!r(t.owners)){var a=t.owners=[n],s=!0,c=function(t){for(var e=0,n=a.length;e<n;e++)a[e].$forceUpdate();t&&(a.length=0)},l=F(function(n){t.resolved=yn(n,e),s?a.length=0:c(!0)}),h=F(function(e){r(t.errorComp)&&(t.error=!0,c(!0))}),f=t(l,h);return u(f)&&(d(f)?i(t.resolved)&&f.then(l,h):d(f.component)&&(f.component.then(l,h),r(f.error)&&(t.errorComp=yn(f.error,e)),r(f.loading)&&(t.loadingComp=yn(f.loading,e),0===f.delay?t.loading=!0:setTimeout(function(){i(t.resolved)&&i(t.error)&&(t.loading=!0,c(!1))},f.delay||200)),r(f.timeout)&&setTimeout(function(){i(t.resolved)&&h(null)},f.timeout))),s=!1,t.loading?t.loadingComp:t.resolved}t.owners.push(n)}function kn(t){return t.isComment&&t.asyncFactory}function En(t){if(Array.isArray(t))for(var e=0;e<t.length;e++){var n=t[e];if(r(n)&&(r(n.componentOptions)||kn(n)))return n}}function Cn(t){t._events=Object.create(null),t._hasHookEvent=!1;var e=t.$options._parentListeners;e&&On(t,e)}function Sn(t,e){mn.$on(t,e)}function An(t,e){mn.$off(t,e)}function Tn(t,e){var n=mn;return function i(){var r=e.apply(null,arguments);null!==r&&n.$off(t,i)}}function On(t,e,n){mn=t,be(e,n||{},Sn,An,Tn,t),mn=void 0}function xn(t){var e=/^hook:/;t.prototype.$on=function(t,n){var i=this;if(Array.isArray(t))for(var r=0,o=t.length;r<o;r++)i.$on(t[r],n);else(i._events[t]||(i._events[t]=[])).push(n),e.test(t)&&(i._hasHookEvent=!0);return i},t.prototype.$once=function(t,e){var n=this;function i(){n.$off(t,i),e.apply(n,arguments)}return i.fn=e,n.$on(t,i),n},t.prototype.$off=function(t,e){var n=this;if(!arguments.length)return n._events=Object.create(null),n;if(Array.isArray(t)){for(var i=0,r=t.length;i<r;i++)n.$off(t[i],e);return n}var o,a=n._events[t];if(!a)return n;if(!e)return n._events[t]=null,n;var s=a.length;while(s--)if(o=a[s],o===e||o.fn===e){a.splice(s,1);break}return n},t.prototype.$emit=function(t){var e=this,n=e._events[t];if(n){n=n.length>1?P(n):n;for(var i=P(arguments,1),r='event handler for "'+t+'"',o=0,a=n.length;o<a;o++)ne(n[o],e,i,e,r)}return e}}var Pn=null;function In(t){var e=Pn;return Pn=t,function(){Pn=e}}function Nn(t){var e=t.$options,n=e.parent;if(n&&!e.abstract){while(n.$options.abstract&&n.$parent)n=n.$parent;n.$children.push(t)}t.$parent=n,t.$root=n?n.$root:t,t.$children=[],t.$refs={},t._watcher=null,t._inactive=null,t._directInactive=!1,t._isMounted=!1,t._isDestroyed=!1,t._isBeingDestroyed=!1}function Ln(t){t.prototype._update=function(t,e){var n=this,i=n.$el,r=n._vnode,o=In(n);n._vnode=t,n.$el=r?n.__patch__(r,t):n.__patch__(n.$el,t,e,!1),o(),i&&(i.__vue__=null),n.$el&&(n.$el.__vue__=n),n.$vnode&&n.$parent&&n.$vnode===n.$parent._vnode&&(n.$parent.$el=n.$el)},t.prototype.$forceUpdate=function(){var t=this;t._watcher&&t._watcher.update()},t.prototype.$destroy=function(){var t=this;if(!t._isBeingDestroyed){Bn(t,"beforeDestroy"),t._isBeingDestroyed=!0;var e=t.$parent;!e||e._isBeingDestroyed||t.$options.abstract||_(e.$children,t),t._watcher&&t._watcher.teardown();var n=t._watchers.length;while(n--)t._watchers[n].teardown();t._data.__ob__&&t._data.__ob__.vmCount--,t._isDestroyed=!0,t.__patch__(t._vnode,null),Bn(t,"destroyed"),t.$off(),t.$el&&(t.$el.__vue__=null),t.$vnode&&(t.$vnode.parent=null)}}}function Dn(t,e,n){var i;return t.$el=e,t.$options.render||(t.$options.render=wt),Bn(t,"beforeMount"),i=function(){t._update(t._render(),n)},new ei(t,i,L,{before:function(){t._isMounted&&!t._isDestroyed&&Bn(t,"beforeUpdate")}},!0),n=!1,null==t.$vnode&&(t._isMounted=!0,Bn(t,"mounted")),t}function Rn(t,e,i,r,o){var a=r.data.scopedSlots,s=t.$scopedSlots,u=!!(a&&!a.$stable||s!==n&&!s.$stable||a&&t.$scopedSlots.$key!==a.$key),c=!!(o||t.$options._renderChildren||u);if(t.$options._parentVnode=r,t.$vnode=r,t._vnode&&(t._vnode.parent=r),t.$options._renderChildren=o,t.$attrs=r.data.attrs||n,t.$listeners=i||n,e&&t.$options.props){xt(!1);for(var l=t._props,h=t.$options._propKeys||[],f=0;f<h.length;f++){var d=h[f],p=t.$options.props;l[d]=Xt(d,p,e,t)}xt(!0),t.$options.propsData=e}i=i||n;var v=t.$options._parentListeners;t.$options._parentListeners=i,On(t,i,v),c&&(t.$slots=Ie(o,r.context),t.$forceUpdate())}function Mn(t){while(t&&(t=t.$parent))if(t._inactive)return!0;return!1}function jn(t,e){if(e){if(t._directInactive=!1,Mn(t))return}else if(t._directInactive)return;if(t._inactive||null===t._inactive){t._inactive=!1;for(var n=0;n<t.$children.length;n++)jn(t.$children[n]);Bn(t,"activated")}}function Fn(t,e){if((!e||(t._directInactive=!0,!Mn(t)))&&!t._inactive){t._inactive=!0;for(var n=0;n<t.$children.length;n++)Fn(t.$children[n]);Bn(t,"deactivated")}}function Bn(t,e){gt();var n=t.$options[e],i=e+" hook";if(n)for(var r=0,o=n.length;r<o;r++)ne(n[r],t,null,t,i);t._hasHookEvent&&t.$emit("hook:"+e),_t()}var qn=[],Un=[],$n={},Vn=!1,Hn=!1,Wn=0;function zn(){Wn=qn.length=Un.length=0,$n={},Vn=Hn=!1}var Gn=0,Kn=Date.now;function Qn(){var t,e;for(Gn=Kn(),Hn=!0,qn.sort(function(t,e){return t.id-e.id}),Wn=0;Wn<qn.length;Wn++)t=qn[Wn],t.before&&t.before(),e=t.id,$n[e]=null,t.run();var n=Un.slice(),i=qn.slice();zn(),Jn(n),Xn(i),ct&&$.devtools&&ct.emit("flush")}function Xn(t){var e=t.length;while(e--){var n=t[e],i=n.vm;i._watcher===n&&i._isMounted&&!i._isDestroyed&&Bn(i,"updated")}}function Yn(t){t._inactive=!1,Un.push(t)}function Jn(t){for(var e=0;e<t.length;e++)t[e]._inactive=!0,jn(t[e],!0)}function Zn(t){var e=t.id;if(null==$n[e]){if($n[e]=!0,Hn){var n=qn.length-1;while(n>Wn&&qn[n].id>t.id)n--;qn.splice(n+1,0,t)}else qn.push(t);Vn||(Vn=!0,pe(Qn))}}X&&Kn()>document.createEvent("Event").timeStamp&&(Kn=function(){return performance.now()});var ti=0,ei=function(t,e,n,i,r){this.vm=t,r&&(t._watcher=this),t._watchers.push(this),i?(this.deep=!!i.deep,this.user=!!i.user,this.lazy=!!i.lazy,this.sync=!!i.sync,this.before=i.before):this.deep=this.user=this.lazy=this.sync=!1,this.cb=n,this.id=++ti,this.active=!0,this.dirty=this.lazy,this.deps=[],this.newDeps=[],this.depIds=new ht,this.newDepIds=new ht,this.expression="","function"===typeof e?this.getter=e:(this.getter=G(e),this.getter||(this.getter=L)),this.value=this.lazy?void 0:this.get()};ei.prototype.get=function(){var t;gt(this);var e=this.vm;try{t=this.getter.call(e,e)}catch(ka){if(!this.user)throw ka;ee(ka,e,'getter for watcher "'+this.expression+'"')}finally{this.deep&&me(t),_t(),this.cleanupDeps()}return t},ei.prototype.addDep=function(t){var e=t.id;this.newDepIds.has(e)||(this.newDepIds.add(e),this.newDeps.push(t),this.depIds.has(e)||t.addSub(this))},ei.prototype.cleanupDeps=function(){var t=this.deps.length;while(t--){var e=this.deps[t];this.newDepIds.has(e.id)||e.removeSub(this)}var n=this.depIds;this.depIds=this.newDepIds,this.newDepIds=n,this.newDepIds.clear(),n=this.deps,this.deps=this.newDeps,this.newDeps=n,this.newDeps.length=0},ei.prototype.update=function(){this.lazy?this.dirty=!0:this.sync?this.run():Zn(this)},ei.prototype.run=function(){if(this.active){var t=this.get();if(t!==this.value||u(t)||this.deep){var e=this.value;if(this.value=t,this.user)try{this.cb.call(this.vm,t,e)}catch(ka){ee(ka,this.vm,'callback for watcher "'+this.expression+'"')}else this.cb.call(this.vm,t,e)}}},ei.prototype.evaluate=function(){this.value=this.get(),this.dirty=!1},ei.prototype.depend=function(){var t=this.deps.length;while(t--)this.deps[t].depend()},ei.prototype.teardown=function(){if(this.active){this.vm._isBeingDestroyed||_(this.vm._watchers,this);var t=this.deps.length;while(t--)this.deps[t].removeSub(this);this.active=!1}};var ni={enumerable:!0,configurable:!0,get:L,set:L};function ii(t,e,n){ni.get=function(){return this[e][n]},ni.set=function(t){this[e][n]=t},Object.defineProperty(t,n,ni)}function ri(t){t._watchers=[];var e=t.$options;e.props&&oi(t,e.props),e.methods&&di(t,e.methods),e.data?ai(t):Lt(t._data={},!0),e.computed&&ci(t,e.computed),e.watch&&e.watch!==ot&&pi(t,e.watch)}function oi(t,e){var n=t.$options.propsData||{},i=t._props={},r=t.$options._propKeys=[],o=!t.$parent;o||xt(!1);var a=function(o){r.push(o);var a=Xt(o,e,n,t);Dt(i,o,a),o in t||ii(t,"_props",o)};for(var s in e)a(s);xt(!0)}function ai(t){var e=t.$options.data;e=t._data="function"===typeof e?si(e,t):e||{},l(e)||(e={});var n=Object.keys(e),i=t.$options.props,r=(t.$options.methods,n.length);while(r--){var o=n[r];0,i&&b(i,o)||H(o)||ii(t,"_data",o)}Lt(e,!0)}function si(t,e){gt();try{return t.call(e,e)}catch(ka){return ee(ka,e,"data()"),{}}finally{_t()}}var ui={lazy:!0};function ci(t,e){var n=t._computedWatchers=Object.create(null),i=ut();for(var r in e){var o=e[r],a="function"===typeof o?o:o.get;0,i||(n[r]=new ei(t,a||L,L,ui)),r in t||li(t,r,o)}}function li(t,e,n){var i=!ut();"function"===typeof n?(ni.get=i?hi(e):fi(n),ni.set=L):(ni.get=n.get?i&&!1!==n.cache?hi(e):fi(n.get):L,ni.set=n.set||L),Object.defineProperty(t,e,ni)}function hi(t){return function(){var e=this._computedWatchers&&this._computedWatchers[t];if(e)return e.dirty&&e.evaluate(),vt.target&&e.depend(),e.value}}function fi(t){return function(){return t.call(this,this)}}function di(t,e){t.$options.props;for(var n in e)t[n]="function"!==typeof e[n]?L:x(e[n],t)}function pi(t,e){for(var n in e){var i=e[n];if(Array.isArray(i))for(var r=0;r<i.length;r++)vi(t,n,i[r]);else vi(t,n,i)}}function vi(t,e,n,i){return l(n)&&(i=n,n=n.handler),"string"===typeof n&&(n=t[n]),t.$watch(e,n,i)}function mi(t){var e={get:function(){return this._data}},n={get:function(){return this._props}};Object.defineProperty(t.prototype,"$data",e),Object.defineProperty(t.prototype,"$props",n),t.prototype.$set=Rt,t.prototype.$delete=Mt,t.prototype.$watch=function(t,e,n){var i=this;if(l(e))return vi(i,t,e,n);n=n||{},n.user=!0;var r=new ei(i,t,e,n);if(n.immediate)try{e.call(i,r.value)}catch(o){ee(o,i,'callback for immediate watcher "'+r.expression+'"')}return function(){r.teardown()}}}var gi=0;function _i(t){t.prototype._init=function(t){var e=this;e._uid=gi++,e._isVue=!0,t&&t._isComponent?yi(e,t):e.$options=Kt(bi(e.constructor),t||{},e),e._renderProxy=e,e._self=e,Nn(e),Cn(e),vn(e),Bn(e,"beforeCreate"),xe(e),ri(e),Oe(e),Bn(e,"created"),e.$options.el&&e.$mount(e.$options.el)}}function yi(t,e){var n=t.$options=Object.create(t.constructor.options),i=e._parentVnode;n.parent=e.parent,n._parentVnode=i;var r=i.componentOptions;n.propsData=r.propsData,n._parentListeners=r.listeners,n._renderChildren=r.children,n._componentTag=r.tag,e.render&&(n.render=e.render,n.staticRenderFns=e.staticRenderFns)}function bi(t){var e=t.options;if(t.super){var n=bi(t.super),i=t.superOptions;if(n!==i){t.superOptions=n;var r=wi(t);r&&I(t.extendOptions,r),e=t.options=Kt(n,t.extendOptions),e.name&&(e.components[e.name]=t)}}return e}function wi(t){var e,n=t.options,i=t.sealedOptions;for(var r in n)n[r]!==i[r]&&(e||(e={}),e[r]=n[r]);return e}function ki(t){this._init(t)}function Ei(t){t.use=function(t){var e=this._installedPlugins||(this._installedPlugins=[]);if(e.indexOf(t)>-1)return this;var n=P(arguments,1);return n.unshift(this),"function"===typeof t.install?t.install.apply(t,n):"function"===typeof t&&t.apply(null,n),e.push(t),this}}function Ci(t){t.mixin=function(t){return this.options=Kt(this.options,t),this}}function Si(t){t.cid=0;var e=1;t.extend=function(t){t=t||{};var n=this,i=n.cid,r=t._Ctor||(t._Ctor={});if(r[i])return r[i];var o=t.name||n.options.name;var a=function(t){this._init(t)};return a.prototype=Object.create(n.prototype),a.prototype.constructor=a,a.cid=e++,a.options=Kt(n.options,t),a["super"]=n,a.options.props&&Ai(a),a.options.computed&&Ti(a),a.extend=n.extend,a.mixin=n.mixin,a.use=n.use,q.forEach(function(t){a[t]=n[t]}),o&&(a.options.components[o]=a),a.superOptions=n.options,a.extendOptions=t,a.sealedOptions=I({},a.options),r[i]=a,a}}function Ai(t){var e=t.options.props;for(var n in e)ii(t.prototype,"_props",n)}function Ti(t){var e=t.options.computed;for(var n in e)li(t.prototype,n,e[n])}function Oi(t){q.forEach(function(e){t[e]=function(t,n){return n?("component"===e&&l(n)&&(n.name=n.name||t,n=this.options._base.extend(n)),"directive"===e&&"function"===typeof n&&(n={bind:n,update:n}),this.options[e+"s"][t]=n,n):this.options[e+"s"][t]}})}function xi(t){return t&&(t.Ctor.options.name||t.tag)}function Pi(t,e){return Array.isArray(t)?t.indexOf(e)>-1:"string"===typeof t?t.split(",").indexOf(e)>-1:!!h(t)&&t.test(e)}function Ii(t,e){var n=t.cache,i=t.keys,r=t._vnode;for(var o in n){var a=n[o];if(a){var s=xi(a.componentOptions);s&&!e(s)&&Ni(n,o,i,r)}}}function Ni(t,e,n,i){var r=t[e];!r||i&&r.tag===i.tag||r.componentInstance.$destroy(),t[e]=null,_(n,e)}_i(ki),mi(ki),xn(ki),Ln(ki),_n(ki);var Li=[String,RegExp,Array],Di={name:"keep-alive",abstract:!0,props:{include:Li,exclude:Li,max:[String,Number]},created:function(){this.cache=Object.create(null),this.keys=[]},destroyed:function(){for(var t in this.cache)Ni(this.cache,t,this.keys)},mounted:function(){var t=this;this.$watch("include",function(e){Ii(t,function(t){return Pi(e,t)})}),this.$watch("exclude",function(e){Ii(t,function(t){return!Pi(e,t)})})},render:function(){var t=this.$slots.default,e=En(t),n=e&&e.componentOptions;if(n){var i=xi(n),r=this,o=r.include,a=r.exclude;if(o&&(!i||!Pi(o,i))||a&&i&&Pi(a,i))return e;var s=this,u=s.cache,c=s.keys,l=null==e.key?n.Ctor.cid+(n.tag?"::"+n.tag:""):e.key;u[l]?(e.componentInstance=u[l].componentInstance,_(c,l),c.push(l)):(u[l]=e,c.push(l),this.max&&c.length>parseInt(this.max)&&Ni(u,c[0],c,this._vnode)),e.data.keepAlive=!0}return e||t&&t[0]}},Ri={KeepAlive:Di};function Mi(t){var e={get:function(){return $}};Object.defineProperty(t,"config",e),t.util={warn:dt,extend:I,mergeOptions:Kt,defineReactive:Dt},t.set=Rt,t.delete=Mt,t.nextTick=pe,t.observable=function(t){return Lt(t),t},t.options=Object.create(null),q.forEach(function(e){t.options[e+"s"]=Object.create(null)}),t.options._base=t,I(t.options.components,Ri),Ei(t),Ci(t),Si(t),Oi(t)}Mi(ki),Object.defineProperty(ki.prototype,"$isServer",{get:ut}),Object.defineProperty(ki.prototype,"$ssrContext",{get:function(){return this.$vnode&&this.$vnode.ssrContext}}),Object.defineProperty(ki,"FunctionalRenderContext",{value:Ye}),ki.version="2.6.7";var ji=m("style,class"),Fi=m("input,textarea,option,select,progress"),Bi=function(t,e,n){return"value"===n&&Fi(t)&&"button"!==e||"selected"===n&&"option"===t||"checked"===n&&"input"===t||"muted"===n&&"video"===t},qi=m("contenteditable,draggable,spellcheck"),Ui=m("events,caret,typing,plaintext-only"),$i=function(t,e){return Gi(e)||"false"===e?"false":"contenteditable"===t&&Ui(e)?e:"true"},Vi=m("allowfullscreen,async,autofocus,autoplay,checked,compact,controls,declare,default,defaultchecked,defaultmuted,defaultselected,defer,disabled,enabled,formnovalidate,hidden,indeterminate,inert,ismap,itemscope,loop,multiple,muted,nohref,noresize,noshade,novalidate,nowrap,open,pauseonexit,readonly,required,reversed,scoped,seamless,selected,sortable,translate,truespeed,typemustmatch,visible"),Hi="http://www.w3.org/1999/xlink",Wi=function(t){return":"===t.charAt(5)&&"xlink"===t.slice(0,5)},zi=function(t){return Wi(t)?t.slice(6,t.length):""},Gi=function(t){return null==t||!1===t};function Ki(t){var e=t.data,n=t,i=t;while(r(i.componentInstance))i=i.componentInstance._vnode,i&&i.data&&(e=Qi(i.data,e));while(r(n=n.parent))n&&n.data&&(e=Qi(e,n.data));return Xi(e.staticClass,e.class)}function Qi(t,e){return{staticClass:Yi(t.staticClass,e.staticClass),class:r(t.class)?[t.class,e.class]:e.class}}function Xi(t,e){return r(t)||r(e)?Yi(t,Ji(e)):""}function Yi(t,e){return t?e?t+" "+e:t:e||""}function Ji(t){return Array.isArray(t)?Zi(t):u(t)?tr(t):"string"===typeof t?t:""}function Zi(t){for(var e,n="",i=0,o=t.length;i<o;i++)r(e=Ji(t[i]))&&""!==e&&(n&&(n+=" "),n+=e);return n}function tr(t){var e="";for(var n in t)t[n]&&(e&&(e+=" "),e+=n);return e}var er={svg:"http://www.w3.org/2000/svg",math:"http://www.w3.org/1998/Math/MathML"},nr=m("html,body,base,head,link,meta,style,title,address,article,aside,footer,header,h1,h2,h3,h4,h5,h6,hgroup,nav,section,div,dd,dl,dt,figcaption,figure,picture,hr,img,li,main,ol,p,pre,ul,a,b,abbr,bdi,bdo,br,cite,code,data,dfn,em,i,kbd,mark,q,rp,rt,rtc,ruby,s,samp,small,span,strong,sub,sup,time,u,var,wbr,area,audio,map,track,video,embed,object,param,source,canvas,script,noscript,del,ins,caption,col,colgroup,table,thead,tbody,td,th,tr,button,datalist,fieldset,form,input,label,legend,meter,optgroup,option,output,progress,select,textarea,details,dialog,menu,menuitem,summary,content,element,shadow,template,blockquote,iframe,tfoot"),ir=m("svg,animate,circle,clippath,cursor,defs,desc,ellipse,filter,font-face,foreignObject,g,glyph,image,line,marker,mask,missing-glyph,path,pattern,polygon,polyline,rect,switch,symbol,text,textpath,tspan,use,view",!0),rr=function(t){return nr(t)||ir(t)};function or(t){return ir(t)?"svg":"math"===t?"math":void 0}var ar=Object.create(null);function sr(t){if(!X)return!0;if(rr(t))return!1;if(t=t.toLowerCase(),null!=ar[t])return ar[t];var e=document.createElement(t);return t.indexOf("-")>-1?ar[t]=e.constructor===window.HTMLUnknownElement||e.constructor===window.HTMLElement:ar[t]=/HTMLUnknownElement/.test(e.toString())}var ur=m("text,number,password,search,email,tel,url");function cr(t){if("string"===typeof t){var e=document.querySelector(t);return e||document.createElement("div")}return t}function lr(t,e){var n=document.createElement(t);return"select"!==t?n:(e.data&&e.data.attrs&&void 0!==e.data.attrs.multiple&&n.setAttribute("multiple","multiple"),n)}function hr(t,e){return document.createElementNS(er[t],e)}function fr(t){return document.createTextNode(t)}function dr(t){return document.createComment(t)}function pr(t,e,n){t.insertBefore(e,n)}function vr(t,e){t.removeChild(e)}function mr(t,e){t.appendChild(e)}function gr(t){return t.parentNode}function _r(t){return t.nextSibling}function yr(t){return t.tagName}function br(t,e){t.textContent=e}function wr(t,e){t.setAttribute(e,"")}var kr=Object.freeze({createElement:lr,createElementNS:hr,createTextNode:fr,createComment:dr,insertBefore:pr,removeChild:vr,appendChild:mr,parentNode:gr,nextSibling:_r,tagName:yr,setTextContent:br,setStyleScope:wr}),Er={create:function(t,e){Cr(e)},update:function(t,e){t.data.ref!==e.data.ref&&(Cr(t,!0),Cr(e))},destroy:function(t){Cr(t,!0)}};function Cr(t,e){var n=t.data.ref;if(r(n)){var i=t.context,o=t.componentInstance||t.elm,a=i.$refs;e?Array.isArray(a[n])?_(a[n],o):a[n]===o&&(a[n]=void 0):t.data.refInFor?Array.isArray(a[n])?a[n].indexOf(o)<0&&a[n].push(o):a[n]=[o]:a[n]=o}}var Sr=new yt("",{},[]),Ar=["create","activate","update","remove","destroy"];function Tr(t,e){return t.key===e.key&&(t.tag===e.tag&&t.isComment===e.isComment&&r(t.data)===r(e.data)&&Or(t,e)||o(t.isAsyncPlaceholder)&&t.asyncFactory===e.asyncFactory&&i(e.asyncFactory.error))}function Or(t,e){if("input"!==t.tag)return!0;var n,i=r(n=t.data)&&r(n=n.attrs)&&n.type,o=r(n=e.data)&&r(n=n.attrs)&&n.type;return i===o||ur(i)&&ur(o)}function xr(t,e,n){var i,o,a={};for(i=e;i<=n;++i)o=t[i].key,r(o)&&(a[o]=i);return a}function Pr(t){var e,n,a={},u=t.modules,c=t.nodeOps;for(e=0;e<Ar.length;++e)for(a[Ar[e]]=[],n=0;n<u.length;++n)r(u[n][Ar[e]])&&a[Ar[e]].push(u[n][Ar[e]]);function l(t){return new yt(c.tagName(t).toLowerCase(),{},[],void 0,t)}function h(t,e){function n(){0===--n.listeners&&f(t)}return n.listeners=e,n}function f(t){var e=c.parentNode(t);r(e)&&c.removeChild(e,t)}function d(t,e,n,i,a,s,u){if(r(t.elm)&&r(s)&&(t=s[u]=Et(t)),t.isRootInsert=!a,!p(t,e,n,i)){var l=t.data,h=t.children,f=t.tag;r(f)?(t.elm=t.ns?c.createElementNS(t.ns,f):c.createElement(f,t),k(t),y(t,h,e),r(l)&&w(t,e),_(n,t.elm,i)):o(t.isComment)?(t.elm=c.createComment(t.text),_(n,t.elm,i)):(t.elm=c.createTextNode(t.text),_(n,t.elm,i))}}function p(t,e,n,i){var a=t.data;if(r(a)){var s=r(t.componentInstance)&&a.keepAlive;if(r(a=a.hook)&&r(a=a.init)&&a(t,!1),r(t.componentInstance))return v(t,e),_(n,t.elm,i),o(s)&&g(t,e,n,i),!0}}function v(t,e){r(t.data.pendingInsert)&&(e.push.apply(e,t.data.pendingInsert),t.data.pendingInsert=null),t.elm=t.componentInstance.$el,b(t)?(w(t,e),k(t)):(Cr(t),e.push(t))}function g(t,e,n,i){var o,s=t;while(s.componentInstance)if(s=s.componentInstance._vnode,r(o=s.data)&&r(o=o.transition)){for(o=0;o<a.activate.length;++o)a.activate[o](Sr,s);e.push(s);break}_(n,t.elm,i)}function _(t,e,n){r(t)&&(r(n)?c.parentNode(n)===t&&c.insertBefore(t,e,n):c.appendChild(t,e))}function y(t,e,n){if(Array.isArray(e)){0;for(var i=0;i<e.length;++i)d(e[i],n,t.elm,null,!0,e,i)}else s(t.text)&&c.appendChild(t.elm,c.createTextNode(String(t.text)))}function b(t){while(t.componentInstance)t=t.componentInstance._vnode;return r(t.tag)}function w(t,n){for(var i=0;i<a.create.length;++i)a.create[i](Sr,t);e=t.data.hook,r(e)&&(r(e.create)&&e.create(Sr,t),r(e.insert)&&n.push(t))}function k(t){var e;if(r(e=t.fnScopeId))c.setStyleScope(t.elm,e);else{var n=t;while(n)r(e=n.context)&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e),n=n.parent}r(e=Pn)&&e!==t.context&&e!==t.fnContext&&r(e=e.$options._scopeId)&&c.setStyleScope(t.elm,e)}function E(t,e,n,i,r,o){for(;i<=r;++i)d(n[i],o,t,e,!1,n,i)}function C(t){var e,n,i=t.data;if(r(i))for(r(e=i.hook)&&r(e=e.destroy)&&e(t),e=0;e<a.destroy.length;++e)a.destroy[e](t);if(r(e=t.children))for(n=0;n<t.children.length;++n)C(t.children[n])}function S(t,e,n,i){for(;n<=i;++n){var o=e[n];r(o)&&(r(o.tag)?(A(o),C(o)):f(o.elm))}}function A(t,e){if(r(e)||r(t.data)){var n,i=a.remove.length+1;for(r(e)?e.listeners+=i:e=h(t.elm,i),r(n=t.componentInstance)&&r(n=n._vnode)&&r(n.data)&&A(n,e),n=0;n<a.remove.length;++n)a.remove[n](t,e);r(n=t.data.hook)&&r(n=n.remove)?n(t,e):e()}else f(t.elm)}function T(t,e,n,o,a){var s,u,l,h,f=0,p=0,v=e.length-1,m=e[0],g=e[v],_=n.length-1,y=n[0],b=n[_],w=!a;while(f<=v&&p<=_)i(m)?m=e[++f]:i(g)?g=e[--v]:Tr(m,y)?(x(m,y,o,n,p),m=e[++f],y=n[++p]):Tr(g,b)?(x(g,b,o,n,_),g=e[--v],b=n[--_]):Tr(m,b)?(x(m,b,o,n,_),w&&c.insertBefore(t,m.elm,c.nextSibling(g.elm)),m=e[++f],b=n[--_]):Tr(g,y)?(x(g,y,o,n,p),w&&c.insertBefore(t,g.elm,m.elm),g=e[--v],y=n[++p]):(i(s)&&(s=xr(e,f,v)),u=r(y.key)?s[y.key]:O(y,e,f,v),i(u)?d(y,o,t,m.elm,!1,n,p):(l=e[u],Tr(l,y)?(x(l,y,o,n,p),e[u]=void 0,w&&c.insertBefore(t,l.elm,m.elm)):d(y,o,t,m.elm,!1,n,p)),y=n[++p]);f>v?(h=i(n[_+1])?null:n[_+1].elm,E(t,h,n,p,_,o)):p>_&&S(t,e,f,v)}function O(t,e,n,i){for(var o=n;o<i;o++){var a=e[o];if(r(a)&&Tr(t,a))return o}}function x(t,e,n,s,u,l){if(t!==e){r(e.elm)&&r(s)&&(e=s[u]=Et(e));var h=e.elm=t.elm;if(o(t.isAsyncPlaceholder))r(e.asyncFactory.resolved)?N(t.elm,e,n):e.isAsyncPlaceholder=!0;else if(o(e.isStatic)&&o(t.isStatic)&&e.key===t.key&&(o(e.isCloned)||o(e.isOnce)))e.componentInstance=t.componentInstance;else{var f,d=e.data;r(d)&&r(f=d.hook)&&r(f=f.prepatch)&&f(t,e);var p=t.children,v=e.children;if(r(d)&&b(e)){for(f=0;f<a.update.length;++f)a.update[f](t,e);r(f=d.hook)&&r(f=f.update)&&f(t,e)}i(e.text)?r(p)&&r(v)?p!==v&&T(h,p,v,n,l):r(v)?(r(t.text)&&c.setTextContent(h,""),E(h,null,v,0,v.length-1,n)):r(p)?S(h,p,0,p.length-1):r(t.text)&&c.setTextContent(h,""):t.text!==e.text&&c.setTextContent(h,e.text),r(d)&&r(f=d.hook)&&r(f=f.postpatch)&&f(t,e)}}}function P(t,e,n){if(o(n)&&r(t.parent))t.parent.data.pendingInsert=e;else for(var i=0;i<e.length;++i)e[i].data.hook.insert(e[i])}var I=m("attrs,class,staticClass,staticStyle,key");function N(t,e,n,i){var a,s=e.tag,u=e.data,c=e.children;if(i=i||u&&u.pre,e.elm=t,o(e.isComment)&&r(e.asyncFactory))return e.isAsyncPlaceholder=!0,!0;if(r(u)&&(r(a=u.hook)&&r(a=a.init)&&a(e,!0),r(a=e.componentInstance)))return v(e,n),!0;if(r(s)){if(r(c))if(t.hasChildNodes())if(r(a=u)&&r(a=a.domProps)&&r(a=a.innerHTML)){if(a!==t.innerHTML)return!1}else{for(var l=!0,h=t.firstChild,f=0;f<c.length;f++){if(!h||!N(h,c[f],n,i)){l=!1;break}h=h.nextSibling}if(!l||h)return!1}else y(e,c,n);if(r(u)){var d=!1;for(var p in u)if(!I(p)){d=!0,w(e,n);break}!d&&u["class"]&&me(u["class"])}}else t.data!==e.text&&(t.data=e.text);return!0}return function(t,e,n,s){if(!i(e)){var u=!1,h=[];if(i(t))u=!0,d(e,h);else{var f=r(t.nodeType);if(!f&&Tr(t,e))x(t,e,h,null,null,s);else{if(f){if(1===t.nodeType&&t.hasAttribute(B)&&(t.removeAttribute(B),n=!0),o(n)&&N(t,e,h))return P(e,h,!0),t;t=l(t)}var p=t.elm,v=c.parentNode(p);if(d(e,h,p._leaveCb?null:v,c.nextSibling(p)),r(e.parent)){var m=e.parent,g=b(e);while(m){for(var _=0;_<a.destroy.length;++_)a.destroy[_](m);if(m.elm=e.elm,g){for(var y=0;y<a.create.length;++y)a.create[y](Sr,m);var w=m.data.hook.insert;if(w.merged)for(var k=1;k<w.fns.length;k++)w.fns[k]()}else Cr(m);m=m.parent}}r(v)?S(v,[t],0,0):r(t.tag)&&C(t)}}return P(e,h,u),e.elm}r(t)&&C(t)}}var Ir={create:Nr,update:Nr,destroy:function(t){Nr(t,Sr)}};function Nr(t,e){(t.data.directives||e.data.directives)&&Lr(t,e)}function Lr(t,e){var n,i,r,o=t===Sr,a=e===Sr,s=Rr(t.data.directives,t.context),u=Rr(e.data.directives,e.context),c=[],l=[];for(n in u)i=s[n],r=u[n],i?(r.oldValue=i.value,r.oldArg=i.arg,jr(r,"update",e,t),r.def&&r.def.componentUpdated&&l.push(r)):(jr(r,"bind",e,t),r.def&&r.def.inserted&&c.push(r));if(c.length){var h=function(){for(var n=0;n<c.length;n++)jr(c[n],"inserted",e,t)};o?we(e,"insert",h):h()}if(l.length&&we(e,"postpatch",function(){for(var n=0;n<l.length;n++)jr(l[n],"componentUpdated",e,t)}),!o)for(n in s)u[n]||jr(s[n],"unbind",t,t,a)}var Dr=Object.create(null);function Rr(t,e){var n,i,r=Object.create(null);if(!t)return r;for(n=0;n<t.length;n++)i=t[n],i.modifiers||(i.modifiers=Dr),r[Mr(i)]=i,i.def=Qt(e.$options,"directives",i.name,!0);return r}function Mr(t){return t.rawName||t.name+"."+Object.keys(t.modifiers||{}).join(".")}function jr(t,e,n,i,r){var o=t.def&&t.def[e];if(o)try{o(n.elm,t,n,i,r)}catch(ka){ee(ka,n.context,"directive "+t.name+" "+e+" hook")}}var Fr=[Er,Ir];function Br(t,e){var n=e.componentOptions;if((!r(n)||!1!==n.Ctor.options.inheritAttrs)&&(!i(t.data.attrs)||!i(e.data.attrs))){var o,a,s,u=e.elm,c=t.data.attrs||{},l=e.data.attrs||{};for(o in r(l.__ob__)&&(l=e.data.attrs=I({},l)),l)a=l[o],s=c[o],s!==a&&qr(u,o,a);for(o in(tt||nt)&&l.value!==c.value&&qr(u,"value",l.value),c)i(l[o])&&(Wi(o)?u.removeAttributeNS(Hi,zi(o)):qi(o)||u.removeAttribute(o))}}function qr(t,e,n){t.tagName.indexOf("-")>-1?Ur(t,e,n):Vi(e)?Gi(n)?t.removeAttribute(e):(n="allowfullscreen"===e&&"EMBED"===t.tagName?"true":e,t.setAttribute(e,n)):qi(e)?t.setAttribute(e,$i(e,n)):Wi(e)?Gi(n)?t.removeAttributeNS(Hi,zi(e)):t.setAttributeNS(Hi,e,n):Ur(t,e,n)}function Ur(t,e,n){if(Gi(n))t.removeAttribute(e);else{if(tt&&!et&&"TEXTAREA"===t.tagName&&"placeholder"===e&&""!==n&&!t.__ieph){var i=function(e){e.stopImmediatePropagation(),t.removeEventListener("input",i)};t.addEventListener("input",i),t.__ieph=!0}t.setAttribute(e,n)}}var $r={create:Br,update:Br};function Vr(t,e){var n=e.elm,o=e.data,a=t.data;if(!(i(o.staticClass)&&i(o.class)&&(i(a)||i(a.staticClass)&&i(a.class)))){var s=Ki(e),u=n._transitionClasses;r(u)&&(s=Yi(s,Ji(u))),s!==n._prevClass&&(n.setAttribute("class",s),n._prevClass=s)}}var Hr,Wr={create:Vr,update:Vr},zr="__r",Gr="__c";function Kr(t){if(r(t[zr])){var e=tt?"change":"input";t[e]=[].concat(t[zr],t[e]||[]),delete t[zr]}r(t[Gr])&&(t.change=[].concat(t[Gr],t.change||[]),delete t[Gr])}function Qr(t,e,n){var i=Hr;return function r(){var o=e.apply(null,arguments);null!==o&&Jr(t,r,n,i)}}var Xr=ae&&!(rt&&Number(rt[1])<=53);function Yr(t,e,n,i){if(Xr){var r=Gn,o=e;e=o._wrapper=function(t){if(t.target===t.currentTarget||t.timeStamp>=r||0===t.timeStamp||t.target.ownerDocument!==document)return o.apply(this,arguments)}}Hr.addEventListener(t,e,at?{capture:n,passive:i}:n)}function Jr(t,e,n,i){(i||Hr).removeEventListener(t,e._wrapper||e,n)}function Zr(t,e){if(!i(t.data.on)||!i(e.data.on)){var n=e.data.on||{},r=t.data.on||{};Hr=e.elm,Kr(n),be(n,r,Yr,Jr,Qr,e.context),Hr=void 0}}var to,eo={create:Zr,update:Zr};function no(t,e){if(!i(t.data.domProps)||!i(e.data.domProps)){var n,o,a=e.elm,s=t.data.domProps||{},u=e.data.domProps||{};for(n in r(u.__ob__)&&(u=e.data.domProps=I({},u)),s)i(u[n])&&(a[n]="");for(n in u){if(o=u[n],"textContent"===n||"innerHTML"===n){if(e.children&&(e.children.length=0),o===s[n])continue;1===a.childNodes.length&&a.removeChild(a.childNodes[0])}if("value"===n&&"PROGRESS"!==a.tagName){a._value=o;var c=i(o)?"":String(o);io(a,c)&&(a.value=c)}else if("innerHTML"===n&&ir(a.tagName)&&i(a.innerHTML)){to=to||document.createElement("div"),to.innerHTML="<svg>"+o+"</svg>";var l=to.firstChild;while(a.firstChild)a.removeChild(a.firstChild);while(l.firstChild)a.appendChild(l.firstChild)}else if(o!==s[n])try{a[n]=o}catch(ka){}}}}function io(t,e){return!t.composing&&("OPTION"===t.tagName||ro(t,e)||oo(t,e))}function ro(t,e){var n=!0;try{n=document.activeElement!==t}catch(ka){}return n&&t.value!==e}function oo(t,e){var n=t.value,i=t._vModifiers;if(r(i)){if(i.number)return v(n)!==v(e);if(i.trim)return n.trim()!==e.trim()}return n!==e}var ao={create:no,update:no},so=w(function(t){var e={},n=/;(?![^(]*\))/g,i=/:(.+)/;return t.split(n).forEach(function(t){if(t){var n=t.split(i);n.length>1&&(e[n[0].trim()]=n[1].trim())}}),e});function uo(t){var e=co(t.style);return t.staticStyle?I(t.staticStyle,e):e}function co(t){return Array.isArray(t)?N(t):"string"===typeof t?so(t):t}function lo(t,e){var n,i={};if(e){var r=t;while(r.componentInstance)r=r.componentInstance._vnode,r&&r.data&&(n=uo(r.data))&&I(i,n)}(n=uo(t.data))&&I(i,n);var o=t;while(o=o.parent)o.data&&(n=uo(o.data))&&I(i,n);return i}var ho,fo=/^--/,po=/\s*!important$/,vo=function(t,e,n){if(fo.test(e))t.style.setProperty(e,n);else if(po.test(n))t.style.setProperty(A(e),n.replace(po,""),"important");else{var i=go(e);if(Array.isArray(n))for(var r=0,o=n.length;r<o;r++)t.style[i]=n[r];else t.style[i]=n}},mo=["Webkit","Moz","ms"],go=w(function(t){if(ho=ho||document.createElement("div").style,t=E(t),"filter"!==t&&t in ho)return t;for(var e=t.charAt(0).toUpperCase()+t.slice(1),n=0;n<mo.length;n++){var i=mo[n]+e;if(i in ho)return i}});function _o(t,e){var n=e.data,o=t.data;if(!(i(n.staticStyle)&&i(n.style)&&i(o.staticStyle)&&i(o.style))){var a,s,u=e.elm,c=o.staticStyle,l=o.normalizedStyle||o.style||{},h=c||l,f=co(e.data.style)||{};e.data.normalizedStyle=r(f.__ob__)?I({},f):f;var d=lo(e,!0);for(s in h)i(d[s])&&vo(u,s,"");for(s in d)a=d[s],a!==h[s]&&vo(u,s,null==a?"":a)}}var yo={create:_o,update:_o},bo=/\s+/;function wo(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach(function(e){return t.classList.add(e)}):t.classList.add(e);else{var n=" "+(t.getAttribute("class")||"")+" ";n.indexOf(" "+e+" ")<0&&t.setAttribute("class",(n+e).trim())}}function ko(t,e){if(e&&(e=e.trim()))if(t.classList)e.indexOf(" ")>-1?e.split(bo).forEach(function(e){return t.classList.remove(e)}):t.classList.remove(e),t.classList.length||t.removeAttribute("class");else{var n=" "+(t.getAttribute("class")||"")+" ",i=" "+e+" ";while(n.indexOf(i)>=0)n=n.replace(i," ");n=n.trim(),n?t.setAttribute("class",n):t.removeAttribute("class")}}function Eo(t){if(t){if("object"===typeof t){var e={};return!1!==t.css&&I(e,Co(t.name||"v")),I(e,t),e}return"string"===typeof t?Co(t):void 0}}var Co=w(function(t){return{enterClass:t+"-enter",enterToClass:t+"-enter-to",enterActiveClass:t+"-enter-active",leaveClass:t+"-leave",leaveToClass:t+"-leave-to",leaveActiveClass:t+"-leave-active"}}),So=X&&!et,Ao="transition",To="animation",Oo="transition",xo="transitionend",Po="animation",Io="animationend";So&&(void 0===window.ontransitionend&&void 0!==window.onwebkittransitionend&&(Oo="WebkitTransition",xo="webkitTransitionEnd"),void 0===window.onanimationend&&void 0!==window.onwebkitanimationend&&(Po="WebkitAnimation",Io="webkitAnimationEnd"));var No=X?window.requestAnimationFrame?window.requestAnimationFrame.bind(window):setTimeout:function(t){return t()};function Lo(t){No(function(){No(t)})}function Do(t,e){var n=t._transitionClasses||(t._transitionClasses=[]);n.indexOf(e)<0&&(n.push(e),wo(t,e))}function Ro(t,e){t._transitionClasses&&_(t._transitionClasses,e),ko(t,e)}function Mo(t,e,n){var i=Fo(t,e),r=i.type,o=i.timeout,a=i.propCount;if(!r)return n();var s=r===Ao?xo:Io,u=0,c=function(){t.removeEventListener(s,l),n()},l=function(e){e.target===t&&++u>=a&&c()};setTimeout(function(){u<a&&c()},o+1),t.addEventListener(s,l)}var jo=/\b(transform|all)(,|$)/;function Fo(t,e){var n,i=window.getComputedStyle(t),r=(i[Oo+"Delay"]||"").split(", "),o=(i[Oo+"Duration"]||"").split(", "),a=Bo(r,o),s=(i[Po+"Delay"]||"").split(", "),u=(i[Po+"Duration"]||"").split(", "),c=Bo(s,u),l=0,h=0;e===Ao?a>0&&(n=Ao,l=a,h=o.length):e===To?c>0&&(n=To,l=c,h=u.length):(l=Math.max(a,c),n=l>0?a>c?Ao:To:null,h=n?n===Ao?o.length:u.length:0);var f=n===Ao&&jo.test(i[Oo+"Property"]);return{type:n,timeout:l,propCount:h,hasTransform:f}}function Bo(t,e){while(t.length<e.length)t=t.concat(t);return Math.max.apply(null,e.map(function(e,n){return qo(e)+qo(t[n])}))}function qo(t){return 1e3*Number(t.slice(0,-1).replace(",","."))}function Uo(t,e){var n=t.elm;r(n._leaveCb)&&(n._leaveCb.cancelled=!0,n._leaveCb());var o=Eo(t.data.transition);if(!i(o)&&!r(n._enterCb)&&1===n.nodeType){var a=o.css,s=o.type,c=o.enterClass,l=o.enterToClass,h=o.enterActiveClass,f=o.appearClass,d=o.appearToClass,p=o.appearActiveClass,m=o.beforeEnter,g=o.enter,_=o.afterEnter,y=o.enterCancelled,b=o.beforeAppear,w=o.appear,k=o.afterAppear,E=o.appearCancelled,C=o.duration,S=Pn,A=Pn.$vnode;while(A&&A.parent)A=A.parent,S=A.context;var T=!S._isMounted||!t.isRootInsert;if(!T||w||""===w){var O=T&&f?f:c,x=T&&p?p:h,P=T&&d?d:l,I=T&&b||m,N=T&&"function"===typeof w?w:g,L=T&&k||_,D=T&&E||y,R=v(u(C)?C.enter:C);0;var M=!1!==a&&!et,j=Ho(N),B=n._enterCb=F(function(){M&&(Ro(n,P),Ro(n,x)),B.cancelled?(M&&Ro(n,O),D&&D(n)):L&&L(n),n._enterCb=null});t.data.show||we(t,"insert",function(){var e=n.parentNode,i=e&&e._pending&&e._pending[t.key];i&&i.tag===t.tag&&i.elm._leaveCb&&i.elm._leaveCb(),N&&N(n,B)}),I&&I(n),M&&(Do(n,O),Do(n,x),Lo(function(){Ro(n,O),B.cancelled||(Do(n,P),j||(Vo(R)?setTimeout(B,R):Mo(n,s,B)))})),t.data.show&&(e&&e(),N&&N(n,B)),M||j||B()}}}function $o(t,e){var n=t.elm;r(n._enterCb)&&(n._enterCb.cancelled=!0,n._enterCb());var o=Eo(t.data.transition);if(i(o)||1!==n.nodeType)return e();if(!r(n._leaveCb)){var a=o.css,s=o.type,c=o.leaveClass,l=o.leaveToClass,h=o.leaveActiveClass,f=o.beforeLeave,d=o.leave,p=o.afterLeave,m=o.leaveCancelled,g=o.delayLeave,_=o.duration,y=!1!==a&&!et,b=Ho(d),w=v(u(_)?_.leave:_);0;var k=n._leaveCb=F(function(){n.parentNode&&n.parentNode._pending&&(n.parentNode._pending[t.key]=null),y&&(Ro(n,l),Ro(n,h)),k.cancelled?(y&&Ro(n,c),m&&m(n)):(e(),p&&p(n)),n._leaveCb=null});g?g(E):E()}function E(){k.cancelled||(!t.data.show&&n.parentNode&&((n.parentNode._pending||(n.parentNode._pending={}))[t.key]=t),f&&f(n),y&&(Do(n,c),Do(n,h),Lo(function(){Ro(n,c),k.cancelled||(Do(n,l),b||(Vo(w)?setTimeout(k,w):Mo(n,s,k)))})),d&&d(n,k),y||b||k())}}function Vo(t){return"number"===typeof t&&!isNaN(t)}function Ho(t){if(i(t))return!1;var e=t.fns;return r(e)?Ho(Array.isArray(e)?e[0]:e):(t._length||t.length)>1}function Wo(t,e){!0!==e.data.show&&Uo(e)}var zo=X?{create:Wo,activate:Wo,remove:function(t,e){!0!==t.data.show?$o(t,e):e()}}:{},Go=[$r,Wr,eo,ao,yo,zo],Ko=Go.concat(Fr),Qo=Pr({nodeOps:kr,modules:Ko});et&&document.addEventListener("selectionchange",function(){var t=document.activeElement;t&&t.vmodel&&ia(t,"input")});var Xo={inserted:function(t,e,n,i){"select"===n.tag?(i.elm&&!i.elm._vOptions?we(n,"postpatch",function(){Xo.componentUpdated(t,e,n)}):Yo(t,e,n.context),t._vOptions=[].map.call(t.options,ta)):("textarea"===n.tag||ur(t.type))&&(t._vModifiers=e.modifiers,e.modifiers.lazy||(t.addEventListener("compositionstart",ea),t.addEventListener("compositionend",na),t.addEventListener("change",na),et&&(t.vmodel=!0)))},componentUpdated:function(t,e,n){if("select"===n.tag){Yo(t,e,n.context);var i=t._vOptions,r=t._vOptions=[].map.call(t.options,ta);if(r.some(function(t,e){return!M(t,i[e])})){var o=t.multiple?e.value.some(function(t){return Zo(t,r)}):e.value!==e.oldValue&&Zo(e.value,r);o&&ia(t,"change")}}}};function Yo(t,e,n){Jo(t,e,n),(tt||nt)&&setTimeout(function(){Jo(t,e,n)},0)}function Jo(t,e,n){var i=e.value,r=t.multiple;if(!r||Array.isArray(i)){for(var o,a,s=0,u=t.options.length;s<u;s++)if(a=t.options[s],r)o=j(i,ta(a))>-1,a.selected!==o&&(a.selected=o);else if(M(ta(a),i))return void(t.selectedIndex!==s&&(t.selectedIndex=s));r||(t.selectedIndex=-1)}}function Zo(t,e){return e.every(function(e){return!M(e,t)})}function ta(t){return"_value"in t?t._value:t.value}function ea(t){t.target.composing=!0}function na(t){t.target.composing&&(t.target.composing=!1,ia(t.target,"input"))}function ia(t,e){var n=document.createEvent("HTMLEvents");n.initEvent(e,!0,!0),t.dispatchEvent(n)}function ra(t){return!t.componentInstance||t.data&&t.data.transition?t:ra(t.componentInstance._vnode)}var oa={bind:function(t,e,n){var i=e.value;n=ra(n);var r=n.data&&n.data.transition,o=t.__vOriginalDisplay="none"===t.style.display?"":t.style.display;i&&r?(n.data.show=!0,Uo(n,function(){t.style.display=o})):t.style.display=i?o:"none"},update:function(t,e,n){var i=e.value,r=e.oldValue;if(!i!==!r){n=ra(n);var o=n.data&&n.data.transition;o?(n.data.show=!0,i?Uo(n,function(){t.style.display=t.__vOriginalDisplay}):$o(n,function(){t.style.display="none"})):t.style.display=i?t.__vOriginalDisplay:"none"}},unbind:function(t,e,n,i,r){r||(t.style.display=t.__vOriginalDisplay)}},aa={model:Xo,show:oa},sa={name:String,appear:Boolean,css:Boolean,mode:String,type:String,enterClass:String,leaveClass:String,enterToClass:String,leaveToClass:String,enterActiveClass:String,leaveActiveClass:String,appearClass:String,appearActiveClass:String,appearToClass:String,duration:[Number,String,Object]};function ua(t){var e=t&&t.componentOptions;return e&&e.Ctor.options.abstract?ua(En(e.children)):t}function ca(t){var e={},n=t.$options;for(var i in n.propsData)e[i]=t[i];var r=n._parentListeners;for(var o in r)e[E(o)]=r[o];return e}function la(t,e){if(/\d-keep-alive$/.test(e.tag))return t("keep-alive",{props:e.componentOptions.propsData})}function ha(t){while(t=t.parent)if(t.data.transition)return!0}function fa(t,e){return e.key===t.key&&e.tag===t.tag}var da=function(t){return t.tag||kn(t)},pa=function(t){return"show"===t.name},va={name:"transition",props:sa,abstract:!0,render:function(t){var e=this,n=this.$slots.default;if(n&&(n=n.filter(da),n.length)){0;var i=this.mode;0;var r=n[0];if(ha(this.$vnode))return r;var o=ua(r);if(!o)return r;if(this._leaving)return la(t,r);var a="__transition-"+this._uid+"-";o.key=null==o.key?o.isComment?a+"comment":a+o.tag:s(o.key)?0===String(o.key).indexOf(a)?o.key:a+o.key:o.key;var u=(o.data||(o.data={})).transition=ca(this),c=this._vnode,l=ua(c);if(o.data.directives&&o.data.directives.some(pa)&&(o.data.show=!0),l&&l.data&&!fa(o,l)&&!kn(l)&&(!l.componentInstance||!l.componentInstance._vnode.isComment)){var h=l.data.transition=I({},u);if("out-in"===i)return this._leaving=!0,we(h,"afterLeave",function(){e._leaving=!1,e.$forceUpdate()}),la(t,r);if("in-out"===i){if(kn(o))return c;var f,d=function(){f()};we(u,"afterEnter",d),we(u,"enterCancelled",d),we(h,"delayLeave",function(t){f=t})}}return r}}},ma=I({tag:String,moveClass:String},sa);delete ma.mode;var ga={props:ma,beforeMount:function(){var t=this,e=this._update;this._update=function(n,i){var r=In(t);t.__patch__(t._vnode,t.kept,!1,!0),t._vnode=t.kept,r(),e.call(t,n,i)}},render:function(t){for(var e=this.tag||this.$vnode.data.tag||"span",n=Object.create(null),i=this.prevChildren=this.children,r=this.$slots.default||[],o=this.children=[],a=ca(this),s=0;s<r.length;s++){var u=r[s];if(u.tag)if(null!=u.key&&0!==String(u.key).indexOf("__vlist"))o.push(u),n[u.key]=u,(u.data||(u.data={})).transition=a;else;}if(i){for(var c=[],l=[],h=0;h<i.length;h++){var f=i[h];f.data.transition=a,f.data.pos=f.elm.getBoundingClientRect(),n[f.key]?c.push(f):l.push(f)}this.kept=t(e,null,c),this.removed=l}return t(e,null,o)},updated:function(){var t=this.prevChildren,e=this.moveClass||(this.name||"v")+"-move";t.length&&this.hasMove(t[0].elm,e)&&(t.forEach(_a),t.forEach(ya),t.forEach(ba),this._reflow=document.body.offsetHeight,t.forEach(function(t){if(t.data.moved){var n=t.elm,i=n.style;Do(n,e),i.transform=i.WebkitTransform=i.transitionDuration="",n.addEventListener(xo,n._moveCb=function t(i){i&&i.target!==n||i&&!/transform$/.test(i.propertyName)||(n.removeEventListener(xo,t),n._moveCb=null,Ro(n,e))})}}))},methods:{hasMove:function(t,e){if(!So)return!1;if(this._hasMove)return this._hasMove;var n=t.cloneNode();t._transitionClasses&&t._transitionClasses.forEach(function(t){ko(n,t)}),wo(n,e),n.style.display="none",this.$el.appendChild(n);var i=Fo(n);return this.$el.removeChild(n),this._hasMove=i.hasTransform}}};function _a(t){t.elm._moveCb&&t.elm._moveCb(),t.elm._enterCb&&t.elm._enterCb()}function ya(t){t.data.newPos=t.elm.getBoundingClientRect()}function ba(t){var e=t.data.pos,n=t.data.newPos,i=e.left-n.left,r=e.top-n.top;if(i||r){t.data.moved=!0;var o=t.elm.style;o.transform=o.WebkitTransform="translate("+i+"px,"+r+"px)",o.transitionDuration="0s"}}var wa={Transition:va,TransitionGroup:ga};ki.config.mustUseProp=Bi,ki.config.isReservedTag=rr,ki.config.isReservedAttr=ji,ki.config.getTagNamespace=or,ki.config.isUnknownElement=sr,I(ki.options.directives,aa),I(ki.options.components,wa),ki.prototype.__patch__=X?Qo:L,ki.prototype.$mount=function(t,e){return t=t&&X?cr(t):void 0,Dn(this,t,e)},X&&setTimeout(function(){$.devtools&&ct&&ct.emit("init",ki)},0),e["a"]=ki}).call(this,n("c8ba"))},"2b10":function(t,e,n){var i=n("235a");i(i.P,"String",{repeat:n("8115")})},"2b4c":function(t,e,n){var i=n("5537")("wks"),r=n("ca5a"),o=n("7726").Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},"2d00":function(t,e){t.exports=!1},"2d95":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"2f37":function(t,e,n){var i=n("63b6");i(i.S,"Date",{now:function(){return(new Date).getTime()}})},"2f62":function(t,e,n){"use strict";
/**
 * vuex v3.1.0
 * (c) 2019 Evan You
 * @license MIT
 */function i(t){var e=Number(t.version.split(".")[0]);if(e>=2)t.mixin({beforeCreate:i});else{var n=t.prototype._init;t.prototype._init=function(t){void 0===t&&(t={}),t.init=t.init?[i].concat(t.init):i,n.call(this,t)}}function i(){var t=this.$options;t.store?this.$store="function"===typeof t.store?t.store():t.store:t.parent&&t.parent.$store&&(this.$store=t.parent.$store)}}var r="undefined"!==typeof window&&window.__VUE_DEVTOOLS_GLOBAL_HOOK__;function o(t){r&&(t._devtoolHook=r,r.emit("vuex:init",t),r.on("vuex:travel-to-state",function(e){t.replaceState(e)}),t.subscribe(function(t,e){r.emit("vuex:mutation",t,e)}))}function a(t,e){Object.keys(t).forEach(function(n){return e(t[n],n)})}function s(t){return null!==t&&"object"===typeof t}function u(t){return t&&"function"===typeof t.then}var c=function(t,e){this.runtime=e,this._children=Object.create(null),this._rawModule=t;var n=t.state;this.state=("function"===typeof n?n():n)||{}},l={namespaced:{configurable:!0}};l.namespaced.get=function(){return!!this._rawModule.namespaced},c.prototype.addChild=function(t,e){this._children[t]=e},c.prototype.removeChild=function(t){delete this._children[t]},c.prototype.getChild=function(t){return this._children[t]},c.prototype.update=function(t){this._rawModule.namespaced=t.namespaced,t.actions&&(this._rawModule.actions=t.actions),t.mutations&&(this._rawModule.mutations=t.mutations),t.getters&&(this._rawModule.getters=t.getters)},c.prototype.forEachChild=function(t){a(this._children,t)},c.prototype.forEachGetter=function(t){this._rawModule.getters&&a(this._rawModule.getters,t)},c.prototype.forEachAction=function(t){this._rawModule.actions&&a(this._rawModule.actions,t)},c.prototype.forEachMutation=function(t){this._rawModule.mutations&&a(this._rawModule.mutations,t)},Object.defineProperties(c.prototype,l);var h=function(t){this.register([],t,!1)};function f(t,e,n){if(e.update(n),n.modules)for(var i in n.modules){if(!e.getChild(i))return void 0;f(t.concat(i),e.getChild(i),n.modules[i])}}h.prototype.get=function(t){return t.reduce(function(t,e){return t.getChild(e)},this.root)},h.prototype.getNamespace=function(t){var e=this.root;return t.reduce(function(t,n){return e=e.getChild(n),t+(e.namespaced?n+"/":"")},"")},h.prototype.update=function(t){f([],this.root,t)},h.prototype.register=function(t,e,n){var i=this;void 0===n&&(n=!0);var r=new c(e,n);if(0===t.length)this.root=r;else{var o=this.get(t.slice(0,-1));o.addChild(t[t.length-1],r)}e.modules&&a(e.modules,function(e,r){i.register(t.concat(r),e,n)})},h.prototype.unregister=function(t){var e=this.get(t.slice(0,-1)),n=t[t.length-1];e.getChild(n).runtime&&e.removeChild(n)};var d;var p=function(t){var e=this;void 0===t&&(t={}),!d&&"undefined"!==typeof window&&window.Vue&&O(window.Vue);var n=t.plugins;void 0===n&&(n=[]);var i=t.strict;void 0===i&&(i=!1),this._committing=!1,this._actions=Object.create(null),this._actionSubscribers=[],this._mutations=Object.create(null),this._wrappedGetters=Object.create(null),this._modules=new h(t),this._modulesNamespaceMap=Object.create(null),this._subscribers=[],this._watcherVM=new d;var r=this,a=this,s=a.dispatch,u=a.commit;this.dispatch=function(t,e){return s.call(r,t,e)},this.commit=function(t,e,n){return u.call(r,t,e,n)},this.strict=i;var c=this._modules.root.state;y(this,c,[],this._modules.root),_(this,c),n.forEach(function(t){return t(e)});var l=void 0!==t.devtools?t.devtools:d.config.devtools;l&&o(this)},v={state:{configurable:!0}};function m(t,e){return e.indexOf(t)<0&&e.push(t),function(){var n=e.indexOf(t);n>-1&&e.splice(n,1)}}function g(t,e){t._actions=Object.create(null),t._mutations=Object.create(null),t._wrappedGetters=Object.create(null),t._modulesNamespaceMap=Object.create(null);var n=t.state;y(t,n,[],t._modules.root,!0),_(t,n,e)}function _(t,e,n){var i=t._vm;t.getters={};var r=t._wrappedGetters,o={};a(r,function(e,n){o[n]=function(){return e(t)},Object.defineProperty(t.getters,n,{get:function(){return t._vm[n]},enumerable:!0})});var s=d.config.silent;d.config.silent=!0,t._vm=new d({data:{$$state:e},computed:o}),d.config.silent=s,t.strict&&S(t),i&&(n&&t._withCommit(function(){i._data.$$state=null}),d.nextTick(function(){return i.$destroy()}))}function y(t,e,n,i,r){var o=!n.length,a=t._modules.getNamespace(n);if(i.namespaced&&(t._modulesNamespaceMap[a]=i),!o&&!r){var s=A(e,n.slice(0,-1)),u=n[n.length-1];t._withCommit(function(){d.set(s,u,i.state)})}var c=i.context=b(t,a,n);i.forEachMutation(function(e,n){var i=a+n;k(t,i,e,c)}),i.forEachAction(function(e,n){var i=e.root?n:a+n,r=e.handler||e;E(t,i,r,c)}),i.forEachGetter(function(e,n){var i=a+n;C(t,i,e,c)}),i.forEachChild(function(i,o){y(t,e,n.concat(o),i,r)})}function b(t,e,n){var i=""===e,r={dispatch:i?t.dispatch:function(n,i,r){var o=T(n,i,r),a=o.payload,s=o.options,u=o.type;return s&&s.root||(u=e+u),t.dispatch(u,a)},commit:i?t.commit:function(n,i,r){var o=T(n,i,r),a=o.payload,s=o.options,u=o.type;s&&s.root||(u=e+u),t.commit(u,a,s)}};return Object.defineProperties(r,{getters:{get:i?function(){return t.getters}:function(){return w(t,e)}},state:{get:function(){return A(t.state,n)}}}),r}function w(t,e){var n={},i=e.length;return Object.keys(t.getters).forEach(function(r){if(r.slice(0,i)===e){var o=r.slice(i);Object.defineProperty(n,o,{get:function(){return t.getters[r]},enumerable:!0})}}),n}function k(t,e,n,i){var r=t._mutations[e]||(t._mutations[e]=[]);r.push(function(e){n.call(t,i.state,e)})}function E(t,e,n,i){var r=t._actions[e]||(t._actions[e]=[]);r.push(function(e,r){var o=n.call(t,{dispatch:i.dispatch,commit:i.commit,getters:i.getters,state:i.state,rootGetters:t.getters,rootState:t.state},e,r);return u(o)||(o=Promise.resolve(o)),t._devtoolHook?o.catch(function(e){throw t._devtoolHook.emit("vuex:error",e),e}):o})}function C(t,e,n,i){t._wrappedGetters[e]||(t._wrappedGetters[e]=function(t){return n(i.state,i.getters,t.state,t.getters)})}function S(t){t._vm.$watch(function(){return this._data.$$state},function(){0},{deep:!0,sync:!0})}function A(t,e){return e.length?e.reduce(function(t,e){return t[e]},t):t}function T(t,e,n){return s(t)&&t.type&&(n=e,e=t,t=t.type),{type:t,payload:e,options:n}}function O(t){d&&t===d||(d=t,i(d))}v.state.get=function(){return this._vm._data.$$state},v.state.set=function(t){0},p.prototype.commit=function(t,e,n){var i=this,r=T(t,e,n),o=r.type,a=r.payload,s=(r.options,{type:o,payload:a}),u=this._mutations[o];u&&(this._withCommit(function(){u.forEach(function(t){t(a)})}),this._subscribers.forEach(function(t){return t(s,i.state)}))},p.prototype.dispatch=function(t,e){var n=this,i=T(t,e),r=i.type,o=i.payload,a={type:r,payload:o},s=this._actions[r];if(s){try{this._actionSubscribers.filter(function(t){return t.before}).forEach(function(t){return t.before(a,n.state)})}catch(c){0}var u=s.length>1?Promise.all(s.map(function(t){return t(o)})):s[0](o);return u.then(function(t){try{n._actionSubscribers.filter(function(t){return t.after}).forEach(function(t){return t.after(a,n.state)})}catch(c){0}return t})}},p.prototype.subscribe=function(t){return m(t,this._subscribers)},p.prototype.subscribeAction=function(t){var e="function"===typeof t?{before:t}:t;return m(e,this._actionSubscribers)},p.prototype.watch=function(t,e,n){var i=this;return this._watcherVM.$watch(function(){return t(i.state,i.getters)},e,n)},p.prototype.replaceState=function(t){var e=this;this._withCommit(function(){e._vm._data.$$state=t})},p.prototype.registerModule=function(t,e,n){void 0===n&&(n={}),"string"===typeof t&&(t=[t]),this._modules.register(t,e),y(this,this.state,t,this._modules.get(t),n.preserveState),_(this,this.state)},p.prototype.unregisterModule=function(t){var e=this;"string"===typeof t&&(t=[t]),this._modules.unregister(t),this._withCommit(function(){var n=A(e.state,t.slice(0,-1));d.delete(n,t[t.length-1])}),g(this)},p.prototype.hotUpdate=function(t){this._modules.update(t),g(this,!0)},p.prototype._withCommit=function(t){var e=this._committing;this._committing=!0,t(),this._committing=e},Object.defineProperties(p.prototype,v);var x=R(function(t,e){var n={};return D(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=this.$store.state,n=this.$store.getters;if(t){var i=M(this.$store,"mapState",t);if(!i)return;e=i.context.state,n=i.context.getters}return"function"===typeof r?r.call(this,e,n):e[r]},n[i].vuex=!0}),n}),P=R(function(t,e){var n={};return D(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.commit;if(t){var o=M(this.$store,"mapMutations",t);if(!o)return;i=o.context.commit}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),I=R(function(t,e){var n={};return D(e).forEach(function(e){var i=e.key,r=e.val;r=t+r,n[i]=function(){if(!t||M(this.$store,"mapGetters",t))return this.$store.getters[r]},n[i].vuex=!0}),n}),N=R(function(t,e){var n={};return D(e).forEach(function(e){var i=e.key,r=e.val;n[i]=function(){var e=[],n=arguments.length;while(n--)e[n]=arguments[n];var i=this.$store.dispatch;if(t){var o=M(this.$store,"mapActions",t);if(!o)return;i=o.context.dispatch}return"function"===typeof r?r.apply(this,[i].concat(e)):i.apply(this.$store,[r].concat(e))}}),n}),L=function(t){return{mapState:x.bind(null,t),mapGetters:I.bind(null,t),mapMutations:P.bind(null,t),mapActions:N.bind(null,t)}};function D(t){return Array.isArray(t)?t.map(function(t){return{key:t,val:t}}):Object.keys(t).map(function(e){return{key:e,val:t[e]}})}function R(t){return function(e,n){return"string"!==typeof e?(n=e,e=""):"/"!==e.charAt(e.length-1)&&(e+="/"),t(e,n)}}function M(t,e,n){var i=t._modulesNamespaceMap[n];return i}var j={Store:p,install:O,version:"3.1.0",mapState:x,mapMutations:P,mapGetters:I,mapActions:N,createNamespacedHelpers:L};e["a"]=j},"2fde":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"30f1":function(t,e,n){"use strict";var i=n("b8e3"),r=n("63b6"),o=n("9138"),a=n("35e8"),s=n("481b"),u=n("8f60"),c=n("45f2"),l=n("53e2"),h=n("5168")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,_,y,b){u(n,e,g);var w,k,E,C=function(t){if(!f&&t in O)return O[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",A=_==v,T=!1,O=t.prototype,x=O[h]||O[d]||_&&O[_],P=x||C(_),I=_?A?C("entries"):P:void 0,N="Array"==e&&O.entries||x;if(N&&(E=l(N.call(new t)),E!==Object.prototype&&E.next&&(c(E,S,!0),i||"function"==typeof E[h]||a(E,h,m))),A&&x&&x.name!==v&&(T=!0,P=function(){return x.call(this)}),i&&!b||!f&&!T&&O[h]||a(O,h,P),s[e]=P,s[S]=m,_)if(w={values:A?P:C(v),keys:y?P:C(p),entries:I},b)for(k in w)k in O||o(O,k,w[k]);else r(r.P+r.F*(f||T),e,w);return w}},"31f4":function(t,e){t.exports=function(t,e,n){var i=void 0===n;switch(e.length){case 0:return i?t():t.call(n);case 1:return i?t(e[0]):t.call(n,e[0]);case 2:return i?t(e[0],e[1]):t.call(n,e[0],e[1]);case 3:return i?t(e[0],e[1],e[2]):t.call(n,e[0],e[1],e[2]);case 4:return i?t(e[0],e[1],e[2],e[3]):t.call(n,e[0],e[1],e[2],e[3])}return t.apply(n,e)}},"32a6":function(t,e,n){var i=n("241e"),r=n("c3a1");n("ce7e")("keys",function(){return function(t){return r(i(t))}})},"32e9":function(t,e,n){var i=n("86cc"),r=n("4630");t.exports=n("9e1e")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"32fc":function(t,e,n){var i=n("e53d").document;t.exports=i&&i.documentElement},3358:function(t,e,n){var i=n("669d"),r=n("a313"),o=n("8d98")("species");t.exports=function(t){var e;return r(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!r(e.prototype)||(e=void 0),i(e)&&(e=e[o],null===e&&(e=void 0))),void 0===e?Array:e}},"335c":function(t,e,n){var i=n("6b4c");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"33a4":function(t,e,n){var i=n("84f2"),r=n("2b4c")("iterator"),o=Array.prototype;t.exports=function(t){return void 0!==t&&(i.Array===t||o[r]===t)}},"34f6":function(t,e,n){n("b3a3"),t.exports=n("02eb").Array.find},3523:function(t,e,n){"use strict";(function(i){function r(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}Object.defineProperty(e,"__esModule",{value:!0});var o=n("cd51"),a=n("abfd"),s=n("9802"),u=r(n("c23d")),c=function(){function t(t){this.domStorage_=t,this.prefix_="firebase:"}return t.prototype.set=function(t,e){null==e?this.domStorage_.removeItem(this.prefixedName_(t)):this.domStorage_.setItem(this.prefixedName_(t),o.stringify(e))},t.prototype.get=function(t){var e=this.domStorage_.getItem(this.prefixedName_(t));return null==e?null:o.jsonEval(e)},t.prototype.remove=function(t){this.domStorage_.removeItem(this.prefixedName_(t))},t.prototype.prefixedName_=function(t){return this.prefix_+t},t.prototype.toString=function(){return this.domStorage_.toString()},t}(),l=function(){function t(){this.cache_={},this.isInMemoryStorage=!0}return t.prototype.set=function(t,e){null==e?delete this.cache_[t]:this.cache_[t]=e},t.prototype.get=function(t){return o.contains(this.cache_,t)?this.cache_[t]:null},t.prototype.remove=function(t){delete this.cache_[t]},t}(),h=function(t){try{if("undefined"!==typeof window&&"undefined"!==typeof window[t]){var e=window[t];return e.setItem("firebase:sentinel","cache"),e.removeItem("firebase:sentinel"),new c(e)}}catch(n){}return new l},f=h("localStorage"),d=h("sessionStorage"),p=new a.Logger("@firebase/database"),v=function(){var t=1;return function(){return t++}}(),m=function(t){var e=o.stringToByteArray(t),n=new o.Sha1;n.update(e);var i=n.digest();return o.base64.encodeByteArray(i)},g=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];for(var n="",i=0;i<t.length;i++)Array.isArray(t[i])||t[i]&&"object"===typeof t[i]&&"number"===typeof t[i].length?n+=g.apply(null,t[i]):"object"===typeof t[i]?n+=o.stringify(t[i]):n+=t[i],n+=" ";return n},_=null,y=!0,b=function(t,e){o.assert(!e||!0===t||!1===t,"Can't turn on custom loggers persistently."),!0===t?(p.logLevel=a.LogLevel.VERBOSE,_=p.log.bind(p),e&&d.set("logging_enabled",!0)):"function"===typeof t?_=t:(_=null,d.remove("logging_enabled"))},w=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];if(!0===y&&(y=!1,null===_&&!0===d.get("logging_enabled")&&b(!0)),_){var n=g.apply(null,t);_(n)}},k=function(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];w.apply(void 0,[t].concat(e))}},E=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE INTERNAL ERROR: "+g.apply(void 0,t);p.error(n)},C=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE FATAL ERROR: "+g.apply(void 0,t);throw p.error(n),new Error(n)},S=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="FIREBASE WARNING: "+g.apply(void 0,t);p.warn(n)},A=function(){"undefined"!==typeof window&&window.location&&window.location.protocol&&-1!==window.location.protocol.indexOf("https:")&&S("Insecure Firebase access from a secure page. Please use https in calls to new Firebase().")},T=function(t){return"number"===typeof t&&(t!=t||t==Number.POSITIVE_INFINITY||t==Number.NEGATIVE_INFINITY)},O=function(t){if(o.isNodeSdk()||"complete"===document.readyState)t();else{var e=!1,n=function(){document.body?e||(e=!0,t()):setTimeout(n,Math.floor(10))};document.addEventListener?(document.addEventListener("DOMContentLoaded",n,!1),window.addEventListener("load",n,!1)):document.attachEvent&&(document.attachEvent("onreadystatechange",function(){"complete"===document.readyState&&n()}),window.attachEvent("onload",n))}},x="[MIN_NAME]",P="[MAX_NAME]",I=function(t,e){if(t===e)return 0;if(t===x||e===P)return-1;if(e===x||t===P)return 1;var n=$(t),i=$(e);return null!==n?null!==i?n-i==0?t.length-e.length:n-i:-1:null!==i?1:t<e?-1:1},N=function(t,e){return t===e?0:t<e?-1:1},L=function(t,e){if(e&&t in e)return e[t];throw new Error("Missing required key ("+t+") in object: "+o.stringify(e))},D=function(t){if("object"!==typeof t||null===t)return o.stringify(t);var e=[];for(var n in t)e.push(n);e.sort();for(var i="{",r=0;r<e.length;r++)0!==r&&(i+=","),i+=o.stringify(e[r]),i+=":",i+=D(t[e[r]]);return i+="}",i},R=function(t,e){var n=t.length;if(n<=e)return[t];for(var i=[],r=0;r<n;r+=e)r+e>n?i.push(t.substring(r,n)):i.push(t.substring(r,r+e));return i},M=function(t,e){if(Array.isArray(t))for(var n=0;n<t.length;++n)e(n,t[n]);else o.forEach(t,function(t,n){return e(n,t)})},j=function(t){o.assert(!T(t),"Invalid JSON number");var e,n,i,r,a,s,u,c=11,l=52,h=(1<<c-1)-1;for(0===t?(n=0,i=0,e=1/t===-1/0?1:0):(e=t<0,t=Math.abs(t),t>=Math.pow(2,1-h)?(r=Math.min(Math.floor(Math.log(t)/Math.LN2),h),n=r+h,i=Math.round(t*Math.pow(2,l-r)-Math.pow(2,l))):(n=0,i=Math.round(t/Math.pow(2,1-h-l)))),s=[],a=l;a;a-=1)s.push(i%2?1:0),i=Math.floor(i/2);for(a=c;a;a-=1)s.push(n%2?1:0),n=Math.floor(n/2);s.push(e?1:0),s.reverse(),u=s.join("");var f="";for(a=0;a<64;a+=8){var d=parseInt(u.substr(a,8),2).toString(16);1===d.length&&(d="0"+d),f+=d}return f.toLowerCase()},F=function(){return!("object"!==typeof window||!window["chrome"]||!window["chrome"]["extension"]||/^chrome/.test(window.location.href))},B=function(){return"object"===typeof Windows&&"object"===typeof Windows.UI},q=function(t,e){var n="Unknown Error";"too_big"===t?n="The data requested exceeds the maximum size that can be accessed with a single request.":"permission_denied"==t?n="Client doesn't have permission to access the desired data.":"unavailable"==t&&(n="The service is unavailable");var i=new Error(t+" at "+e.path.toString()+": "+n);return i.code=t.toUpperCase(),i},U=new RegExp("^-?\\d{1,10}$"),$=function(t){if(U.test(t)){var e=Number(t);if(e>=-2147483648&&e<=2147483647)return e}return null},V=function(t){try{t()}catch(e){setTimeout(function(){var t=e.stack||"";throw S("Exception was thrown by user callback.",t),e},Math.floor(0))}},H=function(){var t="object"===typeof window&&window["navigator"]&&window["navigator"]["userAgent"]||"";return t.search(/googlebot|google webmaster tools|bingbot|yahoo! slurp|baiduspider|yandexbot|duckduckbot/i)>=0},W=function(t,e){var n=setTimeout(t,e);return"object"===typeof n&&n["unref"]&&n["unref"](),n},z=function(){function t(t,e){if(void 0===e){this.pieces_=t.split("/");for(var n=0,i=0;i<this.pieces_.length;i++)this.pieces_[i].length>0&&(this.pieces_[n]=this.pieces_[i],n++);this.pieces_.length=n,this.pieceNum_=0}else this.pieces_=t,this.pieceNum_=e}return Object.defineProperty(t,"Empty",{get:function(){return new t("")},enumerable:!0,configurable:!0}),t.prototype.getFront=function(){return this.pieceNum_>=this.pieces_.length?null:this.pieces_[this.pieceNum_]},t.prototype.getLength=function(){return this.pieces_.length-this.pieceNum_},t.prototype.popFront=function(){var e=this.pieceNum_;return e<this.pieces_.length&&e++,new t(this.pieces_,e)},t.prototype.getBack=function(){return this.pieceNum_<this.pieces_.length?this.pieces_[this.pieces_.length-1]:null},t.prototype.toString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+this.pieces_[e]);return t||"/"},t.prototype.toUrlEncodedString=function(){for(var t="",e=this.pieceNum_;e<this.pieces_.length;e++)""!==this.pieces_[e]&&(t+="/"+encodeURIComponent(String(this.pieces_[e])));return t||"/"},t.prototype.slice=function(t){return void 0===t&&(t=0),this.pieces_.slice(this.pieceNum_+t)},t.prototype.parent=function(){if(this.pieceNum_>=this.pieces_.length)return null;for(var e=[],n=this.pieceNum_;n<this.pieces_.length-1;n++)e.push(this.pieces_[n]);return new t(e,0)},t.prototype.child=function(e){for(var n=[],i=this.pieceNum_;i<this.pieces_.length;i++)n.push(this.pieces_[i]);if(e instanceof t)for(i=e.pieceNum_;i<e.pieces_.length;i++)n.push(e.pieces_[i]);else{var r=e.split("/");for(i=0;i<r.length;i++)r[i].length>0&&n.push(r[i])}return new t(n,0)},t.prototype.isEmpty=function(){return this.pieceNum_>=this.pieces_.length},t.relativePath=function(e,n){var i=e.getFront(),r=n.getFront();if(null===i)return n;if(i===r)return t.relativePath(e.popFront(),n.popFront());throw new Error("INTERNAL ERROR: innerPath ("+n+") is not within outerPath ("+e+")")},t.comparePaths=function(t,e){for(var n=t.slice(),i=e.slice(),r=0;r<n.length&&r<i.length;r++){var o=I(n[r],i[r]);if(0!==o)return o}return n.length===i.length?0:n.length<i.length?-1:1},t.prototype.equals=function(t){if(this.getLength()!==t.getLength())return!1;for(var e=this.pieceNum_,n=t.pieceNum_;e<=this.pieces_.length;e++,n++)if(this.pieces_[e]!==t.pieces_[n])return!1;return!0},t.prototype.contains=function(t){var e=this.pieceNum_,n=t.pieceNum_;if(this.getLength()>t.getLength())return!1;while(e<this.pieces_.length){if(this.pieces_[e]!==t.pieces_[n])return!1;++e,++n}return!0},t}(),G=function(){function t(t,e){this.errorPrefix_=e,this.parts_=t.slice(),this.byteLength_=Math.max(1,this.parts_.length);for(var n=0;n<this.parts_.length;n++)this.byteLength_+=o.stringLength(this.parts_[n]);this.checkValid_()}return Object.defineProperty(t,"MAX_PATH_DEPTH",{get:function(){return 32},enumerable:!0,configurable:!0}),Object.defineProperty(t,"MAX_PATH_LENGTH_BYTES",{get:function(){return 768},enumerable:!0,configurable:!0}),t.prototype.push=function(t){this.parts_.length>0&&(this.byteLength_+=1),this.parts_.push(t),this.byteLength_+=o.stringLength(t),this.checkValid_()},t.prototype.pop=function(){var t=this.parts_.pop();this.byteLength_-=o.stringLength(t),this.parts_.length>0&&(this.byteLength_-=1)},t.prototype.checkValid_=function(){if(this.byteLength_>t.MAX_PATH_LENGTH_BYTES)throw new Error(this.errorPrefix_+"has a key path longer than "+t.MAX_PATH_LENGTH_BYTES+" bytes ("+this.byteLength_+").");if(this.parts_.length>t.MAX_PATH_DEPTH)throw new Error(this.errorPrefix_+"path specified exceeds the maximum depth that can be written ("+t.MAX_PATH_DEPTH+") or object contains a cycle "+this.toErrorString())},t.prototype.toErrorString=function(){return 0==this.parts_.length?"":"in property '"+this.parts_.join(".")+"'"},t}(),K="5",Q="v",X="s",Y="r",J="f",Z="firebaseio.com",tt="ls",et="websocket",nt="long_polling",it=function(){function t(t,e,n,i,r){void 0===r&&(r=""),this.secure=e,this.namespace=n,this.webSocketOnly=i,this.persistenceKey=r,this.host=t.toLowerCase(),this.domain=this.host.substr(this.host.indexOf(".")+1),this.internalHost=f.get("host:"+t)||this.host}return t.prototype.needsQueryParam=function(){return this.host!==this.internalHost||this.isCustomHost()},t.prototype.isCacheableHost=function(){return"s-"===this.internalHost.substr(0,2)},t.prototype.isDemoHost=function(){return"firebaseio-demo.com"===this.domain},t.prototype.isCustomHost=function(){return"firebaseio.com"!==this.domain&&"firebaseio-demo.com"!==this.domain},t.prototype.updateHost=function(t){t!==this.internalHost&&(this.internalHost=t,this.isCacheableHost()&&f.set("host:"+this.host,this.internalHost))},t.prototype.connectionURL=function(t,e){var n;if(o.assert("string"===typeof t,"typeof type must == string"),o.assert("object"===typeof e,"typeof params must == object"),t===et)n=(this.secure?"wss://":"ws://")+this.internalHost+"/.ws?";else{if(t!==nt)throw new Error("Unknown connection type: "+t);n=(this.secure?"https://":"http://")+this.internalHost+"/.lp?"}this.needsQueryParam()&&(e["ns"]=this.namespace);var i=[];return o.forEach(e,function(t,e){i.push(t+"="+e)}),n+i.join("&")},t.prototype.toString=function(){var t=this.toURLString();return this.persistenceKey&&(t+="<"+this.persistenceKey+">"),t},t.prototype.toURLString=function(){return(this.secure?"https://":"http://")+this.host},t}();function rt(t){for(var e="",n=t.split("/"),i=0;i<n.length;i++)if(n[i].length>0){var r=n[i];try{r=decodeURIComponent(r.replace(/\+/g," "))}catch(o){}e+="/"+r}return e}function ot(t){var e={};"?"===t.charAt(0)&&(t=t.substring(1));for(var n=0,i=t.split("&");n<i.length;n++){var r=i[n];if(0!==r.length){var o=r.split("=");2===o.length?e[decodeURIComponent(o[0])]=decodeURIComponent(o[1]):S("Invalid query segment '"+r+"' in query '"+t+"'")}}return e}var at,st,ut=function(t){var e=ct(t),n=e.subdomain;"firebase"===e.domain&&C(e.host+" is no longer supported. Please use <YOUR FIREBASE>.firebaseio.com instead"),n&&"undefined"!=n||"localhost"===e.domain||C("Cannot parse Firebase url. Please use https://<YOUR FIREBASE>.firebaseio.com"),e.secure||A();var i="ws"===e.scheme||"wss"===e.scheme;return{repoInfo:new it(e.host,e.secure,n,i),path:new z(e.pathString)}},ct=function(t){var e="",n="",i="",r="",o=!0,a="https",s=443;if("string"===typeof t){var u=t.indexOf("//");u>=0&&(a=t.substring(0,u-1),t=t.substring(u+2));var c=t.indexOf("/");-1===c&&(c=t.length);var l=t.indexOf("?");-1===l&&(l=t.length),e=t.substring(0,Math.min(c,l)),c<l&&(r=rt(t.substring(c,l)));var h=ot(t.substring(Math.min(t.length,l)));u=e.indexOf(":"),u>=0?(o="https"===a||"wss"===a,s=parseInt(e.substring(u+1),10)):u=t.length;var f=e.split(".");3===f.length?(n=f[1],i=f[0].toLowerCase()):2===f.length?n=f[0]:"localhost"===f[0].slice(0,u).toLowerCase()&&(n="localhost"),""===i&&"ns"in h&&(i=h["ns"])}return{host:e,port:s,domain:n,subdomain:i,secure:o,scheme:a,pathString:r}},lt=/[\[\].#$\/\u0000-\u001F\u007F]/,ht=/[\[\].#$\u0000-\u001F\u007F]/,ft=10485760,dt=function(t){return"string"===typeof t&&0!==t.length&&!lt.test(t)},pt=function(t){return"string"===typeof t&&0!==t.length&&!ht.test(t)},vt=function(t){return t&&(t=t.replace(/^\/*\.info(\/|$)/,"/")),pt(t)},mt=function(t){return null===t||"string"===typeof t||"number"===typeof t&&!T(t)||t&&"object"===typeof t&&o.contains(t,".sv")},gt=function(t,e,n,i,r){r&&void 0===n||_t(o.errorPrefix(t,e,r),n,i)},_t=function(t,e,n){var i=n instanceof z?new G(n,t):n;if(void 0===e)throw new Error(t+"contains undefined "+i.toErrorString());if("function"===typeof e)throw new Error(t+"contains a function "+i.toErrorString()+" with contents = "+e.toString());if(T(e))throw new Error(t+"contains "+e.toString()+" "+i.toErrorString());if("string"===typeof e&&e.length>ft/3&&o.stringLength(e)>ft)throw new Error(t+"contains a string greater than "+ft+" utf8 bytes "+i.toErrorString()+" ('"+e.substring(0,50)+"...')");if(e&&"object"===typeof e){var r=!1,a=!1;if(o.forEach(e,function(e,n){if(".value"===e)r=!0;else if(".priority"!==e&&".sv"!==e&&(a=!0,!dt(e)))throw new Error(t+" contains an invalid key ("+e+") "+i.toErrorString()+'.  Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"');i.push(e),_t(t,n,i),i.pop()}),r&&a)throw new Error(t+' contains ".value" child '+i.toErrorString()+" in addition to actual children.")}},yt=function(t,e){var n,i;for(n=0;n<e.length;n++){i=e[n];for(var r=i.slice(),o=0;o<r.length;o++)if(".priority"===r[o]&&o===r.length-1);else if(!dt(r[o]))throw new Error(t+"contains an invalid key ("+r[o]+") in path "+i.toString()+'. Keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]"')}e.sort(z.comparePaths);var a=null;for(n=0;n<e.length;n++){if(i=e[n],null!==a&&a.contains(i))throw new Error(t+"contains a path "+a.toString()+" that is ancestor of another path "+i.toString());a=i}},bt=function(t,e,n,i,r){if(!r||void 0!==n){var a=o.errorPrefix(t,e,r);if(!n||"object"!==typeof n||Array.isArray(n))throw new Error(a+" must be an object containing the children to replace.");var s=[];o.forEach(n,function(t,e){var n=new z(t);if(_t(a,e,i.child(n)),".priority"===n.getBack()&&!mt(e))throw new Error(a+"contains an invalid value for '"+n.toString()+"', which must be a valid Firebase priority (a string, finite number, server value, or null).");s.push(n)}),yt(a,s)}},wt=function(t,e,n,i){if(!i||void 0!==n){if(T(n))throw new Error(o.errorPrefix(t,e,i)+"is "+n.toString()+", but must be a valid Firebase priority (a string, finite number, server value, or null).");if(!mt(n))throw new Error(o.errorPrefix(t,e,i)+"must be a valid Firebase priority (a string, finite number, server value, or null).")}},kt=function(t,e,n,i){if(!i||void 0!==n)switch(n){case"value":case"child_added":case"child_removed":case"child_changed":case"child_moved":break;default:throw new Error(o.errorPrefix(t,e,i)+'must be a valid event type = "value", "child_added", "child_removed", "child_changed", or "child_moved".')}},Et=function(t,e,n,i){if((!i||void 0!==n)&&!dt(n))throw new Error(o.errorPrefix(t,e,i)+'was an invalid key = "'+n+'".  Firebase keys must be non-empty strings and can\'t contain ".", "#", "$", "/", "[", or "]").')},Ct=function(t,e,n,i){if((!i||void 0!==n)&&!pt(n))throw new Error(o.errorPrefix(t,e,i)+'was an invalid path = "'+n+'". Paths must be non-empty strings and can\'t contain ".", "#", "$", "[", or "]"')},St=function(t,e,n,i){n&&(n=n.replace(/^\/*\.info(\/|$)/,"/")),Ct(t,e,n,i)},At=function(t,e){if(".info"===e.getFront())throw new Error(t+" failed = Can't modify data under /.info/")},Tt=function(t,e,n){var i=n.path.toString();if("string"!==typeof n.repoInfo.host||0===n.repoInfo.host.length||!dt(n.repoInfo.namespace)&&"localhost"!==n.repoInfo.host.split(":")[0]||0!==i.length&&!vt(i))throw new Error(o.errorPrefix(t,e,!1)+'must be a valid firebase URL and the path can\'t contain ".", "#", "$", "[", or "]".')},Ot=function(t,e,n,i){if((!i||void 0!==n)&&"boolean"!==typeof n)throw new Error(o.errorPrefix(t,e,i)+"must be a boolean.")},xt=function(){function t(t,e){this.repo_=t,this.path_=e}return t.prototype.cancel=function(t){o.validateArgCount("OnDisconnect.cancel",0,1,arguments.length),o.validateCallback("OnDisconnect.cancel",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectCancel(this.path_,e.wrapCallback(t)),e.promise},t.prototype.remove=function(t){o.validateArgCount("OnDisconnect.remove",0,1,arguments.length),At("OnDisconnect.remove",this.path_),o.validateCallback("OnDisconnect.remove",1,t,!0);var e=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,null,e.wrapCallback(t)),e.promise},t.prototype.set=function(t,e){o.validateArgCount("OnDisconnect.set",1,2,arguments.length),At("OnDisconnect.set",this.path_),gt("OnDisconnect.set",1,t,this.path_,!1),o.validateCallback("OnDisconnect.set",2,e,!0);var n=new o.Deferred;return this.repo_.onDisconnectSet(this.path_,t,n.wrapCallback(e)),n.promise},t.prototype.setWithPriority=function(t,e,n){o.validateArgCount("OnDisconnect.setWithPriority",2,3,arguments.length),At("OnDisconnect.setWithPriority",this.path_),gt("OnDisconnect.setWithPriority",1,t,this.path_,!1),wt("OnDisconnect.setWithPriority",2,e,!1),o.validateCallback("OnDisconnect.setWithPriority",3,n,!0);var i=new o.Deferred;return this.repo_.onDisconnectSetWithPriority(this.path_,t,e,i.wrapCallback(n)),i.promise},t.prototype.update=function(t,e){if(o.validateArgCount("OnDisconnect.update",1,2,arguments.length),At("OnDisconnect.update",this.path_),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,S("Passing an Array to firebase.database.onDisconnect().update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bt("OnDisconnect.update",1,t,this.path_,!1),o.validateCallback("OnDisconnect.update",2,e,!0);var r=new o.Deferred;return this.repo_.onDisconnectUpdate(this.path_,t,r.wrapCallback(e)),r.promise},t}(),Pt=function(){function t(t,e){this.committed=t,this.snapshot=e}return t.prototype.toJSON=function(){return o.validateArgCount("TransactionResult.toJSON",0,1,arguments.length),{committed:this.committed,snapshot:this.snapshot.toJSON()}},t}(),It=function(){var t="-0123456789ABCDEFGHIJKLMNOPQRSTUVWXYZ_abcdefghijklmnopqrstuvwxyz",e=0,n=[];return function(i){var r,a=i===e;e=i;var s=new Array(8);for(r=7;r>=0;r--)s[r]=t.charAt(i%64),i=Math.floor(i/64);o.assert(0===i,"Cannot push at time == 0");var u=s.join("");if(a){for(r=11;r>=0&&63===n[r];r--)n[r]=0;n[r]++}else for(r=0;r<12;r++)n[r]=Math.floor(64*Math.random());for(r=0;r<12;r++)u+=t.charAt(n[r]);return o.assert(20===u.length,"nextPushId: Length should be 20."),u}}(),Nt=function(){function t(t,e){this.name=t,this.node=e}return t.Wrap=function(e,n){return new t(e,n)},t}(),Lt=function(){function t(){}return t.prototype.getCompare=function(){return this.compare.bind(this)},t.prototype.indexedValueChanged=function(t,e){var n=new Nt(x,t),i=new Nt(x,e);return 0!==this.compare(n,i)},t.prototype.minPost=function(){return Nt.MIN},t}(),Dt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),Object.defineProperty(e,"__EMPTY_NODE",{get:function(){return at},set:function(t){at=t},enumerable:!0,configurable:!0}),e.prototype.compare=function(t,e){return I(t.name,e.name)},e.prototype.isDefinedOn=function(t){throw o.assertionError("KeyIndex.isDefinedOn not expected to be called.")},e.prototype.indexedValueChanged=function(t,e){return!1},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(P,at)},e.prototype.makePost=function(t,e){return o.assert("string"===typeof t,"KeyIndex indexValue must always be a string."),new Nt(t,at)},e.prototype.toString=function(){return".key"},e}(Lt),Rt=new Dt;function Mt(t){st=t}var jt,Ft,Bt,qt=function(t){return"number"===typeof t?"number:"+j(t):"string:"+t},Ut=function(t){if(t.isLeafNode()){var e=t.val();o.assert("string"===typeof e||"number"===typeof e||"object"===typeof e&&o.contains(e,".sv"),"Priority must be a string or number.")}else o.assert(t===st||t.isEmpty(),"priority of unexpected type.");o.assert(t===st||t.getPriority().isEmpty(),"Priority nodes can't have a priority of their own.")},$t=function(){function t(e,n){void 0===n&&(n=t.__childrenNodeConstructor.EMPTY_NODE),this.value_=e,this.priorityNode_=n,this.lazyHash_=null,o.assert(void 0!==this.value_&&null!==this.value_,"LeafNode shouldn't be created with null/undefined value."),Ut(this.priorityNode_)}return Object.defineProperty(t,"__childrenNodeConstructor",{get:function(){return jt},set:function(t){jt=t},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!0},t.prototype.getPriority=function(){return this.priorityNode_},t.prototype.updatePriority=function(e){return new t(this.value_,e)},t.prototype.getImmediateChild=function(e){return".priority"===e?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.getChild=function(e){return e.isEmpty()?this:".priority"===e.getFront()?this.priorityNode_:t.__childrenNodeConstructor.EMPTY_NODE},t.prototype.hasChild=function(){return!1},t.prototype.getPredecessorChildName=function(t,e){return null},t.prototype.updateImmediateChild=function(e,n){return".priority"===e?this.updatePriority(n):n.isEmpty()&&".priority"!==e?this:t.__childrenNodeConstructor.EMPTY_NODE.updateImmediateChild(e,n).updatePriority(this.priorityNode_)},t.prototype.updateChild=function(e,n){var i=e.getFront();return null===i?n:n.isEmpty()&&".priority"!==i?this:(o.assert(".priority"!==i||1===e.getLength(),".priority must be the last token in a path"),this.updateImmediateChild(i,t.__childrenNodeConstructor.EMPTY_NODE.updateChild(e.popFront(),n)))},t.prototype.isEmpty=function(){return!1},t.prototype.numChildren=function(){return 0},t.prototype.forEachChild=function(t,e){return!1},t.prototype.val=function(t){return t&&!this.getPriority().isEmpty()?{".value":this.getValue(),".priority":this.getPriority().val()}:this.getValue()},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.priorityNode_.isEmpty()||(t+="priority:"+qt(this.priorityNode_.val())+":");var e=typeof this.value_;t+=e+":",t+="number"===e?j(this.value_):this.value_,this.lazyHash_=m(t)}return this.lazyHash_},t.prototype.getValue=function(){return this.value_},t.prototype.compareTo=function(e){return e===t.__childrenNodeConstructor.EMPTY_NODE?1:e instanceof t.__childrenNodeConstructor?-1:(o.assert(e.isLeafNode(),"Unknown node type"),this.compareToLeafNode_(e))},t.prototype.compareToLeafNode_=function(e){var n=typeof e.value_,i=typeof this.value_,r=t.VALUE_TYPE_ORDER.indexOf(n),a=t.VALUE_TYPE_ORDER.indexOf(i);return o.assert(r>=0,"Unknown leaf type: "+n),o.assert(a>=0,"Unknown leaf type: "+i),r===a?"object"===i?0:this.value_<e.value_?-1:this.value_===e.value_?0:1:a-r},t.prototype.withIndex=function(){return this},t.prototype.isIndexed=function(){return!0},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode()){var e=t;return this.value_===e.value_&&this.priorityNode_.equals(e.priorityNode_)}return!1},t.VALUE_TYPE_ORDER=["object","boolean","number","string"],t}();function Vt(t){Ft=t}function Ht(t){Bt=t}var Wt,zt,Gt=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.getPriority(),i=e.node.getPriority(),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.isDefinedOn=function(t){return!t.getPriority().isEmpty()},e.prototype.indexedValueChanged=function(t,e){return!t.getPriority().equals(e.getPriority())},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return new Nt(P,new $t("[PRIORITY-POST]",Bt))},e.prototype.makePost=function(t,e){var n=Ft(t);return new Nt(e,new $t("[PRIORITY-POST]",n))},e.prototype.toString=function(){return".priority"},e}(Lt),Kt=new Gt,Qt=function(){function t(t,e,n,i,r){void 0===r&&(r=null),this.isReverse_=i,this.resultGenerator_=r,this.nodeStack_=[];var o=1;while(!t.isEmpty())if(t=t,o=e?n(t.key,e):1,i&&(o*=-1),o<0)t=this.isReverse_?t.left:t.right;else{if(0===o){this.nodeStack_.push(t);break}this.nodeStack_.push(t),t=this.isReverse_?t.right:t.left}}return t.prototype.getNext=function(){if(0===this.nodeStack_.length)return null;var t,e=this.nodeStack_.pop();if(t=this.resultGenerator_?this.resultGenerator_(e.key,e.value):{key:e.key,value:e.value},this.isReverse_){e=e.left;while(!e.isEmpty())this.nodeStack_.push(e),e=e.right}else{e=e.right;while(!e.isEmpty())this.nodeStack_.push(e),e=e.left}return t},t.prototype.hasNext=function(){return this.nodeStack_.length>0},t.prototype.peek=function(){if(0===this.nodeStack_.length)return null;var t=this.nodeStack_[this.nodeStack_.length-1];return this.resultGenerator_?this.resultGenerator_(t.key,t.value):{key:t.key,value:t.value}},t}(),Xt=function(){function t(e,n,i,r,o){this.key=e,this.value=n,this.color=null!=i?i:t.RED,this.left=null!=r?r:Jt.EMPTY_NODE,this.right=null!=o?o:Jt.EMPTY_NODE}return t.prototype.copy=function(e,n,i,r,o){return new t(null!=e?e:this.key,null!=n?n:this.value,null!=i?i:this.color,null!=r?r:this.left,null!=o?o:this.right)},t.prototype.count=function(){return this.left.count()+1+this.right.count()},t.prototype.isEmpty=function(){return!1},t.prototype.inorderTraversal=function(t){return this.left.inorderTraversal(t)||t(this.key,this.value)||this.right.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.right.reverseTraversal(t)||t(this.key,this.value)||this.left.reverseTraversal(t)},t.prototype.min_=function(){return this.left.isEmpty()?this:this.left.min_()},t.prototype.minKey=function(){return this.min_().key},t.prototype.maxKey=function(){return this.right.isEmpty()?this.key:this.right.maxKey()},t.prototype.insert=function(t,e,n){var i,r;return r=this,i=n(t,r.key),r=i<0?r.copy(null,null,null,r.left.insert(t,e,n),null):0===i?r.copy(null,e,null,null,null):r.copy(null,null,null,null,r.right.insert(t,e,n)),r.fixUp_()},t.prototype.removeMin_=function(){if(this.left.isEmpty())return Jt.EMPTY_NODE;var t=this;return t.left.isRed_()||t.left.left.isRed_()||(t=t.moveRedLeft_()),t=t.copy(null,null,null,t.left.removeMin_(),null),t.fixUp_()},t.prototype.remove=function(t,e){var n,i;if(n=this,e(t,n.key)<0)n.left.isEmpty()||n.left.isRed_()||n.left.left.isRed_()||(n=n.moveRedLeft_()),n=n.copy(null,null,null,n.left.remove(t,e),null);else{if(n.left.isRed_()&&(n=n.rotateRight_()),n.right.isEmpty()||n.right.isRed_()||n.right.left.isRed_()||(n=n.moveRedRight_()),0===e(t,n.key)){if(n.right.isEmpty())return Jt.EMPTY_NODE;i=n.right.min_(),n=n.copy(i.key,i.value,null,null,n.right.removeMin_())}n=n.copy(null,null,null,null,n.right.remove(t,e))}return n.fixUp_()},t.prototype.isRed_=function(){return this.color},t.prototype.fixUp_=function(){var t=this;return t.right.isRed_()&&!t.left.isRed_()&&(t=t.rotateLeft_()),t.left.isRed_()&&t.left.left.isRed_()&&(t=t.rotateRight_()),t.left.isRed_()&&t.right.isRed_()&&(t=t.colorFlip_()),t},t.prototype.moveRedLeft_=function(){var t=this.colorFlip_();return t.right.left.isRed_()&&(t=t.copy(null,null,null,null,t.right.rotateRight_()),t=t.rotateLeft_(),t=t.colorFlip_()),t},t.prototype.moveRedRight_=function(){var t=this.colorFlip_();return t.left.left.isRed_()&&(t=t.rotateRight_(),t=t.colorFlip_()),t},t.prototype.rotateLeft_=function(){var e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)},t.prototype.rotateRight_=function(){var e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)},t.prototype.colorFlip_=function(){var t=this.left.copy(null,null,!this.left.color,null,null),e=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,t,e)},t.prototype.checkMaxDepth_=function(){var t=this.check_();return Math.pow(2,t)<=this.count()+1},t.prototype.check_=function(){var t;if(this.isRed_()&&this.left.isRed_())throw new Error("Red node has red child("+this.key+","+this.value+")");if(this.right.isRed_())throw new Error("Right child of ("+this.key+","+this.value+") is red");if(t=this.left.check_(),t!==this.right.check_())throw new Error("Black depths differ");return t+(this.isRed_()?0:1)},t.RED=!0,t.BLACK=!1,t}(),Yt=function(){function t(){}return t.prototype.copy=function(t,e,n,i,r){return this},t.prototype.insert=function(t,e,n){return new Xt(t,e,null)},t.prototype.remove=function(t,e){return this},t.prototype.count=function(){return 0},t.prototype.isEmpty=function(){return!0},t.prototype.inorderTraversal=function(t){return!1},t.prototype.reverseTraversal=function(t){return!1},t.prototype.minKey=function(){return null},t.prototype.maxKey=function(){return null},t.prototype.check_=function(){return 0},t.prototype.isRed_=function(){return!1},t}(),Jt=function(){function t(e,n){void 0===n&&(n=t.EMPTY_NODE),this.comparator_=e,this.root_=n}return t.prototype.insert=function(e,n){return new t(this.comparator_,this.root_.insert(e,n,this.comparator_).copy(null,null,Xt.BLACK,null,null))},t.prototype.remove=function(e){return new t(this.comparator_,this.root_.remove(e,this.comparator_).copy(null,null,Xt.BLACK,null,null))},t.prototype.get=function(t){var e,n=this.root_;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e)return n.value;e<0?n=n.left:e>0&&(n=n.right)}return null},t.prototype.getPredecessorKey=function(t){var e,n=this.root_,i=null;while(!n.isEmpty()){if(e=this.comparator_(t,n.key),0===e){if(n.left.isEmpty())return i?i.key:null;n=n.left;while(!n.right.isEmpty())n=n.right;return n.key}e<0?n=n.left:e>0&&(i=n,n=n.right)}throw new Error("Attempted to find predecessor key for a nonexistent key.  What gives?")},t.prototype.isEmpty=function(){return this.root_.isEmpty()},t.prototype.count=function(){return this.root_.count()},t.prototype.minKey=function(){return this.root_.minKey()},t.prototype.maxKey=function(){return this.root_.maxKey()},t.prototype.inorderTraversal=function(t){return this.root_.inorderTraversal(t)},t.prototype.reverseTraversal=function(t){return this.root_.reverseTraversal(t)},t.prototype.getIterator=function(t){return new Qt(this.root_,null,this.comparator_,!1,t)},t.prototype.getIteratorFrom=function(t,e){return new Qt(this.root_,t,this.comparator_,!1,e)},t.prototype.getReverseIteratorFrom=function(t,e){return new Qt(this.root_,t,this.comparator_,!0,e)},t.prototype.getReverseIterator=function(t){return new Qt(this.root_,null,this.comparator_,!0,t)},t.EMPTY_NODE=new Yt,t}(),Zt=Math.log(2),te=function(){function t(t){var e=function(t){return parseInt(Math.log(t)/Zt,10)},n=function(t){return parseInt(Array(t+1).join("1"),2)};this.count=e(t+1),this.current_=this.count-1;var i=n(this.count);this.bits_=t+1&i}return t.prototype.nextBitIsOne=function(){var t=!(this.bits_&1<<this.current_);return this.current_--,t},t}(),ee=function(t,e,n,i){t.sort(e);var r=function(e,i){var o,a,s=i-e;if(0==s)return null;if(1==s)return o=t[e],a=n?n(o):o,new Xt(a,o.node,Xt.BLACK,null,null);var u=parseInt(s/2,10)+e,c=r(e,u),l=r(u+1,i);return o=t[u],a=n?n(o):o,new Xt(a,o.node,Xt.BLACK,c,l)},o=function(e){for(var i=null,o=null,a=t.length,s=function(e,i){var o=a-e,s=a;a-=e;var c=r(o+1,s),l=t[o],h=n?n(l):l;u(new Xt(h,l.node,i,null,c))},u=function(t){i?(i.left=t,i=t):(o=t,i=t)},c=0;c<e.count;++c){var l=e.nextBitIsOne(),h=Math.pow(2,e.count-(c+1));l?s(h,Xt.BLACK):(s(h,Xt.BLACK),s(h,Xt.RED))}return o},a=new te(t.length),s=o(a);return new Jt(i||e,s)},ne={},ie=function(){function t(t,e){this.indexes_=t,this.indexSet_=e}return Object.defineProperty(t,"Default",{get:function(){return o.assert(ne&&Kt,"ChildrenNode.ts has not been loaded"),Wt=Wt||new t({".priority":ne},{".priority":Kt}),Wt},enumerable:!0,configurable:!0}),t.prototype.get=function(t){var e=o.safeGet(this.indexes_,t);if(!e)throw new Error("No index defined for "+t);return e===ne?null:e},t.prototype.hasIndex=function(t){return o.contains(this.indexSet_,t.toString())},t.prototype.addIndex=function(e,n){o.assert(e!==Rt,"KeyIndex always exists and isn't meant to be added to the IndexMap.");var i,r=[],a=!1,s=n.getIterator(Nt.Wrap),u=s.getNext();while(u)a=a||e.isDefinedOn(u.node),r.push(u),u=s.getNext();i=a?ee(r,e.getCompare()):ne;var c=e.toString(),l=o.clone(this.indexSet_);l[c]=e;var h=o.clone(this.indexes_);return h[c]=i,new t(h,l)},t.prototype.addToIndexes=function(e,n){var i=this,r=o.map(this.indexes_,function(t,r){var a=o.safeGet(i.indexSet_,r);if(o.assert(a,"Missing index implementation for "+r),t===ne){if(a.isDefinedOn(e.node)){var s=[],u=n.getIterator(Nt.Wrap),c=u.getNext();while(c)c.name!=e.name&&s.push(c),c=u.getNext();return s.push(e),ee(s,a.getCompare())}return ne}var l=n.get(e.name),h=t;return l&&(h=h.remove(new Nt(e.name,l))),h.insert(e,e.node)});return new t(r,this.indexSet_)},t.prototype.removeFromIndexes=function(e,n){var i=o.map(this.indexes_,function(t){if(t===ne)return t;var i=n.get(e.name);return i?t.remove(new Nt(e.name,i)):t});return new t(i,this.indexSet_)},t}();function re(t,e){return I(t.name,e.name)}function oe(t,e){return I(t,e)}var ae=function(){function t(t,e,n){this.children_=t,this.priorityNode_=e,this.indexMap_=n,this.lazyHash_=null,this.priorityNode_&&Ut(this.priorityNode_),this.children_.isEmpty()&&o.assert(!this.priorityNode_||this.priorityNode_.isEmpty(),"An empty node cannot have a priority")}return Object.defineProperty(t,"EMPTY_NODE",{get:function(){return zt||(zt=new t(new Jt(oe),null,ie.Default))},enumerable:!0,configurable:!0}),t.prototype.isLeafNode=function(){return!1},t.prototype.getPriority=function(){return this.priorityNode_||zt},t.prototype.updatePriority=function(e){return this.children_.isEmpty()?this:new t(this.children_,e,this.indexMap_)},t.prototype.getImmediateChild=function(t){if(".priority"===t)return this.getPriority();var e=this.children_.get(t);return null===e?zt:e},t.prototype.getChild=function(t){var e=t.getFront();return null===e?this:this.getImmediateChild(e).getChild(t.popFront())},t.prototype.hasChild=function(t){return null!==this.children_.get(t)},t.prototype.updateImmediateChild=function(e,n){if(o.assert(n,"We should always be passing snapshot nodes"),".priority"===e)return this.updatePriority(n);var i=new Nt(e,n),r=void 0,a=void 0,s=void 0;return n.isEmpty()?(r=this.children_.remove(e),a=this.indexMap_.removeFromIndexes(i,this.children_)):(r=this.children_.insert(e,n),a=this.indexMap_.addToIndexes(i,this.children_)),s=r.isEmpty()?zt:this.priorityNode_,new t(r,s,a)},t.prototype.updateChild=function(t,e){var n=t.getFront();if(null===n)return e;o.assert(".priority"!==t.getFront()||1===t.getLength(),".priority must be the last token in a path");var i=this.getImmediateChild(n).updateChild(t.popFront(),e);return this.updateImmediateChild(n,i)},t.prototype.isEmpty=function(){return this.children_.isEmpty()},t.prototype.numChildren=function(){return this.children_.count()},t.prototype.val=function(e){if(this.isEmpty())return null;var n={},i=0,r=0,o=!0;if(this.forEachChild(Kt,function(a,s){n[a]=s.val(e),i++,o&&t.INTEGER_REGEXP_.test(a)?r=Math.max(r,Number(a)):o=!1}),!e&&o&&r<2*i){var a=[];for(var s in n)a[s]=n[s];return a}return e&&!this.getPriority().isEmpty()&&(n[".priority"]=this.getPriority().val()),n},t.prototype.hash=function(){if(null===this.lazyHash_){var t="";this.getPriority().isEmpty()||(t+="priority:"+qt(this.getPriority().val())+":"),this.forEachChild(Kt,function(e,n){var i=n.hash();""!==i&&(t+=":"+e+":"+i)}),this.lazyHash_=""===t?"":m(t)}return this.lazyHash_},t.prototype.getPredecessorChildName=function(t,e,n){var i=this.resolveIndex_(n);if(i){var r=i.getPredecessorKey(new Nt(t,e));return r?r.name:null}return this.children_.getPredecessorKey(t)},t.prototype.getFirstChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.minKey();return n&&n.name}return this.children_.minKey()},t.prototype.getFirstChild=function(t){var e=this.getFirstChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.getLastChildName=function(t){var e=this.resolveIndex_(t);if(e){var n=e.maxKey();return n&&n.name}return this.children_.maxKey()},t.prototype.getLastChild=function(t){var e=this.getLastChildName(t);return e?new Nt(e,this.children_.get(e)):null},t.prototype.forEachChild=function(t,e){var n=this.resolveIndex_(t);return n?n.inorderTraversal(function(t){return e(t.name,t.node)}):this.children_.inorderTraversal(e)},t.prototype.getIterator=function(t){return this.getIteratorFrom(t.minPost(),t)},t.prototype.getIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getIteratorFrom(t,function(t){return t});var i=this.children_.getIteratorFrom(t.name,Nt.Wrap),r=i.peek();while(null!=r&&e.compare(r,t)<0)i.getNext(),r=i.peek();return i},t.prototype.getReverseIterator=function(t){return this.getReverseIteratorFrom(t.maxPost(),t)},t.prototype.getReverseIteratorFrom=function(t,e){var n=this.resolveIndex_(e);if(n)return n.getReverseIteratorFrom(t,function(t){return t});var i=this.children_.getReverseIteratorFrom(t.name,Nt.Wrap),r=i.peek();while(null!=r&&e.compare(r,t)>0)i.getNext(),r=i.peek();return i},t.prototype.compareTo=function(t){return this.isEmpty()?t.isEmpty()?0:-1:t.isLeafNode()||t.isEmpty()?1:t===ue?-1:0},t.prototype.withIndex=function(e){if(e===Rt||this.indexMap_.hasIndex(e))return this;var n=this.indexMap_.addIndex(e,this.children_);return new t(this.children_,this.priorityNode_,n)},t.prototype.isIndexed=function(t){return t===Rt||this.indexMap_.hasIndex(t)},t.prototype.equals=function(t){if(t===this)return!0;if(t.isLeafNode())return!1;var e=t;if(this.getPriority().equals(e.getPriority())){if(this.children_.count()===e.children_.count()){var n=this.getIterator(Kt),i=e.getIterator(Kt),r=n.getNext(),o=i.getNext();while(r&&o){if(r.name!==o.name||!r.node.equals(o.node))return!1;r=n.getNext(),o=i.getNext()}return null===r&&null===o}return!1}return!1},t.prototype.resolveIndex_=function(t){return t===Rt?null:this.indexMap_.get(t.toString())},t.INTEGER_REGEXP_=/^(0|[1-9]\d*)$/,t}(),se=function(t){function e(){return t.call(this,new Jt(oe),ae.EMPTY_NODE,ie.Default)||this}return s.__extends(e,t),e.prototype.compareTo=function(t){return t===this?0:1},e.prototype.equals=function(t){return t===this},e.prototype.getPriority=function(){return this},e.prototype.getImmediateChild=function(t){return ae.EMPTY_NODE},e.prototype.isEmpty=function(){return!1},e}(ae),ue=new se;Object.defineProperties(Nt,{MIN:{value:new Nt(x,ae.EMPTY_NODE)},MAX:{value:new Nt(P,ue)}}),Dt.__EMPTY_NODE=ae.EMPTY_NODE,$t.__childrenNodeConstructor=ae,Mt(ue),Ht(ue);var ce=!0;function le(t,e){if(void 0===e&&(e=null),null===t)return ae.EMPTY_NODE;if("object"===typeof t&&".priority"in t&&(e=t[".priority"]),o.assert(null===e||"string"===typeof e||"number"===typeof e||"object"===typeof e&&".sv"in e,"Invalid priority type found: "+typeof e),"object"===typeof t&&".value"in t&&null!==t[".value"]&&(t=t[".value"]),"object"!==typeof t||".sv"in t){var n=t;return new $t(n,le(e))}if(t instanceof Array||!ce){var i=ae.EMPTY_NODE,r=t;return o.forEach(r,function(t,e){if(o.contains(r,t)&&"."!==t.substring(0,1)){var n=le(e);!n.isLeafNode()&&n.isEmpty()||(i=i.updateImmediateChild(t,n))}}),i.updatePriority(le(e))}var a=[],s=!1,u=t;if(o.forEach(u,function(t,e){if("string"!==typeof t||"."!==t.substring(0,1)){var n=le(u[t]);n.isEmpty()||(s=s||!n.getPriority().isEmpty(),a.push(new Nt(t,n)))}}),0==a.length)return ae.EMPTY_NODE;var c=ee(a,re,function(t){return t.name},oe);if(s){var l=ee(a,Kt.getCompare());return new ae(c,le(e),new ie({".priority":l},{".priority":Kt}))}return new ae(c,le(e),ie.Default)}Vt(le);var he,fe,de=function(t){function e(){return null!==t&&t.apply(this,arguments)||this}return s.__extends(e,t),e.prototype.compare=function(t,e){var n=t.node.compareTo(e.node);return 0===n?I(t.name,e.name):n},e.prototype.isDefinedOn=function(t){return!0},e.prototype.indexedValueChanged=function(t,e){return!t.equals(e)},e.prototype.minPost=function(){return Nt.MIN},e.prototype.maxPost=function(){return Nt.MAX},e.prototype.makePost=function(t,e){var n=le(t);return new Nt(e,n)},e.prototype.toString=function(){return".value"},e}(Lt),pe=new de,ve=function(t){function e(e){var n=t.call(this)||this;return n.indexPath_=e,o.assert(!e.isEmpty()&&".priority"!==e.getFront(),"Can't create PathIndex with empty path or .priority key"),n}return s.__extends(e,t),e.prototype.extractChild=function(t){return t.getChild(this.indexPath_)},e.prototype.isDefinedOn=function(t){return!t.getChild(this.indexPath_).isEmpty()},e.prototype.compare=function(t,e){var n=this.extractChild(t.node),i=this.extractChild(e.node),r=n.compareTo(i);return 0===r?I(t.name,e.name):r},e.prototype.makePost=function(t,e){var n=le(t),i=ae.EMPTY_NODE.updateChild(this.indexPath_,n);return new Nt(e,i)},e.prototype.maxPost=function(){var t=ae.EMPTY_NODE.updateChild(this.indexPath_,ue);return new Nt(P,t)},e.prototype.toString=function(){return this.indexPath_.slice().join("/")},e}(Lt),me=function(){function t(t,e,n){this.node_=t,this.ref_=e,this.index_=n}return t.prototype.val=function(){return o.validateArgCount("DataSnapshot.val",0,0,arguments.length),this.node_.val()},t.prototype.exportVal=function(){return o.validateArgCount("DataSnapshot.exportVal",0,0,arguments.length),this.node_.val(!0)},t.prototype.toJSON=function(){return o.validateArgCount("DataSnapshot.toJSON",0,1,arguments.length),this.exportVal()},t.prototype.exists=function(){return o.validateArgCount("DataSnapshot.exists",0,0,arguments.length),!this.node_.isEmpty()},t.prototype.child=function(e){o.validateArgCount("DataSnapshot.child",0,1,arguments.length),e=String(e),Ct("DataSnapshot.child",1,e,!1);var n=new z(e),i=this.ref_.child(n);return new t(this.node_.getChild(n),i,Kt)},t.prototype.hasChild=function(t){o.validateArgCount("DataSnapshot.hasChild",1,1,arguments.length),Ct("DataSnapshot.hasChild",1,t,!1);var e=new z(t);return!this.node_.getChild(e).isEmpty()},t.prototype.getPriority=function(){return o.validateArgCount("DataSnapshot.getPriority",0,0,arguments.length),this.node_.getPriority().val()},t.prototype.forEach=function(e){var n=this;if(o.validateArgCount("DataSnapshot.forEach",1,1,arguments.length),o.validateCallback("DataSnapshot.forEach",1,e,!1),this.node_.isLeafNode())return!1;var i=this.node_;return!!i.forEachChild(this.index_,function(i,r){return e(new t(r,n.ref_.child(i),Kt))})},t.prototype.hasChildren=function(){return o.validateArgCount("DataSnapshot.hasChildren",0,0,arguments.length),!this.node_.isLeafNode()&&!this.node_.isEmpty()},Object.defineProperty(t.prototype,"key",{get:function(){return this.ref_.getKey()},enumerable:!0,configurable:!0}),t.prototype.numChildren=function(){return o.validateArgCount("DataSnapshot.numChildren",0,0,arguments.length),this.node_.numChildren()},t.prototype.getRef=function(){return o.validateArgCount("DataSnapshot.ref",0,0,arguments.length),this.ref_},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ge=function(){function t(t,e,n,i){this.eventType=t,this.eventRegistration=e,this.snapshot=n,this.prevName=i}return t.prototype.getPath=function(){var t=this.snapshot.getRef();return"value"===this.eventType?t.path:t.getParent().path},t.prototype.getEventType=function(){return this.eventType},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.getPath().toString()+":"+this.eventType+":"+o.stringify(this.snapshot.exportVal())},t}(),_e=function(){function t(t,e,n){this.eventRegistration=t,this.error=e,this.path=n}return t.prototype.getPath=function(){return this.path},t.prototype.getEventType=function(){return"cancel"},t.prototype.getEventRunner=function(){return this.eventRegistration.getEventRunner(this)},t.prototype.toString=function(){return this.path.toString()+":cancel"},t}(),ye=function(){function t(t,e,n){this.callback_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){return"value"===t},t.prototype.createEvent=function(t,e){var n=e.getQueryParams().getIndex();return new ge("value",this,new me(t.snapshotNode,e.getRef(),n))},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callback_;return function(){i.call(e,t.snapshot)}},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new _e(this,t,e):null},t.prototype.matches=function(e){return e instanceof t&&(!e.callback_||!this.callback_||e.callback_===this.callback_&&e.context_===this.context_)},t.prototype.hasAnyCallback=function(){return null!==this.callback_},t}(),be=function(){function t(t,e,n){this.callbacks_=t,this.cancelCallback_=e,this.context_=n}return t.prototype.respondsTo=function(t){var e="children_added"===t?"child_added":t;return e="children_removed"===e?"child_removed":e,o.contains(this.callbacks_,e)},t.prototype.createCancelEvent=function(t,e){return this.cancelCallback_?new _e(this,t,e):null},t.prototype.createEvent=function(t,e){o.assert(null!=t.childName,"Child events should have a childName.");var n=e.getRef().child(t.childName),i=e.getQueryParams().getIndex();return new ge(t.type,this,new me(t.snapshotNode,n,i),t.prevName)},t.prototype.getEventRunner=function(t){var e=this.context_;if("cancel"===t.getEventType()){o.assert(this.cancelCallback_,"Raising a cancel event on a listener with no cancel callback");var n=this.cancelCallback_;return function(){n.call(e,t.error)}}var i=this.callbacks_[t.eventType];return function(){i.call(e,t.snapshot,t.prevName)}},t.prototype.matches=function(e){if(e instanceof t){if(!this.callbacks_||!e.callbacks_)return!0;if(this.context_===e.context_){var n=o.getCount(e.callbacks_),i=o.getCount(this.callbacks_);if(n===i){if(1===n){var r=o.getAnyKey(e.callbacks_),a=o.getAnyKey(this.callbacks_);return a===r&&(!e.callbacks_[r]||!this.callbacks_[a]||e.callbacks_[r]===this.callbacks_[a])}return o.every(this.callbacks_,function(t,n){return e.callbacks_[t]===n})}}}return!1},t.prototype.hasAnyCallback=function(){return null!==this.callbacks_},t}(),we=function(){function t(t,e,n,i){this.repo=t,this.path=e,this.queryParams_=n,this.orderByCalled_=i}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(he,"Reference.ts has not been loaded"),he},set:function(t){he=t},enumerable:!0,configurable:!0}),t.validateQueryEndpoints_=function(t){var e=null,n=null;if(t.hasStart()&&(e=t.getIndexStartValue()),t.hasEnd()&&(n=t.getIndexEndValue()),t.getIndex()===Rt){var i="Query: When ordering by key, you may only pass one argument to startAt(), endAt(), or equalTo().",r="Query: When ordering by key, the argument passed to startAt(), endAt(),or equalTo() must be a string.";if(t.hasStart()){var a=t.getIndexStartName();if(a!=x)throw new Error(i);if("string"!==typeof e)throw new Error(r)}if(t.hasEnd()){var s=t.getIndexEndName();if(s!=P)throw new Error(i);if("string"!==typeof n)throw new Error(r)}}else if(t.getIndex()===Kt){if(null!=e&&!mt(e)||null!=n&&!mt(n))throw new Error("Query: When ordering by priority, the first argument passed to startAt(), endAt(), or equalTo() must be a valid priority value (null, a number, or a string).")}else if(o.assert(t.getIndex()instanceof ve||t.getIndex()===pe,"unknown index type."),null!=e&&"object"===typeof e||null!=n&&"object"===typeof n)throw new Error("Query: First argument passed to startAt(), endAt(), or equalTo() cannot be an object.")},t.validateLimit_=function(t){if(t.hasStart()&&t.hasEnd()&&t.hasLimit()&&!t.hasAnchoredLimit())throw new Error("Query: Can't combine startAt(), endAt(), and limit(). Use limitToFirst() or limitToLast() instead.")},t.prototype.validateNoPreviousOrderByCall_=function(t){if(!0===this.orderByCalled_)throw new Error(t+": You can't combine multiple orderBy calls.")},t.prototype.getQueryParams=function(){return this.queryParams_},t.prototype.getRef=function(){return o.validateArgCount("Query.ref",0,0,arguments.length),new t.__referenceConstructor(this.repo,this.path)},t.prototype.on=function(e,n,i,r){o.validateArgCount("Query.on",2,4,arguments.length),kt("Query.on",1,e,!1),o.validateCallback("Query.on",2,n,!1);var a=t.getCancelAndContextArgs_("Query.on",i,r);if("value"===e)this.onValueEvent(n,a.cancel,a.context);else{var s={};s[e]=n,this.onChildEvent(s,a.cancel,a.context)}return n},t.prototype.onValueEvent=function(t,e,n){var i=new ye(t,e||null,n||null);this.repo.addEventCallbackForQuery(this,i)},t.prototype.onChildEvent=function(t,e,n){var i=new be(t,e,n);this.repo.addEventCallbackForQuery(this,i)},t.prototype.off=function(t,e,n){o.validateArgCount("Query.off",0,3,arguments.length),kt("Query.off",1,t,!0),o.validateCallback("Query.off",2,e,!0),o.validateContextObject("Query.off",3,n,!0);var i=null,r=null;if("value"===t){var a=e||null;i=new ye(a,null,n||null)}else t&&(e&&(r={},r[t]=e),i=new be(r,null,n||null));this.repo.removeEventCallbackForQuery(this,i)},t.prototype.once=function(e,n,i,r){var a=this;o.validateArgCount("Query.once",1,4,arguments.length),kt("Query.once",1,e,!1),o.validateCallback("Query.once",2,n,!0);var s=t.getCancelAndContextArgs_("Query.once",i,r),u=!0,c=new o.Deferred;c.promise.catch(function(){});var l=function(t){u&&(u=!1,a.off(e,l),n&&n.bind(s.context)(t),c.resolve(t))};return this.on(e,l,function(t){a.off(e,l),s.cancel&&s.cancel.bind(s.context)(t),c.reject(t)}),c.promise},t.prototype.limitToFirst=function(e){if(o.validateArgCount("Query.limitToFirst",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToFirst: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToFirst: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToFirst(e),this.orderByCalled_)},t.prototype.limitToLast=function(e){if(o.validateArgCount("Query.limitToLast",1,1,arguments.length),"number"!==typeof e||Math.floor(e)!==e||e<=0)throw new Error("Query.limitToLast: First argument must be a positive integer.");if(this.queryParams_.hasLimit())throw new Error("Query.limitToLast: Limit was already set (by another call to limit, limitToFirst, or limitToLast).");return new t(this.repo,this.path,this.queryParams_.limitToLast(e),this.orderByCalled_)},t.prototype.orderByChild=function(e){if(o.validateArgCount("Query.orderByChild",1,1,arguments.length),"$key"===e)throw new Error('Query.orderByChild: "$key" is invalid.  Use Query.orderByKey() instead.');if("$priority"===e)throw new Error('Query.orderByChild: "$priority" is invalid.  Use Query.orderByPriority() instead.');if("$value"===e)throw new Error('Query.orderByChild: "$value" is invalid.  Use Query.orderByValue() instead.');Ct("Query.orderByChild",1,e,!1),this.validateNoPreviousOrderByCall_("Query.orderByChild");var n=new z(e);if(n.isEmpty())throw new Error("Query.orderByChild: cannot pass in empty path.  Use Query.orderByValue() instead.");var i=new ve(n),r=this.queryParams_.orderBy(i);return t.validateQueryEndpoints_(r),new t(this.repo,this.path,r,!0)},t.prototype.orderByKey=function(){o.validateArgCount("Query.orderByKey",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByKey");var e=this.queryParams_.orderBy(Rt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByPriority=function(){o.validateArgCount("Query.orderByPriority",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByPriority");var e=this.queryParams_.orderBy(Kt);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.orderByValue=function(){o.validateArgCount("Query.orderByValue",0,0,arguments.length),this.validateNoPreviousOrderByCall_("Query.orderByValue");var e=this.queryParams_.orderBy(pe);return t.validateQueryEndpoints_(e),new t(this.repo,this.path,e,!0)},t.prototype.startAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.startAt",0,2,arguments.length),gt("Query.startAt",1,e,this.path,!0),Et("Query.startAt",2,n,!0);var i=this.queryParams_.startAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasStart())throw new Error("Query.startAt: Starting point was already set (by another call to startAt or equalTo).");return void 0===e&&(e=null,n=null),new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.endAt=function(e,n){void 0===e&&(e=null),o.validateArgCount("Query.endAt",0,2,arguments.length),gt("Query.endAt",1,e,this.path,!0),Et("Query.endAt",2,n,!0);var i=this.queryParams_.endAt(e,n);if(t.validateLimit_(i),t.validateQueryEndpoints_(i),this.queryParams_.hasEnd())throw new Error("Query.endAt: Ending point was already set (by another call to endAt or equalTo).");return new t(this.repo,this.path,i,this.orderByCalled_)},t.prototype.equalTo=function(t,e){if(o.validateArgCount("Query.equalTo",1,2,arguments.length),gt("Query.equalTo",1,t,this.path,!1),Et("Query.equalTo",2,e,!0),this.queryParams_.hasStart())throw new Error("Query.equalTo: Starting point was already set (by another call to startAt or equalTo).");if(this.queryParams_.hasEnd())throw new Error("Query.equalTo: Ending point was already set (by another call to endAt or equalTo).");return this.startAt(t,e).endAt(t,e)},t.prototype.toString=function(){return o.validateArgCount("Query.toString",0,0,arguments.length),this.repo.toString()+this.path.toUrlEncodedString()},t.prototype.toJSON=function(){return o.validateArgCount("Query.toJSON",0,1,arguments.length),this.toString()},t.prototype.queryObject=function(){return this.queryParams_.getQueryObject()},t.prototype.queryIdentifier=function(){var t=this.queryObject(),e=D(t);return"{}"===e?"default":e},t.prototype.isEqual=function(e){if(o.validateArgCount("Query.isEqual",1,1,arguments.length),!(e instanceof t)){var n="Query.isEqual failed: First argument must be an instance of firebase.database.Query.";throw new Error(n)}var i=this.repo===e.repo,r=this.path.equals(e.path),a=this.queryIdentifier()===e.queryIdentifier();return i&&r&&a},t.getCancelAndContextArgs_=function(t,e,n){var i={cancel:null,context:null};if(e&&n)i.cancel=e,o.validateCallback(t,3,i.cancel,!0),i.context=n,o.validateContextObject(t,4,i.context,!0);else if(e)if("object"===typeof e&&null!==e)i.context=e;else{if("function"!==typeof e)throw new Error(o.errorPrefix(t,3,!0)+" must either be a cancel callback or a context object.");i.cancel=e}return i},Object.defineProperty(t.prototype,"ref",{get:function(){return this.getRef()},enumerable:!0,configurable:!0}),t}(),ke=function(){function t(){this.set={}}return t.prototype.add=function(t,e){this.set[t]=null===e||e},t.prototype.contains=function(t){return o.contains(this.set,t)},t.prototype.get=function(t){return this.contains(t)?this.set[t]:void 0},t.prototype.remove=function(t){delete this.set[t]},t.prototype.clear=function(){this.set={}},t.prototype.isEmpty=function(){return o.isEmpty(this.set)},t.prototype.count=function(){return o.getCount(this.set)},t.prototype.each=function(t){o.forEach(this.set,function(e,n){return t(e,n)})},t.prototype.keys=function(){var t=[];return o.forEach(this.set,function(e){t.push(e)}),t},t}(),Ee=function(){function t(){this.value_=null,this.children_=null}return t.prototype.find=function(t){if(null!=this.value_)return this.value_.getChild(t);if(t.isEmpty()||null==this.children_)return null;var e=t.getFront();if(t=t.popFront(),this.children_.contains(e)){var n=this.children_.get(e);return n.find(t)}return null},t.prototype.remember=function(e,n){if(e.isEmpty())this.value_=n,this.children_=null;else if(null!==this.value_)this.value_=this.value_.updateChild(e,n);else{null==this.children_&&(this.children_=new ke);var i=e.getFront();this.children_.contains(i)||this.children_.add(i,new t);var r=this.children_.get(i);e=e.popFront(),r.remember(e,n)}},t.prototype.forget=function(t){if(t.isEmpty())return this.value_=null,this.children_=null,!0;if(null!==this.value_){if(this.value_.isLeafNode())return!1;var e=this.value_;this.value_=null;var n=this;return e.forEachChild(Kt,function(t,e){n.remember(new z(t),e)}),this.forget(t)}if(null!==this.children_){var i=t.getFront();if(t=t.popFront(),this.children_.contains(i)){var r=this.children_.get(i).forget(t);r&&this.children_.remove(i)}return!!this.children_.isEmpty()&&(this.children_=null,!0)}return!0},t.prototype.forEachTree=function(t,e){null!==this.value_?e(t,this.value_):this.forEachChild(function(n,i){var r=new z(t.toString()+"/"+n);i.forEachTree(r,e)})},t.prototype.forEachChild=function(t){null!==this.children_&&this.children_.each(function(e,n){t(e,n)})},t}(),Ce=function(t){return t=t||{},t["timestamp"]=t["timestamp"]||(new Date).getTime(),t},Se=function(t,e){return t&&"object"===typeof t?(o.assert(".sv"in t,"Unexpected leaf node or priority contents"),e[t[".sv"]]):t},Ae=function(t,e){var n=new Ee;return t.forEachTree(new z(""),function(t,i){n.remember(t,Te(i,e))}),n},Te=function(t,e){var n,i=t.getPriority().val(),r=Se(i,e);if(t.isLeafNode()){var o=t,a=Se(o.getValue(),e);return a!==o.getValue()||r!==o.getPriority().val()?new $t(a,le(r)):t}var s=t;return n=s,r!==s.getPriority().val()&&(n=n.updatePriority(new $t(r))),s.forEachChild(Kt,function(t,i){var r=Te(i,e);r!==i&&(n=n.updateImmediateChild(t,r))}),n};(function(t){t[t["OVERWRITE"]=0]="OVERWRITE",t[t["MERGE"]=1]="MERGE",t[t["ACK_USER_WRITE"]=2]="ACK_USER_WRITE",t[t["LISTEN_COMPLETE"]=3]="LISTEN_COMPLETE"})(fe||(fe={}));var Oe,xe,Pe=function(){function t(t,e,n,i){this.fromUser=t,this.fromServer=e,this.queryId=n,this.tagged=i,o.assert(!i||e,"Tagged queries must be from server.")}return t.User=new t(!0,!1,null,!1),t.Server=new t(!1,!0,null,!1),t.forServerTaggedQuery=function(e){return new t(!1,!0,e,!0)},t}(),Ie=function(){function t(t,e,n){this.path=t,this.affectedTree=e,this.revert=n,this.type=fe.ACK_USER_WRITE,this.source=Pe.User}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){if(null!=this.affectedTree.value)return o.assert(this.affectedTree.children.isEmpty(),"affectedTree should not have overlapping affected paths."),this;var n=this.affectedTree.subtree(new z(e));return new t(z.Empty,n,this.revert)}return o.assert(this.path.getFront()===e,"operationForChild called for unrelated child."),new t(this.path.popFront(),this.affectedTree,this.revert)},t}(),Ne=function(){return Oe||(Oe=new Jt(N)),Oe},Le=function(){function t(t,e){void 0===e&&(e=Ne()),this.value=t,this.children=e}return t.fromObject=function(e){var n=t.Empty;return o.forEach(e,function(t,e){n=n.set(new z(t),e)}),n},t.prototype.isEmpty=function(){return null===this.value&&this.children.isEmpty()},t.prototype.findRootMostMatchingPathAndValue=function(t,e){if(null!=this.value&&e(this.value))return{path:z.Empty,value:this.value};if(t.isEmpty())return null;var n=t.getFront(),i=this.children.get(n);if(null!==i){var r=i.findRootMostMatchingPathAndValue(t.popFront(),e);if(null!=r){var o=new z(n).child(r.path);return{path:o,value:r.value}}return null}return null},t.prototype.findRootMostValueAndPath=function(t){return this.findRootMostMatchingPathAndValue(t,function(){return!0})},t.prototype.subtree=function(e){if(e.isEmpty())return this;var n=e.getFront(),i=this.children.get(n);return null!==i?i.subtree(e.popFront()):t.Empty},t.prototype.set=function(e,n){if(e.isEmpty())return new t(n,this.children);var i=e.getFront(),r=this.children.get(i)||t.Empty,o=r.set(e.popFront(),n),a=this.children.insert(i,o);return new t(this.value,a)},t.prototype.remove=function(e){if(e.isEmpty())return this.children.isEmpty()?t.Empty:new t(null,this.children);var n=e.getFront(),i=this.children.get(n);if(i){var r=i.remove(e.popFront()),o=void 0;return o=r.isEmpty()?this.children.remove(n):this.children.insert(n,r),null===this.value&&o.isEmpty()?t.Empty:new t(this.value,o)}return this},t.prototype.get=function(t){if(t.isEmpty())return this.value;var e=t.getFront(),n=this.children.get(e);return n?n.get(t.popFront()):null},t.prototype.setTree=function(e,n){if(e.isEmpty())return n;var i=e.getFront(),r=this.children.get(i)||t.Empty,o=r.setTree(e.popFront(),n),a=void 0;return a=o.isEmpty()?this.children.remove(i):this.children.insert(i,o),new t(this.value,a)},t.prototype.fold=function(t){return this.fold_(z.Empty,t)},t.prototype.fold_=function(t,e){var n={};return this.children.inorderTraversal(function(i,r){n[i]=r.fold_(t.child(i),e)}),e(t,this.value,n)},t.prototype.findOnPath=function(t,e){return this.findOnPath_(t,z.Empty,e)},t.prototype.findOnPath_=function(t,e,n){var i=!!this.value&&n(e,this.value);if(i)return i;if(t.isEmpty())return null;var r=t.getFront(),o=this.children.get(r);return o?o.findOnPath_(t.popFront(),e.child(r),n):null},t.prototype.foreachOnPath=function(t,e){return this.foreachOnPath_(t,z.Empty,e)},t.prototype.foreachOnPath_=function(e,n,i){if(e.isEmpty())return this;this.value&&i(n,this.value);var r=e.getFront(),o=this.children.get(r);return o?o.foreachOnPath_(e.popFront(),n.child(r),i):t.Empty},t.prototype.foreach=function(t){this.foreach_(z.Empty,t)},t.prototype.foreach_=function(t,e){this.children.inorderTraversal(function(n,i){i.foreach_(t.child(n),e)}),this.value&&e(t,this.value)},t.prototype.foreachChild=function(t){this.children.inorderTraversal(function(e,n){n.value&&t(e,n.value)})},t.Empty=new t(null),t}(),De=function(){function t(t,e){this.source=t,this.path=e,this.type=fe.LISTEN_COMPLETE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,z.Empty):new t(this.source,this.path.popFront())},t}(),Re=function(){function t(t,e,n){this.source=t,this.path=e,this.snap=n,this.type=fe.OVERWRITE}return t.prototype.operationForChild=function(e){return this.path.isEmpty()?new t(this.source,z.Empty,this.snap.getImmediateChild(e)):new t(this.source,this.path.popFront(),this.snap)},t}(),Me=function(){function t(t,e,n){this.source=t,this.path=e,this.children=n,this.type=fe.MERGE}return t.prototype.operationForChild=function(e){if(this.path.isEmpty()){var n=this.children.subtree(new z(e));return n.isEmpty()?null:n.value?new Re(this.source,z.Empty,n.value):new t(this.source,z.Empty,n)}return o.assert(this.path.getFront()===e,"Can't get a merge for a child not on the path of the operation"),new t(this.source,this.path.popFront(),this.children)},t.prototype.toString=function(){return"Operation("+this.path+": "+this.source.toString()+" merge: "+this.children.toString()+")"},t}(),je=function(){function t(t,e,n){this.node_=t,this.fullyInitialized_=e,this.filtered_=n}return t.prototype.isFullyInitialized=function(){return this.fullyInitialized_},t.prototype.isFiltered=function(){return this.filtered_},t.prototype.isCompleteForPath=function(t){if(t.isEmpty())return this.isFullyInitialized()&&!this.filtered_;var e=t.getFront();return this.isCompleteForChild(e)},t.prototype.isCompleteForChild=function(t){return this.isFullyInitialized()&&!this.filtered_||this.node_.hasChild(t)},t.prototype.getNode=function(){return this.node_},t}(),Fe=function(){function t(t,e){this.eventCache_=t,this.serverCache_=e}return t.prototype.updateEventSnap=function(e,n,i){return new t(new je(e,n,i),this.serverCache_)},t.prototype.updateServerSnap=function(e,n,i){return new t(this.eventCache_,new je(e,n,i))},t.prototype.getEventCache=function(){return this.eventCache_},t.prototype.getCompleteEventSnap=function(){return this.eventCache_.isFullyInitialized()?this.eventCache_.getNode():null},t.prototype.getServerCache=function(){return this.serverCache_},t.prototype.getCompleteServerSnap=function(){return this.serverCache_.isFullyInitialized()?this.serverCache_.getNode():null},t.Empty=new t(new je(ae.EMPTY_NODE,!1,!1),new je(ae.EMPTY_NODE,!1,!1)),t}(),Be=function(){function t(t,e,n,i,r){this.type=t,this.snapshotNode=e,this.childName=n,this.oldSnap=i,this.prevName=r}return t.valueChange=function(e){return new t(t.VALUE,e)},t.childAddedChange=function(e,n){return new t(t.CHILD_ADDED,n,e)},t.childRemovedChange=function(e,n){return new t(t.CHILD_REMOVED,n,e)},t.childChangedChange=function(e,n,i){return new t(t.CHILD_CHANGED,n,e,i)},t.childMovedChange=function(e,n){return new t(t.CHILD_MOVED,n,e)},t.CHILD_ADDED="child_added",t.CHILD_REMOVED="child_removed",t.CHILD_CHANGED="child_changed",t.CHILD_MOVED="child_moved",t.VALUE="value",t}(),qe=function(){function t(t){this.index_=t}return t.prototype.updateChild=function(t,e,n,i,r,a){o.assert(t.isIndexed(this.index_),"A node must be indexed if only a child is updated");var s=t.getImmediateChild(e);return s.getChild(i).equals(n.getChild(i))&&s.isEmpty()==n.isEmpty()?t:(null!=a&&(n.isEmpty()?t.hasChild(e)?a.trackChildChange(Be.childRemovedChange(e,s)):o.assert(t.isLeafNode(),"A child remove without an old child only makes sense on a leaf node"):s.isEmpty()?a.trackChildChange(Be.childAddedChange(e,n)):a.trackChildChange(Be.childChangedChange(e,n,s))),t.isLeafNode()&&n.isEmpty()?t:t.updateImmediateChild(e,n).withIndex(this.index_))},t.prototype.updateFullNode=function(t,e,n){return null!=n&&(t.isLeafNode()||t.forEachChild(Kt,function(t,i){e.hasChild(t)||n.trackChildChange(Be.childRemovedChange(t,i))}),e.isLeafNode()||e.forEachChild(Kt,function(e,i){if(t.hasChild(e)){var r=t.getImmediateChild(e);r.equals(i)||n.trackChildChange(Be.childChangedChange(e,i,r))}else n.trackChildChange(Be.childAddedChange(e,i))})),e.withIndex(this.index_)},t.prototype.updatePriority=function(t,e){return t.isEmpty()?ae.EMPTY_NODE:t.updatePriority(e)},t.prototype.filtersNodes=function(){return!1},t.prototype.getIndexedFilter=function(){return this},t.prototype.getIndex=function(){return this.index_},t}(),Ue=function(){function t(){this.changeMap_={}}return t.prototype.trackChildChange=function(t){var e=t.type,n=t.childName;o.assert(e==Be.CHILD_ADDED||e==Be.CHILD_CHANGED||e==Be.CHILD_REMOVED,"Only child changes supported for tracking"),o.assert(".priority"!==n,"Only non-priority child changes can be tracked.");var i=o.safeGet(this.changeMap_,n);if(i){var r=i.type;if(e==Be.CHILD_ADDED&&r==Be.CHILD_REMOVED)this.changeMap_[n]=Be.childChangedChange(n,t.snapshotNode,i.snapshotNode);else if(e==Be.CHILD_REMOVED&&r==Be.CHILD_ADDED)delete this.changeMap_[n];else if(e==Be.CHILD_REMOVED&&r==Be.CHILD_CHANGED)this.changeMap_[n]=Be.childRemovedChange(n,i.oldSnap);else if(e==Be.CHILD_CHANGED&&r==Be.CHILD_ADDED)this.changeMap_[n]=Be.childAddedChange(n,t.snapshotNode);else{if(e!=Be.CHILD_CHANGED||r!=Be.CHILD_CHANGED)throw o.assertionError("Illegal combination of changes: "+t+" occurred after "+i);this.changeMap_[n]=Be.childChangedChange(n,t.snapshotNode,i.oldSnap)}}else this.changeMap_[n]=t},t.prototype.getChanges=function(){return o.getValues(this.changeMap_)},t}(),$e=function(){function t(){}return t.prototype.getCompleteChild=function(t){return null},t.prototype.getChildAfterChild=function(t,e,n){return null},t}(),Ve=new $e,He=function(){function t(t,e,n){void 0===n&&(n=null),this.writes_=t,this.viewCache_=e,this.optCompleteServerCache_=n}return t.prototype.getCompleteChild=function(t){var e=this.viewCache_.getEventCache();if(e.isCompleteForChild(t))return e.getNode().getImmediateChild(t);var n=null!=this.optCompleteServerCache_?new je(this.optCompleteServerCache_,!0,!1):this.viewCache_.getServerCache();return this.writes_.calcCompleteChild(t,n)},t.prototype.getChildAfterChild=function(t,e,n){var i=null!=this.optCompleteServerCache_?this.optCompleteServerCache_:this.viewCache_.getCompleteServerSnap(),r=this.writes_.calcIndexedSlice(i,e,1,n,t);return 0===r.length?null:r[0]},t}(),We=function(){function t(t,e){this.viewCache=t,this.changes=e}return t}(),ze=function(){function t(t){this.filter_=t}return t.prototype.assertIndexed=function(t){o.assert(t.getEventCache().getNode().isIndexed(this.filter_.getIndex()),"Event snap not indexed"),o.assert(t.getServerCache().getNode().isIndexed(this.filter_.getIndex()),"Server snap not indexed")},t.prototype.applyOperation=function(e,n,i,r){var a,s,u=new Ue;if(n.type===fe.OVERWRITE){var c=n;c.source.fromUser?a=this.applyUserOverwrite_(e,c.path,c.snap,i,r,u):(o.assert(c.source.fromServer,"Unknown source."),s=c.source.tagged||e.getServerCache().isFiltered()&&!c.path.isEmpty(),a=this.applyServerOverwrite_(e,c.path,c.snap,i,r,s,u))}else if(n.type===fe.MERGE){var l=n;l.source.fromUser?a=this.applyUserMerge_(e,l.path,l.children,i,r,u):(o.assert(l.source.fromServer,"Unknown source."),s=l.source.tagged||e.getServerCache().isFiltered(),a=this.applyServerMerge_(e,l.path,l.children,i,r,s,u))}else if(n.type===fe.ACK_USER_WRITE){var h=n;a=h.revert?this.revertUserWrite_(e,h.path,i,r,u):this.ackUserWrite_(e,h.path,h.affectedTree,i,r,u)}else{if(n.type!==fe.LISTEN_COMPLETE)throw o.assertionError("Unknown operation type: "+n.type);a=this.listenComplete_(e,n.path,i,u)}var f=u.getChanges();return t.maybeAddValueEvent_(e,a,f),new We(a,f)},t.maybeAddValueEvent_=function(t,e,n){var i=e.getEventCache();if(i.isFullyInitialized()){var r=i.getNode().isLeafNode()||i.getNode().isEmpty(),o=t.getCompleteEventSnap();(n.length>0||!t.getEventCache().isFullyInitialized()||r&&!i.getNode().equals(o)||!i.getNode().getPriority().equals(o.getPriority()))&&n.push(Be.valueChange(e.getCompleteEventSnap()))}},t.prototype.generateEventCacheAfterServerEvent_=function(t,e,n,i,r){var a=t.getEventCache();if(null!=n.shadowingWrite(e))return t;var s=void 0,u=void 0;if(e.isEmpty())if(o.assert(t.getServerCache().isFullyInitialized(),"If change path is empty, we must have complete server data"),t.getServerCache().isFiltered()){var c=t.getCompleteServerSnap(),l=c instanceof ae?c:ae.EMPTY_NODE,h=n.calcCompleteEventChildren(l);s=this.filter_.updateFullNode(t.getEventCache().getNode(),h,r)}else{var f=n.calcCompleteEventCache(t.getCompleteServerSnap());s=this.filter_.updateFullNode(t.getEventCache().getNode(),f,r)}else{var d=e.getFront();if(".priority"==d){o.assert(1==e.getLength(),"Can't have a priority with additional path components");var p=a.getNode();u=t.getServerCache().getNode();var v=n.calcEventCacheAfterServerOverwrite(e,p,u);s=null!=v?this.filter_.updatePriority(p,v):a.getNode()}else{var m=e.popFront(),g=void 0;if(a.isCompleteForChild(d)){u=t.getServerCache().getNode();var _=n.calcEventCacheAfterServerOverwrite(e,a.getNode(),u);g=null!=_?a.getNode().getImmediateChild(d).updateChild(m,_):a.getNode().getImmediateChild(d)}else g=n.calcCompleteChild(d,t.getServerCache());s=null!=g?this.filter_.updateChild(a.getNode(),d,g,m,i,r):a.getNode()}}return t.updateEventSnap(s,a.isFullyInitialized()||e.isEmpty(),this.filter_.filtersNodes())},t.prototype.applyServerOverwrite_=function(t,e,n,i,r,o,a){var s,u=t.getServerCache(),c=o?this.filter_:this.filter_.getIndexedFilter();if(e.isEmpty())s=c.updateFullNode(u.getNode(),n,null);else if(c.filtersNodes()&&!u.isFiltered()){var l=u.getNode().updateChild(e,n);s=c.updateFullNode(u.getNode(),l,null)}else{var h=e.getFront();if(!u.isCompleteForPath(e)&&e.getLength()>1)return t;var f=e.popFront(),d=u.getNode().getImmediateChild(h),p=d.updateChild(f,n);s=".priority"==h?c.updatePriority(u.getNode(),p):c.updateChild(u.getNode(),h,p,f,Ve,null)}var v=t.updateServerSnap(s,u.isFullyInitialized()||e.isEmpty(),c.filtersNodes()),m=new He(i,v,r);return this.generateEventCacheAfterServerEvent_(v,e,i,m,a)},t.prototype.applyUserOverwrite_=function(t,e,n,i,r,o){var a,s,u=t.getEventCache(),c=new He(i,t,r);if(e.isEmpty())s=this.filter_.updateFullNode(t.getEventCache().getNode(),n,o),a=t.updateEventSnap(s,!0,this.filter_.filtersNodes());else{var l=e.getFront();if(".priority"===l)s=this.filter_.updatePriority(t.getEventCache().getNode(),n),a=t.updateEventSnap(s,u.isFullyInitialized(),u.isFiltered());else{var h=e.popFront(),f=u.getNode().getImmediateChild(l),d=void 0;if(h.isEmpty())d=n;else{var p=c.getCompleteChild(l);d=null!=p?".priority"===h.getBack()&&p.getChild(h.parent()).isEmpty()?p:p.updateChild(h,n):ae.EMPTY_NODE}if(f.equals(d))a=t;else{var v=this.filter_.updateChild(u.getNode(),l,d,h,c,o);a=t.updateEventSnap(v,u.isFullyInitialized(),this.filter_.filtersNodes())}}}return a},t.cacheHasChild_=function(t,e){return t.getEventCache().isCompleteForChild(e)},t.prototype.applyUserMerge_=function(e,n,i,r,o,a){var s=this,u=e;return i.foreach(function(i,c){var l=n.child(i);t.cacheHasChild_(e,l.getFront())&&(u=s.applyUserOverwrite_(u,l,c,r,o,a))}),i.foreach(function(i,c){var l=n.child(i);t.cacheHasChild_(e,l.getFront())||(u=s.applyUserOverwrite_(u,l,c,r,o,a))}),u},t.prototype.applyMerge_=function(t,e){return e.foreach(function(e,n){t=t.updateChild(e,n)}),t},t.prototype.applyServerMerge_=function(t,e,n,i,r,o,a){var s=this;if(t.getServerCache().getNode().isEmpty()&&!t.getServerCache().isFullyInitialized())return t;var u,c=t;u=e.isEmpty()?n:Le.Empty.setTree(e,n);var l=t.getServerCache().getNode();return u.children.inorderTraversal(function(e,n){if(l.hasChild(e)){var u=t.getServerCache().getNode().getImmediateChild(e),h=s.applyMerge_(u,n);c=s.applyServerOverwrite_(c,new z(e),h,i,r,o,a)}}),u.children.inorderTraversal(function(e,n){var u=!t.getServerCache().isCompleteForChild(e)&&null==n.value;if(!l.hasChild(e)&&!u){var h=t.getServerCache().getNode().getImmediateChild(e),f=s.applyMerge_(h,n);c=s.applyServerOverwrite_(c,new z(e),f,i,r,o,a)}}),c},t.prototype.ackUserWrite_=function(t,e,n,i,r,o){if(null!=i.shadowingWrite(e))return t;var a=t.getServerCache().isFiltered(),s=t.getServerCache();if(null!=n.value){if(e.isEmpty()&&s.isFullyInitialized()||s.isCompleteForPath(e))return this.applyServerOverwrite_(t,e,s.getNode().getChild(e),i,r,a,o);if(e.isEmpty()){var u=Le.Empty;return s.getNode().forEachChild(Rt,function(t,e){u=u.set(new z(t),e)}),this.applyServerMerge_(t,e,u,i,r,a,o)}return t}var c=Le.Empty;return n.foreach(function(t,n){var i=e.child(t);s.isCompleteForPath(i)&&(c=c.set(t,s.getNode().getChild(i)))}),this.applyServerMerge_(t,e,c,i,r,a,o)},t.prototype.listenComplete_=function(t,e,n,i){var r=t.getServerCache(),o=t.updateServerSnap(r.getNode(),r.isFullyInitialized()||e.isEmpty(),r.isFiltered());return this.generateEventCacheAfterServerEvent_(o,e,n,Ve,i)},t.prototype.revertUserWrite_=function(t,e,n,i,r){var a;if(null!=n.shadowingWrite(e))return t;var s=new He(n,t,i),u=t.getEventCache().getNode(),c=void 0;if(e.isEmpty()||".priority"===e.getFront()){var l=void 0;if(t.getServerCache().isFullyInitialized())l=n.calcCompleteEventCache(t.getCompleteServerSnap());else{var h=t.getServerCache().getNode();o.assert(h instanceof ae,"serverChildren would be complete if leaf node"),l=n.calcCompleteEventChildren(h)}l=l,c=this.filter_.updateFullNode(u,l,r)}else{var f=e.getFront(),d=n.calcCompleteChild(f,t.getServerCache());null==d&&t.getServerCache().isCompleteForChild(f)&&(d=u.getImmediateChild(f)),c=null!=d?this.filter_.updateChild(u,f,d,e.popFront(),s,r):t.getEventCache().getNode().hasChild(f)?this.filter_.updateChild(u,f,ae.EMPTY_NODE,e.popFront(),s,r):u,c.isEmpty()&&t.getServerCache().isFullyInitialized()&&(a=n.calcCompleteEventCache(t.getCompleteServerSnap()),a.isLeafNode()&&(c=this.filter_.updateFullNode(c,a,r)))}return a=t.getServerCache().isFullyInitialized()||null!=n.shadowingWrite(z.Empty),t.updateEventSnap(c,a,this.filter_.filtersNodes())},t}(),Ge=function(){function t(t){this.query_=t,this.index_=this.query_.getQueryParams().getIndex()}return t.prototype.generateEventsForChanges=function(t,e,n){var i=this,r=[],o=[];return t.forEach(function(t){t.type===Be.CHILD_CHANGED&&i.index_.indexedValueChanged(t.oldSnap,t.snapshotNode)&&o.push(Be.childMovedChange(t.childName,t.snapshotNode))}),this.generateEventsForType_(r,Be.CHILD_REMOVED,t,n,e),this.generateEventsForType_(r,Be.CHILD_ADDED,t,n,e),this.generateEventsForType_(r,Be.CHILD_MOVED,o,n,e),this.generateEventsForType_(r,Be.CHILD_CHANGED,t,n,e),this.generateEventsForType_(r,Be.VALUE,t,n,e),r},t.prototype.generateEventsForType_=function(t,e,n,i,r){var o=this,a=n.filter(function(t){return t.type===e});a.sort(this.compareChanges_.bind(this)),a.forEach(function(e){var n=o.materializeSingleChange_(e,r);i.forEach(function(i){i.respondsTo(e.type)&&t.push(i.createEvent(n,o.query_))})})},t.prototype.materializeSingleChange_=function(t,e){return"value"===t.type||"child_removed"===t.type?t:(t.prevName=e.getPredecessorChildName(t.childName,t.snapshotNode,this.index_),t)},t.prototype.compareChanges_=function(t,e){if(null==t.childName||null==e.childName)throw o.assertionError("Should only compare child_ events.");var n=new Nt(t.childName,t.snapshotNode),i=new Nt(e.childName,e.snapshotNode);return this.index_.compare(n,i)},t}(),Ke=function(){function t(t,e){this.query_=t,this.eventRegistrations_=[];var n=this.query_.getQueryParams(),i=new qe(n.getIndex()),r=n.getNodeFilter();this.processor_=new ze(r);var o=e.getServerCache(),a=e.getEventCache(),s=i.updateFullNode(ae.EMPTY_NODE,o.getNode(),null),u=r.updateFullNode(ae.EMPTY_NODE,a.getNode(),null),c=new je(s,o.isFullyInitialized(),i.filtersNodes()),l=new je(u,a.isFullyInitialized(),r.filtersNodes());this.viewCache_=new Fe(l,c),this.eventGenerator_=new Ge(this.query_)}return t.prototype.getQuery=function(){return this.query_},t.prototype.getServerCache=function(){return this.viewCache_.getServerCache().getNode()},t.prototype.getCompleteServerCache=function(t){var e=this.viewCache_.getCompleteServerSnap();return e&&(this.query_.getQueryParams().loadsAllData()||!t.isEmpty()&&!e.getImmediateChild(t.getFront()).isEmpty())?e.getChild(t):null},t.prototype.isEmpty=function(){return 0===this.eventRegistrations_.length},t.prototype.addEventRegistration=function(t){this.eventRegistrations_.push(t)},t.prototype.removeEventRegistration=function(t,e){var n=[];if(e){o.assert(null==t,"A cancel should cancel all event registrations.");var i=this.query_.path;this.eventRegistrations_.forEach(function(t){e=e;var r=t.createCancelEvent(e,i);r&&n.push(r)})}if(t){for(var r=[],a=0;a<this.eventRegistrations_.length;++a){var s=this.eventRegistrations_[a];if(s.matches(t)){if(t.hasAnyCallback()){r=r.concat(this.eventRegistrations_.slice(a+1));break}}else r.push(s)}this.eventRegistrations_=r}else this.eventRegistrations_=[];return n},t.prototype.applyOperation=function(t,e,n){t.type===fe.MERGE&&null!==t.source.queryId&&(o.assert(this.viewCache_.getCompleteServerSnap(),"We should always have a full cache before handling merges"),o.assert(this.viewCache_.getCompleteEventSnap(),"Missing event cache, even though we have a server cache"));var i=this.viewCache_,r=this.processor_.applyOperation(i,t,e,n);return this.processor_.assertIndexed(r.viewCache),o.assert(r.viewCache.getServerCache().isFullyInitialized()||!i.getServerCache().isFullyInitialized(),"Once a server snap is complete, it should never go back"),this.viewCache_=r.viewCache,this.generateEventsForChanges_(r.changes,r.viewCache.getEventCache().getNode(),null)},t.prototype.getInitialEvents=function(t){var e=this.viewCache_.getEventCache(),n=[];if(!e.getNode().isLeafNode()){var i=e.getNode();i.forEachChild(Kt,function(t,e){n.push(Be.childAddedChange(t,e))})}return e.isFullyInitialized()&&n.push(Be.valueChange(e.getNode())),this.generateEventsForChanges_(n,e.getNode(),t)},t.prototype.generateEventsForChanges_=function(t,e,n){var i=n?[n]:this.eventRegistrations_;return this.eventGenerator_.generateEventsForChanges(t,e,i)},t}(),Qe=function(){function t(){this.views_={}}return Object.defineProperty(t,"__referenceConstructor",{get:function(){return o.assert(xe,"Reference.ts has not been loaded"),xe},set:function(t){o.assert(!xe,"__referenceConstructor has already been defined"),xe=t},enumerable:!0,configurable:!0}),t.prototype.isEmpty=function(){return o.isEmpty(this.views_)},t.prototype.applyOperation=function(t,e,n){var i=t.source.queryId;if(null!==i){var r=o.safeGet(this.views_,i);return o.assert(null!=r,"SyncTree gave us an op for an invalid query."),r.applyOperation(t,e,n)}var a=[];return o.forEach(this.views_,function(i,r){a=a.concat(r.applyOperation(t,e,n))}),a},t.prototype.addEventRegistration=function(t,e,n,i,r){var a=t.queryIdentifier(),s=o.safeGet(this.views_,a);if(!s){var u=n.calcCompleteEventCache(r?i:null),c=!1;u?c=!0:i instanceof ae?(u=n.calcCompleteEventChildren(i),c=!1):(u=ae.EMPTY_NODE,c=!1);var l=new Fe(new je(u,c,!1),new je(i,r,!1));s=new Ke(t,l),this.views_[a]=s}return s.addEventRegistration(e),s.getInitialEvents(e)},t.prototype.removeEventRegistration=function(e,n,i){var r=e.queryIdentifier(),a=[],s=[],u=this.hasCompleteView();if("default"===r){var c=this;o.forEach(this.views_,function(t,e){s=s.concat(e.removeEventRegistration(n,i)),e.isEmpty()&&(delete c.views_[t],e.getQuery().getQueryParams().loadsAllData()||a.push(e.getQuery()))})}else{var l=o.safeGet(this.views_,r);l&&(s=s.concat(l.removeEventRegistration(n,i)),l.isEmpty()&&(delete this.views_[r],l.getQuery().getQueryParams().loadsAllData()||a.push(l.getQuery())))}return u&&!this.hasCompleteView()&&a.push(new t.__referenceConstructor(e.repo,e.path)),{removed:a,events:s}},t.prototype.getQueryViews=function(){var t=this,e=Object.keys(this.views_).map(function(e){return t.views_[e]});return e.filter(function(t){return!t.getQuery().getQueryParams().loadsAllData()})},t.prototype.getCompleteServerCache=function(t){var e=null;return o.forEach(this.views_,function(n,i){e=e||i.getCompleteServerCache(t)}),e},t.prototype.viewForQuery=function(t){var e=t.getQueryParams();if(e.loadsAllData())return this.getCompleteView();var n=t.queryIdentifier();return o.safeGet(this.views_,n)},t.prototype.viewExistsForQuery=function(t){return null!=this.viewForQuery(t)},t.prototype.hasCompleteView=function(){return null!=this.getCompleteView()},t.prototype.getCompleteView=function(){var t=o.findValue(this.views_,function(t){return t.getQuery().getQueryParams().loadsAllData()});return t||null},t}(),Xe=function(){function t(t){this.writeTree_=t}return t.prototype.addWrite=function(e,n){if(e.isEmpty())return new t(new Le(n));var i=this.writeTree_.findRootMostValueAndPath(e);if(null!=i){var r=i.path,o=i.value,a=z.relativePath(r,e);return o=o.updateChild(a,n),new t(this.writeTree_.set(r,o))}var s=new Le(n),u=this.writeTree_.setTree(e,s);return new t(u)},t.prototype.addWrites=function(t,e){var n=this;return o.forEach(e,function(e,i){n=n.addWrite(t.child(e),i)}),n},t.prototype.removeWrite=function(e){if(e.isEmpty())return t.Empty;var n=this.writeTree_.setTree(e,Le.Empty);return new t(n)},t.prototype.hasCompleteWrite=function(t){return null!=this.getCompleteNode(t)},t.prototype.getCompleteNode=function(t){var e=this.writeTree_.findRootMostValueAndPath(t);return null!=e?this.writeTree_.get(e.path).getChild(z.relativePath(e.path,t)):null},t.prototype.getCompleteChildren=function(){var t=[],e=this.writeTree_.value;return null!=e?e.isLeafNode()||e.forEachChild(Kt,function(e,n){t.push(new Nt(e,n))}):this.writeTree_.children.inorderTraversal(function(e,n){null!=n.value&&t.push(new Nt(e,n.value))}),t},t.prototype.childCompoundWrite=function(e){if(e.isEmpty())return this;var n=this.getCompleteNode(e);return new t(null!=n?new Le(n):this.writeTree_.subtree(e))},t.prototype.isEmpty=function(){return this.writeTree_.isEmpty()},t.prototype.apply=function(e){return t.applySubtreeWrite_(z.Empty,this.writeTree_,e)},t.Empty=new t(new Le(null)),t.applySubtreeWrite_=function(e,n,i){if(null!=n.value)return i.updateChild(e,n.value);var r=null;return n.children.inorderTraversal(function(n,a){".priority"===n?(o.assert(null!==a.value,"Priority writes must always be leaf nodes"),r=a.value):i=t.applySubtreeWrite_(e.child(n),a,i)}),i.getChild(e).isEmpty()||null===r||(i=i.updateChild(e.child(".priority"),r)),i},t}(),Ye=function(){function t(){this.visibleWrites_=Xe.Empty,this.allWrites_=[],this.lastWriteId_=-1}return t.prototype.childWrites=function(t){return new Je(t,this)},t.prototype.addOverwrite=function(t,e,n,i){o.assert(n>this.lastWriteId_,"Stacking an older write on top of newer ones"),void 0===i&&(i=!0),this.allWrites_.push({path:t,snap:e,writeId:n,visible:i}),i&&(this.visibleWrites_=this.visibleWrites_.addWrite(t,e)),this.lastWriteId_=n},t.prototype.addMerge=function(t,e,n){o.assert(n>this.lastWriteId_,"Stacking an older merge on top of newer ones"),this.allWrites_.push({path:t,children:e,writeId:n,visible:!0}),this.visibleWrites_=this.visibleWrites_.addWrites(t,e),this.lastWriteId_=n},t.prototype.getWrite=function(t){for(var e=0;e<this.allWrites_.length;e++){var n=this.allWrites_[e];if(n.writeId===t)return n}return null},t.prototype.removeWrite=function(t){var e=this,n=this.allWrites_.findIndex(function(e){return e.writeId===t});o.assert(n>=0,"removeWrite called with nonexistent writeId.");var i=this.allWrites_[n];this.allWrites_.splice(n,1);var r=i.visible,a=!1,s=this.allWrites_.length-1;while(r&&s>=0){var u=this.allWrites_[s];u.visible&&(s>=n&&this.recordContainsPath_(u,i.path)?r=!1:i.path.contains(u.path)&&(a=!0)),s--}if(r){if(a)return this.resetTree_(),!0;if(i.snap)this.visibleWrites_=this.visibleWrites_.removeWrite(i.path);else{var c=i.children;o.forEach(c,function(t){e.visibleWrites_=e.visibleWrites_.removeWrite(i.path.child(t))})}return!0}return!1},t.prototype.getCompleteWriteData=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcCompleteEventCache=function(e,n,i,r){if(i||r){var o=this.visibleWrites_.childCompoundWrite(e);if(!r&&o.isEmpty())return n;if(r||null!=n||o.hasCompleteWrite(z.Empty)){var a=function(t){return(t.visible||r)&&(!i||!~i.indexOf(t.writeId))&&(t.path.contains(e)||e.contains(t.path))},s=t.layerTree_(this.allWrites_,a,e);l=n||ae.EMPTY_NODE;return s.apply(l)}return null}var u=this.visibleWrites_.getCompleteNode(e);if(null!=u)return u;var c=this.visibleWrites_.childCompoundWrite(e);if(c.isEmpty())return n;if(null!=n||c.hasCompleteWrite(z.Empty)){var l=n||ae.EMPTY_NODE;return c.apply(l)}return null},t.prototype.calcCompleteEventChildren=function(t,e){var n=ae.EMPTY_NODE,i=this.visibleWrites_.getCompleteNode(t);if(i)return i.isLeafNode()||i.forEachChild(Kt,function(t,e){n=n.updateImmediateChild(t,e)}),n;if(e){var r=this.visibleWrites_.childCompoundWrite(t);return e.forEachChild(Kt,function(t,e){var i=r.childCompoundWrite(new z(t)).apply(e);n=n.updateImmediateChild(t,i)}),r.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n}var o=this.visibleWrites_.childCompoundWrite(t);return o.getCompleteChildren().forEach(function(t){n=n.updateImmediateChild(t.name,t.node)}),n},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n,i){o.assert(n||i,"Either existingEventSnap or existingServerSnap must exist");var r=t.child(e);if(this.visibleWrites_.hasCompleteWrite(r))return null;var a=this.visibleWrites_.childCompoundWrite(r);return a.isEmpty()?i.getChild(e):a.apply(i.getChild(e))},t.prototype.calcCompleteChild=function(t,e,n){var i=t.child(e),r=this.visibleWrites_.getCompleteNode(i);if(null!=r)return r;if(n.isCompleteForChild(e)){var o=this.visibleWrites_.childCompoundWrite(i);return o.apply(n.getNode().getImmediateChild(e))}return null},t.prototype.shadowingWrite=function(t){return this.visibleWrites_.getCompleteNode(t)},t.prototype.calcIndexedSlice=function(t,e,n,i,r,o){var a,s=this.visibleWrites_.childCompoundWrite(t),u=s.getCompleteNode(z.Empty);if(null!=u)a=u;else{if(null==e)return[];a=s.apply(e)}if(a=a.withIndex(o),a.isEmpty()||a.isLeafNode())return[];var c=[],l=o.getCompare(),h=r?a.getReverseIteratorFrom(n,o):a.getIteratorFrom(n,o),f=h.getNext();while(f&&c.length<i)0!==l(f,n)&&c.push(f),f=h.getNext();return c},t.prototype.recordContainsPath_=function(t,e){return t.snap?t.path.contains(e):!!o.findKey(t.children,function(n,i){return t.path.child(i).contains(e)})},t.prototype.resetTree_=function(){this.visibleWrites_=t.layerTree_(this.allWrites_,t.DefaultFilter_,z.Empty),this.allWrites_.length>0?this.lastWriteId_=this.allWrites_[this.allWrites_.length-1].writeId:this.lastWriteId_=-1},t.DefaultFilter_=function(t){return t.visible},t.layerTree_=function(t,e,n){for(var i=Xe.Empty,r=0;r<t.length;++r){var a=t[r];if(e(a)){var s=a.path,u=void 0;if(a.snap)n.contains(s)?(u=z.relativePath(n,s),i=i.addWrite(u,a.snap)):s.contains(n)&&(u=z.relativePath(s,n),i=i.addWrite(z.Empty,a.snap.getChild(u)));else{if(!a.children)throw o.assertionError("WriteRecord should have .snap or .children");if(n.contains(s))u=z.relativePath(n,s),i=i.addWrites(u,a.children);else if(s.contains(n))if(u=z.relativePath(s,n),u.isEmpty())i=i.addWrites(z.Empty,a.children);else{var c=o.safeGet(a.children,u.getFront());if(c){var l=c.getChild(u.popFront());i=i.addWrite(z.Empty,l)}}}}}return i},t}(),Je=function(){function t(t,e){this.treePath_=t,this.writeTree_=e}return t.prototype.calcCompleteEventCache=function(t,e,n){return this.writeTree_.calcCompleteEventCache(this.treePath_,t,e,n)},t.prototype.calcCompleteEventChildren=function(t){return this.writeTree_.calcCompleteEventChildren(this.treePath_,t)},t.prototype.calcEventCacheAfterServerOverwrite=function(t,e,n){return this.writeTree_.calcEventCacheAfterServerOverwrite(this.treePath_,t,e,n)},t.prototype.shadowingWrite=function(t){return this.writeTree_.shadowingWrite(this.treePath_.child(t))},t.prototype.calcIndexedSlice=function(t,e,n,i,r){return this.writeTree_.calcIndexedSlice(this.treePath_,t,e,n,i,r)},t.prototype.calcCompleteChild=function(t,e){return this.writeTree_.calcCompleteChild(this.treePath_,t,e)},t.prototype.child=function(e){return new t(this.treePath_.child(e),this.writeTree_)},t}(),Ze=function(){function t(t){this.listenProvider_=t,this.syncPointTree_=Le.Empty,this.pendingWriteTree_=new Ye,this.tagToQueryMap_={},this.queryToTagMap_={}}return t.prototype.applyUserOverwrite=function(t,e,n,i){return this.pendingWriteTree_.addOverwrite(t,e,n,i),i?this.applyOperationToSyncPoints_(new Re(Pe.User,t,e)):[]},t.prototype.applyUserMerge=function(t,e,n){this.pendingWriteTree_.addMerge(t,e,n);var i=Le.fromObject(e);return this.applyOperationToSyncPoints_(new Me(Pe.User,t,i))},t.prototype.ackUserWrite=function(t,e){void 0===e&&(e=!1);var n=this.pendingWriteTree_.getWrite(t),i=this.pendingWriteTree_.removeWrite(t);if(i){var r=Le.Empty;return null!=n.snap?r=r.set(z.Empty,!0):o.forEach(n.children,function(t,e){r=r.set(new z(t),e)}),this.applyOperationToSyncPoints_(new Ie(n.path,r,e))}return[]},t.prototype.applyServerOverwrite=function(t,e){return this.applyOperationToSyncPoints_(new Re(Pe.Server,t,e))},t.prototype.applyServerMerge=function(t,e){var n=Le.fromObject(e);return this.applyOperationToSyncPoints_(new Me(Pe.Server,t,n))},t.prototype.applyListenComplete=function(t){return this.applyOperationToSyncPoints_(new De(Pe.Server,t))},t.prototype.applyTaggedQueryOverwrite=function(e,n,i){var r=this.queryKeyForTag_(i);if(null!=r){var o=t.parseQueryKey_(r),a=o.path,s=o.queryId,u=z.relativePath(a,e),c=new Re(Pe.forServerTaggedQuery(s),u,n);return this.applyTaggedOperation_(a,c)}return[]},t.prototype.applyTaggedQueryMerge=function(e,n,i){var r=this.queryKeyForTag_(i);if(r){var o=t.parseQueryKey_(r),a=o.path,s=o.queryId,u=z.relativePath(a,e),c=Le.fromObject(n),l=new Me(Pe.forServerTaggedQuery(s),u,c);return this.applyTaggedOperation_(a,l)}return[]},t.prototype.applyTaggedListenComplete=function(e,n){var i=this.queryKeyForTag_(n);if(i){var r=t.parseQueryKey_(i),o=r.path,a=r.queryId,s=z.relativePath(o,e),u=new De(Pe.forServerTaggedQuery(a),s);return this.applyTaggedOperation_(o,u)}return[]},t.prototype.addEventRegistration=function(e,n){var i=e.path,r=null,a=!1;this.syncPointTree_.foreachOnPath(i,function(t,e){var n=z.relativePath(t,i);r=r||e.getCompleteServerCache(n),a=a||e.hasCompleteView()});var s,u=this.syncPointTree_.get(i);if(u?(a=a||u.hasCompleteView(),r=r||u.getCompleteServerCache(z.Empty)):(u=new Qe,this.syncPointTree_=this.syncPointTree_.set(i,u)),null!=r)s=!0;else{s=!1,r=ae.EMPTY_NODE;var c=this.syncPointTree_.subtree(i);c.foreachChild(function(t,e){var n=e.getCompleteServerCache(z.Empty);n&&(r=r.updateImmediateChild(t,n))})}var l=u.viewExistsForQuery(e);if(!l&&!e.getQueryParams().loadsAllData()){var h=t.makeQueryKey_(e);o.assert(!(h in this.queryToTagMap_),"View does not exist, but we have a tag");var f=t.getNextQueryTag_();this.queryToTagMap_[h]=f,this.tagToQueryMap_["_"+f]=h}var d=this.pendingWriteTree_.childWrites(i),p=u.addEventRegistration(e,n,d,r,s);if(!l&&!a){var v=u.viewForQuery(e);p=p.concat(this.setupListener_(e,v))}return p},t.prototype.removeEventRegistration=function(e,n,i){var r=this,o=e.path,a=this.syncPointTree_.get(o),s=[];if(a&&("default"===e.queryIdentifier()||a.viewExistsForQuery(e))){var u=a.removeEventRegistration(e,n,i);a.isEmpty()&&(this.syncPointTree_=this.syncPointTree_.remove(o));var c=u.removed;s=u.events;var l=-1!==c.findIndex(function(t){return t.getQueryParams().loadsAllData()}),h=this.syncPointTree_.findOnPath(o,function(t,e){return e.hasCompleteView()});if(l&&!h){var f=this.syncPointTree_.subtree(o);if(!f.isEmpty())for(var d=this.collectDistinctViewsForSubTree_(f),p=0;p<d.length;++p){var v=d[p],m=v.getQuery(),g=this.createListenerForView_(v);this.listenProvider_.startListening(t.queryForListening_(m),this.tagForQuery_(m),g.hashFn,g.onComplete)}}if(!h&&c.length>0&&!i)if(l){var _=null;this.listenProvider_.stopListening(t.queryForListening_(e),_)}else c.forEach(function(e){var n=r.queryToTagMap_[t.makeQueryKey_(e)];r.listenProvider_.stopListening(t.queryForListening_(e),n)});this.removeTags_(c)}return s},t.prototype.calcCompleteEventCache=function(t,e){var n=!0,i=this.pendingWriteTree_,r=this.syncPointTree_.findOnPath(t,function(e,n){var i=z.relativePath(e,t),r=n.getCompleteServerCache(i);if(r)return r});return i.calcCompleteEventCache(t,r,e,n)},t.prototype.collectDistinctViewsForSubTree_=function(t){return t.fold(function(t,e,n){if(e&&e.hasCompleteView()){var i=e.getCompleteView();return[i]}var r=[];return e&&(r=e.getQueryViews()),o.forEach(n,function(t,e){r=r.concat(e)}),r})},t.prototype.removeTags_=function(e){for(var n=0;n<e.length;++n){var i=e[n];if(!i.getQueryParams().loadsAllData()){var r=t.makeQueryKey_(i),o=this.queryToTagMap_[r];delete this.queryToTagMap_[r],delete this.tagToQueryMap_["_"+o]}}},t.queryForListening_=function(t){return t.getQueryParams().loadsAllData()&&!t.getQueryParams().isDefault()?t.getRef():t},t.prototype.setupListener_=function(e,n){var i=e.path,r=this.tagForQuery_(e),a=this.createListenerForView_(n),s=this.listenProvider_.startListening(t.queryForListening_(e),r,a.hashFn,a.onComplete),u=this.syncPointTree_.subtree(i);if(r)o.assert(!u.value.hasCompleteView(),"If we're adding a query, it shouldn't be shadowed");else for(var c=u.fold(function(t,e,n){if(!t.isEmpty()&&e&&e.hasCompleteView())return[e.getCompleteView().getQuery()];var i=[];return e&&(i=i.concat(e.getQueryViews().map(function(t){return t.getQuery()}))),o.forEach(n,function(t,e){i=i.concat(e)}),i}),l=0;l<c.length;++l){var h=c[l];this.listenProvider_.stopListening(t.queryForListening_(h),this.tagForQuery_(h))}return s},t.prototype.createListenerForView_=function(t){var e=this,n=t.getQuery(),i=this.tagForQuery_(n);return{hashFn:function(){var e=t.getServerCache()||ae.EMPTY_NODE;return e.hash()},onComplete:function(t){if("ok"===t)return i?e.applyTaggedListenComplete(n.path,i):e.applyListenComplete(n.path);var r=q(t,n);return e.removeEventRegistration(n,null,r)}}},t.makeQueryKey_=function(t){return t.path.toString()+"$"+t.queryIdentifier()},t.parseQueryKey_=function(t){var e=t.indexOf("$");return o.assert(-1!==e&&e<t.length-1,"Bad queryKey."),{queryId:t.substr(e+1),path:new z(t.substr(0,e))}},t.prototype.queryKeyForTag_=function(t){return this.tagToQueryMap_["_"+t]},t.prototype.tagForQuery_=function(e){var n=t.makeQueryKey_(e);return o.safeGet(this.queryToTagMap_,n)},t.getNextQueryTag_=function(){return t.nextQueryTag_++},t.prototype.applyTaggedOperation_=function(t,e){var n=this.syncPointTree_.get(t);o.assert(n,"Missing sync point for query tag that we're tracking");var i=this.pendingWriteTree_.childWrites(t);return n.applyOperation(e,i,null)},t.prototype.applyOperationToSyncPoints_=function(t){return this.applyOperationHelper_(t,this.syncPointTree_,null,this.pendingWriteTree_.childWrites(z.Empty))},t.prototype.applyOperationHelper_=function(t,e,n,i){if(t.path.isEmpty())return this.applyOperationDescendantsHelper_(t,e,n,i);var r=e.get(z.Empty);null==n&&null!=r&&(n=r.getCompleteServerCache(z.Empty));var o=[],a=t.path.getFront(),s=t.operationForChild(a),u=e.children.get(a);if(u&&s){var c=n?n.getImmediateChild(a):null,l=i.child(a);o=o.concat(this.applyOperationHelper_(s,u,c,l))}return r&&(o=o.concat(r.applyOperation(t,i,n))),o},t.prototype.applyOperationDescendantsHelper_=function(t,e,n,i){var r=this,o=e.get(z.Empty);null==n&&null!=o&&(n=o.getCompleteServerCache(z.Empty));var a=[];return e.children.inorderTraversal(function(e,o){var s=n?n.getImmediateChild(e):null,u=i.child(e),c=t.operationForChild(e);c&&(a=a.concat(r.applyOperationDescendantsHelper_(c,o,s,u)))}),o&&(a=a.concat(o.applyOperation(t,i,n))),a},t.nextQueryTag_=1,t}(),tn=function(){function t(){this.rootNode_=ae.EMPTY_NODE}return t.prototype.getNode=function(t){return this.rootNode_.getChild(t)},t.prototype.updateSnapshot=function(t,e){this.rootNode_=this.rootNode_.updateChild(t,e)},t}(),en=function(){function t(t){this.app_=t}return t.prototype.getToken=function(t){return this.app_["INTERNAL"]["getToken"](t).then(null,function(t){return t&&"auth/token-not-initialized"===t.code?(w("Got auth/token-not-initialized error.  Treating as null token."),null):Promise.reject(t)})},t.prototype.addTokenChangeListener=function(t){this.app_["INTERNAL"]["addAuthTokenListener"](t)},t.prototype.removeTokenChangeListener=function(t){this.app_["INTERNAL"]["removeAuthTokenListener"](t)},t.prototype.notifyForInvalidToken=function(){var t='Provided authentication credentials for the app named "'+this.app_.name+'" are invalid. This usually indicates your app was not initialized correctly. ';"credential"in this.app_.options?t+='Make sure the "credential" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':"serviceAccount"in this.app_.options?t+='Make sure the "serviceAccount" property provided to initializeApp() is authorized to access the specified "databaseURL" and is from the correct project.':t+='Make sure the "apiKey" and "databaseURL" properties provided to initializeApp() match the values provided for your app at https://console.firebase.google.com/.',S(t)},t}(),nn=function(){function t(){this.counters_={}}return t.prototype.incrementCounter=function(t,e){void 0===e&&(e=1),o.contains(this.counters_,t)||(this.counters_[t]=0),this.counters_[t]+=e},t.prototype.get=function(){return o.deepCopy(this.counters_)},t}(),rn=function(){function t(){}return t.getCollection=function(t){var e=t.toString();return this.collections_[e]||(this.collections_[e]=new nn),this.collections_[e]},t.getOrCreateReporter=function(t,e){var n=t.toString();return this.reporters_[n]||(this.reporters_[n]=e()),this.reporters_[n]},t.collections_={},t.reporters_={},t}(),on=function(){function t(t){this.collection_=t,this.last_=null}return t.prototype.get=function(){var t=this.collection_.get(),e=o.clone(t);return this.last_&&o.forEach(this.last_,function(t,n){e[t]=e[t]-n}),this.last_=t,e},t}(),an=1e4,sn=3e4,un=3e5,cn=function(){function t(t,e){this.server_=e,this.statsToReport_={},this.statsListener_=new on(t);var n=an+(sn-an)*Math.random();W(this.reportStats_.bind(this),Math.floor(n))}return t.prototype.includeStat=function(t){this.statsToReport_[t]=!0},t.prototype.reportStats_=function(){var t=this,e=this.statsListener_.get(),n={},i=!1;o.forEach(e,function(e,r){r>0&&o.contains(t.statsToReport_,e)&&(n[e]=r,i=!0)}),i&&this.server_.reportStats(n),W(this.reportStats_.bind(this),Math.floor(2*Math.random()*un))},t}(),ln=function(){function t(){this.eventLists_=[],this.recursionDepth_=0}return t.prototype.queueEvents=function(t){for(var e=null,n=0;n<t.length;n++){var i=t[n],r=i.getPath();null===e||r.equals(e.getPath())||(this.eventLists_.push(e),e=null),null===e&&(e=new hn(r)),e.add(i)}e&&this.eventLists_.push(e)},t.prototype.raiseEventsAtPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.equals(t)})},t.prototype.raiseEventsForChangedPath=function(t,e){this.queueEvents(e),this.raiseQueuedEventsMatchingPredicate_(function(e){return e.contains(t)||t.contains(e)})},t.prototype.raiseQueuedEventsMatchingPredicate_=function(t){this.recursionDepth_++;for(var e=!0,n=0;n<this.eventLists_.length;n++){var i=this.eventLists_[n];if(i){var r=i.getPath();t(r)?(this.eventLists_[n].raise(),this.eventLists_[n]=null):e=!1}}e&&(this.eventLists_=[]),this.recursionDepth_--},t}(),hn=function(){function t(t){this.path_=t,this.events_=[]}return t.prototype.add=function(t){this.events_.push(t)},t.prototype.raise=function(){for(var t=0;t<this.events_.length;t++){var e=this.events_[t];if(null!==e){this.events_[t]=null;var n=e.getEventRunner();_&&w("event: "+e.toString()),V(n)}}},t.prototype.getPath=function(){return this.path_},t}(),fn=function(){function t(t){this.allowedEvents_=t,this.listeners_={},o.assert(Array.isArray(t)&&t.length>0,"Requires a non-empty array")}return t.prototype.trigger=function(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(Array.isArray(this.listeners_[t]))for(var i=this.listeners_[t].slice(),r=0;r<i.length;r++)i[r].callback.apply(i[r].context,e)},t.prototype.on=function(t,e,n){this.validateEventType_(t),this.listeners_[t]=this.listeners_[t]||[],this.listeners_[t].push({callback:e,context:n});var i=this.getInitialEvent(t);i&&e.apply(n,i)},t.prototype.off=function(t,e,n){this.validateEventType_(t);for(var i=this.listeners_[t]||[],r=0;r<i.length;r++)if(i[r].callback===e&&(!n||n===i[r].context))return void i.splice(r,1)},t.prototype.validateEventType_=function(t){o.assert(this.allowedEvents_.find(function(e){return e===t}),"Unknown event: "+t)},t}(),dn=function(t){function e(){var e,n,i=t.call(this,["visible"])||this;return"undefined"!==typeof document&&"undefined"!==typeof document.addEventListener&&("undefined"!==typeof document["hidden"]?(n="visibilitychange",e="hidden"):"undefined"!==typeof document["mozHidden"]?(n="mozvisibilitychange",e="mozHidden"):"undefined"!==typeof document["msHidden"]?(n="msvisibilitychange",e="msHidden"):"undefined"!==typeof document["webkitHidden"]&&(n="webkitvisibilitychange",e="webkitHidden")),i.visible_=!0,n&&document.addEventListener(n,function(){var t=!document[e];t!==i.visible_&&(i.visible_=t,i.trigger("visible",t))},!1),i}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("visible"===t,"Unknown event type: "+t),[this.visible_]},e}(fn),pn=function(t){function e(){var e=t.call(this,["online"])||this;return e.online_=!0,"undefined"===typeof window||"undefined"===typeof window.addEventListener||o.isMobileCordova()||(window.addEventListener("online",function(){e.online_||(e.online_=!0,e.trigger("online",!0))},!1),window.addEventListener("offline",function(){e.online_&&(e.online_=!1,e.trigger("online",!1))},!1)),e}return s.__extends(e,t),e.getInstance=function(){return new e},e.prototype.getInitialEvent=function(t){return o.assert("online"===t,"Unknown event type: "+t),[this.online_]},e.prototype.currentlyOnline=function(){return this.online_},e}(fn),vn=function(){function t(t){this.onMessage_=t,this.pendingResponses=[],this.currentResponseNum=0,this.closeAfterResponse=-1,this.onClose=null}return t.prototype.closeAfter=function(t,e){this.closeAfterResponse=t,this.onClose=e,this.closeAfterResponse<this.currentResponseNum&&(this.onClose(),this.onClose=null)},t.prototype.handleResponse=function(t,e){var n=this;this.pendingResponses[t]=e;var i=function(){var t=r.pendingResponses[r.currentResponseNum];delete r.pendingResponses[r.currentResponseNum];for(var e=function(e){t[e]&&V(function(){n.onMessage_(t[e])})},i=0;i<t.length;++i)e(i);if(r.currentResponseNum===r.closeAfterResponse)return r.onClose&&(r.onClose(),r.onClose=null),"break";r.currentResponseNum++},r=this;while(this.pendingResponses[this.currentResponseNum]){var o=i();if("break"===o)break}},t}(),mn="start",gn="close",_n="pLPCommand",yn="pRTLPCB",bn="id",wn="pw",kn="ser",En="cb",Cn="seg",Sn="ts",An="d",Tn="disconn",On="dframe",xn=1870,Pn=30,In=xn-Pn,Nn=25e3,Ln=3e4,Dn=function(){function t(t,e,n,i){this.connId=t,this.repoInfo=e,this.transportSessionId=n,this.lastSessionId=i,this.bytesSent=0,this.bytesReceived=0,this.everConnected_=!1,this.log_=k(t),this.stats_=rn.getCollection(e),this.urlFn=function(t){return e.connectionURL(nt,t)}}return t.prototype.open=function(t,e){var n=this;this.curSegmentNum=0,this.onDisconnect_=e,this.myPacketOrderer=new vn(t),this.isClosed_=!1,this.connectTimeoutTimer_=setTimeout(function(){n.log_("Timed out trying to connect."),n.onClosed_(),n.connectTimeoutTimer_=null},Math.floor(Ln)),O(function(){if(!n.isClosed_){n.scriptTagHolder=new Rn(function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1],o=t[2];if(n.incrementIncomingBytes_(t),n.scriptTagHolder)if(n.connectTimeoutTimer_&&(clearTimeout(n.connectTimeoutTimer_),n.connectTimeoutTimer_=null),n.everConnected_=!0,i==mn)n.id=r,n.password=o;else{if(i!==gn)throw new Error("Unrecognized command received: "+i);r?(n.scriptTagHolder.sendNewPolls=!1,n.myPacketOrderer.closeAfter(r,function(){n.onClosed_()})):n.onClosed_()}},function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var i=t[0],r=t[1];n.incrementIncomingBytes_(t),n.myPacketOrderer.handleResponse(i,r)},function(){n.onClosed_()},n.urlFn);var t={};t[mn]="t",t[kn]=Math.floor(1e8*Math.random()),n.scriptTagHolder.uniqueCallbackIdentifier&&(t[En]=n.scriptTagHolder.uniqueCallbackIdentifier),t[Q]=K,n.transportSessionId&&(t[X]=n.transportSessionId),n.lastSessionId&&(t[tt]=n.lastSessionId),!o.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(t[Y]=J);var e=n.urlFn(t);n.log_("Connecting via long-poll to "+e),n.scriptTagHolder.addTag(e,function(){})}})},t.prototype.start=function(){this.scriptTagHolder.startLongPoll(this.id,this.password),this.addDisconnectPingFrame(this.id,this.password)},t.forceAllow=function(){t.forceAllow_=!0},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){return t.forceAllow_||!t.forceDisallow_&&"undefined"!==typeof document&&null!=document.createElement&&!F()&&!B()&&!o.isNodeSdk()},t.prototype.markConnectionHealthy=function(){},t.prototype.shutdown_=function(){this.isClosed_=!0,this.scriptTagHolder&&(this.scriptTagHolder.close(),this.scriptTagHolder=null),this.myDisconnFrame&&(document.body.removeChild(this.myDisconnFrame),this.myDisconnFrame=null),this.connectTimeoutTimer_&&(clearTimeout(this.connectTimeoutTimer_),this.connectTimeoutTimer_=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("Longpoll is closing itself"),this.shutdown_(),this.onDisconnect_&&(this.onDisconnect_(this.everConnected_),this.onDisconnect_=null))},t.prototype.close=function(){this.isClosed_||(this.log_("Longpoll is being closed."),this.shutdown_())},t.prototype.send=function(t){var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);for(var n=o.base64Encode(e),i=R(n,In),r=0;r<i.length;r++)this.scriptTagHolder.enqueueSegment(this.curSegmentNum,i.length,i[r]),this.curSegmentNum++},t.prototype.addDisconnectPingFrame=function(t,e){if(!o.isNodeSdk()){this.myDisconnFrame=document.createElement("iframe");var n={};n[On]="t",n[bn]=t,n[wn]=e,this.myDisconnFrame.src=this.urlFn(n),this.myDisconnFrame.style.display="none",document.body.appendChild(this.myDisconnFrame)}},t.prototype.incrementIncomingBytes_=function(t){var e=o.stringify(t).length;this.bytesReceived+=e,this.stats_.incrementCounter("bytes_received",e)},t}(),Rn=function(){function t(e,n,i,r){if(this.onDisconnect=i,this.urlFn=r,this.outstandingRequests=new ke,this.pendingSegs=[],this.currentSerial=Math.floor(1e8*Math.random()),this.sendNewPolls=!0,o.isNodeSdk())this.commandCB=e,this.onMessageCB=n;else{this.uniqueCallbackIdentifier=v(),window[_n+this.uniqueCallbackIdentifier]=e,window[yn+this.uniqueCallbackIdentifier]=n,this.myIFrame=t.createIFrame_();var a="";if(this.myIFrame.src&&"javascript:"===this.myIFrame.src.substr(0,"javascript:".length)){var s=document.domain;a='<script>document.domain="'+s+'";<\/script>'}var u="<html><body>"+a+"</body></html>";try{this.myIFrame.doc.open(),this.myIFrame.doc.write(u),this.myIFrame.doc.close()}catch(c){w("frame writing exception"),c.stack&&w(c.stack),w(c)}}}return t.createIFrame_=function(){var t=document.createElement("iframe");if(t.style.display="none",!document.body)throw"Document body has not initialized. Wait to initialize Firebase until after the document is ready.";document.body.appendChild(t);try{var e=t.contentWindow.document;e||w("No IE domain setting required")}catch(i){var n=document.domain;t.src="javascript:void((function(){document.open();document.domain='"+n+"';document.close();})())"}return t.contentDocument?t.doc=t.contentDocument:t.contentWindow?t.doc=t.contentWindow.document:t.document&&(t.doc=t.document),t},t.prototype.close=function(){var e=this;if(this.alive=!1,this.myIFrame&&(this.myIFrame.doc.body.innerHTML="",setTimeout(function(){null!==e.myIFrame&&(document.body.removeChild(e.myIFrame),e.myIFrame=null)},Math.floor(0))),o.isNodeSdk()&&this.myID){var n={};n[Tn]="t",n[bn]=this.myID,n[wn]=this.myPW;var i=this.urlFn(n);t.nodeRestRequest(i)}var r=this.onDisconnect;r&&(this.onDisconnect=null,r())},t.prototype.startLongPoll=function(t,e){this.myID=t,this.myPW=e,this.alive=!0;while(this.newRequest_());},t.prototype.newRequest_=function(){if(this.alive&&this.sendNewPolls&&this.outstandingRequests.count()<(this.pendingSegs.length>0?2:1)){this.currentSerial++;var t={};t[bn]=this.myID,t[wn]=this.myPW,t[kn]=this.currentSerial;var e=this.urlFn(t),n="",i=0;while(this.pendingSegs.length>0){var r=this.pendingSegs[0];if(!(r.d.length+Pn+n.length<=xn))break;var o=this.pendingSegs.shift();n=n+"&"+Cn+i+"="+o.seg+"&"+Sn+i+"="+o.ts+"&"+An+i+"="+o.d,i++}return e+=n,this.addLongPollTag_(e,this.currentSerial),!0}return!1},t.prototype.enqueueSegment=function(t,e,n){this.pendingSegs.push({seg:t,ts:e,d:n}),this.alive&&this.newRequest_()},t.prototype.addLongPollTag_=function(t,e){var n=this;this.outstandingRequests.add(e,1);var i=function(){n.outstandingRequests.remove(e),n.newRequest_()},r=setTimeout(i,Math.floor(Nn)),o=function(){clearTimeout(r),i()};this.addTag(t,o)},t.prototype.addTag=function(t,e){var n=this;o.isNodeSdk()?this.doNodeLongPoll(t,e):setTimeout(function(){try{if(!n.sendNewPolls)return;var i=n.myIFrame.doc.createElement("script");i.type="text/javascript",i.async=!0,i.src=t,i.onload=i.onreadystatechange=function(){var t=i.readyState;t&&"loaded"!==t&&"complete"!==t||(i.onload=i.onreadystatechange=null,i.parentNode&&i.parentNode.removeChild(i),e())},i.onerror=function(){w("Long-poll script failed to load: "+t),n.sendNewPolls=!1,n.close()},n.myIFrame.doc.body.appendChild(i)}catch(r){}},Math.floor(1))},t}(),Mn=16384,jn=45e3,Fn=null;"undefined"!==typeof MozWebSocket?Fn=MozWebSocket:"undefined"!==typeof WebSocket&&(Fn=WebSocket);var Bn=function(){function t(e,n,i,r){this.connId=e,this.keepaliveTimer=null,this.frames=null,this.totalFrames=0,this.bytesSent=0,this.bytesReceived=0,this.log_=k(this.connId),this.stats_=rn.getCollection(n),this.connURL=t.connectionURL_(n,i,r)}return t.connectionURL_=function(t,e,n){var i={};return i[Q]=K,!o.isNodeSdk()&&"undefined"!==typeof location&&location.href&&-1!==location.href.indexOf(Z)&&(i[Y]=J),e&&(i[X]=e),n&&(i[tt]=n),t.connectionURL(et,i)},t.prototype.open=function(t,e){var n=this;this.onDisconnect=e,this.onMessage=t,this.log_("Websocket connecting to "+this.connURL),this.everConnected_=!1,f.set("previous_websocket_failure",!0);try{if(o.isNodeSdk()){var r=o.CONSTANTS.NODE_ADMIN?"AdminNode":"Node",a={headers:{"User-Agent":"Firebase/"+K+"/"+u.SDK_VERSION+"/"+i.platform+"/"+r}},s=Object({NODE_ENV:"production",VUE_APP_I18N_FALLBACK_LOCALE:"en",VUE_APP_I18N_LOCALE:"en",BASE_URL:"",CORDOVA_PLATFORM:"android"}),c=0==this.connURL.indexOf("wss://")?s["HTTPS_PROXY"]||s["https_proxy"]:s["HTTP_PROXY"]||s["http_proxy"];c&&(a["proxy"]={origin:c}),this.mySock=new Fn(this.connURL,[],a)}else this.mySock=new Fn(this.connURL)}catch(h){this.log_("Error instantiating WebSocket.");var l=h.message||h.data;return l&&this.log_(l),void this.onClosed_()}this.mySock.onopen=function(){n.log_("Websocket connected."),n.everConnected_=!0},this.mySock.onclose=function(){n.log_("Websocket connection was disconnected."),n.mySock=null,n.onClosed_()},this.mySock.onmessage=function(t){n.handleIncomingFrame(t)},this.mySock.onerror=function(t){n.log_("WebSocket error.  Closing connection.");var e=t.message||t.data;e&&n.log_(e),n.onClosed_()}},t.prototype.start=function(){},t.forceDisallow=function(){t.forceDisallow_=!0},t.isAvailable=function(){var e=!1;if("undefined"!==typeof navigator&&navigator.userAgent){var n=/Android ([0-9]{0,}\.[0-9]{0,})/,i=navigator.userAgent.match(n);i&&i.length>1&&parseFloat(i[1])<4.4&&(e=!0)}return!e&&null!==Fn&&!t.forceDisallow_},t.previouslyFailed=function(){return f.isInMemoryStorage||!0===f.get("previous_websocket_failure")},t.prototype.markConnectionHealthy=function(){f.remove("previous_websocket_failure")},t.prototype.appendFrame_=function(t){if(this.frames.push(t),this.frames.length==this.totalFrames){var e=this.frames.join("");this.frames=null;var n=o.jsonEval(e);this.onMessage(n)}},t.prototype.handleNewFrameCount_=function(t){this.totalFrames=t,this.frames=[]},t.prototype.extractFrameCount_=function(t){if(o.assert(null===this.frames,"We already have a frame buffer"),t.length<=6){var e=Number(t);if(!isNaN(e))return this.handleNewFrameCount_(e),null}return this.handleNewFrameCount_(1),t},t.prototype.handleIncomingFrame=function(t){if(null!==this.mySock){var e=t["data"];if(this.bytesReceived+=e.length,this.stats_.incrementCounter("bytes_received",e.length),this.resetKeepAlive(),null!==this.frames)this.appendFrame_(e);else{var n=this.extractFrameCount_(e);null!==n&&this.appendFrame_(n)}}},t.prototype.send=function(t){this.resetKeepAlive();var e=o.stringify(t);this.bytesSent+=e.length,this.stats_.incrementCounter("bytes_sent",e.length);var n=R(e,Mn);n.length>1&&this.sendString_(String(n.length));for(var i=0;i<n.length;i++)this.sendString_(n[i])},t.prototype.shutdown_=function(){this.isClosed_=!0,this.keepaliveTimer&&(clearInterval(this.keepaliveTimer),this.keepaliveTimer=null),this.mySock&&(this.mySock.close(),this.mySock=null)},t.prototype.onClosed_=function(){this.isClosed_||(this.log_("WebSocket is closing itself"),this.shutdown_(),this.onDisconnect&&(this.onDisconnect(this.everConnected_),this.onDisconnect=null))},t.prototype.close=function(){this.isClosed_||(this.log_("WebSocket is being closed"),this.shutdown_())},t.prototype.resetKeepAlive=function(){var t=this;clearInterval(this.keepaliveTimer),this.keepaliveTimer=setInterval(function(){t.mySock&&t.sendString_("0"),t.resetKeepAlive()},Math.floor(jn))},t.prototype.sendString_=function(t){try{this.mySock.send(t)}catch(e){this.log_("Exception thrown from WebSocket.send():",e.message||e.data,"Closing connection."),setTimeout(this.onClosed_.bind(this),0)}},t.responsesRequiredToBeHealthy=2,t.healthyTimeout=3e4,t}(),qn=function(){function t(t){this.initTransports_(t)}return Object.defineProperty(t,"ALL_TRANSPORTS",{get:function(){return[Dn,Bn]},enumerable:!0,configurable:!0}),t.prototype.initTransports_=function(e){var n=Bn&&Bn["isAvailable"](),i=n&&!Bn.previouslyFailed();if(e.webSocketOnly&&(n||S("wss:// URL used, but browser isn't known to support websockets.  Trying anyway."),i=!0),i)this.transports_=[Bn];else{var r=this.transports_=[];M(t.ALL_TRANSPORTS,function(t,e){e&&e["isAvailable"]()&&r.push(e)})}},t.prototype.initialTransport=function(){if(this.transports_.length>0)return this.transports_[0];throw new Error("No transports available")},t.prototype.upgradeTransport=function(){return this.transports_.length>1?this.transports_[1]:null},t}(),Un=6e4,$n=5e3,Vn=10240,Hn=102400,Wn="t",zn="d",Gn="s",Kn="r",Qn="e",Xn="o",Yn="a",Jn="n",Zn="p",ti="h",ei=function(){function t(t,e,n,i,r,o,a){this.id=t,this.repoInfo_=e,this.onMessage_=n,this.onReady_=i,this.onDisconnect_=r,this.onKill_=o,this.lastSessionId=a,this.connectionCount=0,this.pendingDataMessages=[],this.state_=0,this.log_=k("c:"+this.id+":"),this.transportManager_=new qn(e),this.log_("Connection created"),this.start_()}return t.prototype.start_=function(){var t=this,e=this.transportManager_.initialTransport();this.conn_=new e(this.nextTransportId_(),this.repoInfo_,void 0,this.lastSessionId),this.primaryResponsesRequired_=e["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.conn_),i=this.disconnReceiver_(this.conn_);this.tx_=this.conn_,this.rx_=this.conn_,this.secondaryConn_=null,this.isHealthy_=!1,setTimeout(function(){t.conn_&&t.conn_.open(n,i)},Math.floor(0));var r=e["healthyTimeout"]||0;r>0&&(this.healthyTimeout_=W(function(){t.healthyTimeout_=null,t.isHealthy_||(t.conn_&&t.conn_.bytesReceived>Hn?(t.log_("Connection exceeded healthy timeout but has received "+t.conn_.bytesReceived+" bytes.  Marking connection healthy."),t.isHealthy_=!0,t.conn_.markConnectionHealthy()):t.conn_&&t.conn_.bytesSent>Vn?t.log_("Connection exceeded healthy timeout but has sent "+t.conn_.bytesSent+" bytes.  Leaving connection alive."):(t.log_("Closing unhealthy connection after timeout."),t.close()))},Math.floor(r)))},t.prototype.nextTransportId_=function(){return"c:"+this.id+":"+this.connectionCount++},t.prototype.disconnReceiver_=function(t){var e=this;return function(n){t===e.conn_?e.onConnectionLost_(n):t===e.secondaryConn_?(e.log_("Secondary connection lost."),e.onSecondaryConnectionLost_()):e.log_("closing an old connection")}},t.prototype.connReceiver_=function(t){var e=this;return function(n){2!=e.state_&&(t===e.rx_?e.onPrimaryMessageReceived_(n):t===e.secondaryConn_?e.onSecondaryMessageReceived_(n):e.log_("message on old connection"))}},t.prototype.sendRequest=function(t){var e={t:"d",d:t};this.sendData_(e)},t.prototype.tryCleanupConnection=function(){this.tx_===this.secondaryConn_&&this.rx_===this.secondaryConn_&&(this.log_("cleaning up and promoting a connection: "+this.secondaryConn_.connId),this.conn_=this.secondaryConn_,this.secondaryConn_=null)},t.prototype.onSecondaryControl_=function(t){if(Wn in t){var e=t[Wn];e===Yn?this.upgradeIfSecondaryHealthy_():e===Kn?(this.log_("Got a reset on secondary, closing it"),this.secondaryConn_.close(),this.tx_!==this.secondaryConn_&&this.rx_!==this.secondaryConn_||this.close()):e===Xn&&(this.log_("got pong on secondary."),this.secondaryResponsesRequired_--,this.upgradeIfSecondaryHealthy_())}},t.prototype.onSecondaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);if("c"==e)this.onSecondaryControl_(n);else{if("d"!=e)throw new Error("Unknown protocol layer: "+e);this.pendingDataMessages.push(n)}},t.prototype.upgradeIfSecondaryHealthy_=function(){this.secondaryResponsesRequired_<=0?(this.log_("Secondary connection is healthy."),this.isHealthy_=!0,this.secondaryConn_.markConnectionHealthy(),this.proceedWithUpgrade_()):(this.log_("sending ping on secondary."),this.secondaryConn_.send({t:"c",d:{t:Zn,d:{}}}))},t.prototype.proceedWithUpgrade_=function(){this.secondaryConn_.start(),this.log_("sending client ack on secondary"),this.secondaryConn_.send({t:"c",d:{t:Yn,d:{}}}),this.log_("Ending transmission on primary"),this.conn_.send({t:"c",d:{t:Jn,d:{}}}),this.tx_=this.secondaryConn_,this.tryCleanupConnection()},t.prototype.onPrimaryMessageReceived_=function(t){var e=L("t",t),n=L("d",t);"c"==e?this.onControl_(n):"d"==e&&this.onDataMessage_(n)},t.prototype.onDataMessage_=function(t){this.onPrimaryResponse_(),this.onMessage_(t)},t.prototype.onPrimaryResponse_=function(){this.isHealthy_||(this.primaryResponsesRequired_--,this.primaryResponsesRequired_<=0&&(this.log_("Primary connection is healthy."),this.isHealthy_=!0,this.conn_.markConnectionHealthy()))},t.prototype.onControl_=function(t){var e=L(Wn,t);if(zn in t){var n=t[zn];if(e===ti)this.onHandshake_(n);else if(e===Jn){this.log_("recvd end transmission on primary"),this.rx_=this.secondaryConn_;for(var i=0;i<this.pendingDataMessages.length;++i)this.onDataMessage_(this.pendingDataMessages[i]);this.pendingDataMessages=[],this.tryCleanupConnection()}else e===Gn?this.onConnectionShutdown_(n):e===Kn?this.onReset_(n):e===Qn?E("Server Error: "+n):e===Xn?(this.log_("got pong on primary."),this.onPrimaryResponse_(),this.sendPingOnPrimaryIfNecessary_()):E("Unknown control packet command: "+e)}},t.prototype.onHandshake_=function(t){var e=t.ts,n=t.v,i=t.h;this.sessionId=t.s,this.repoInfo_.updateHost(i),0==this.state_&&(this.conn_.start(),this.onConnectionEstablished_(this.conn_,e),K!==n&&S("Protocol version mismatch detected"),this.tryStartUpgrade_())},t.prototype.tryStartUpgrade_=function(){var t=this.transportManager_.upgradeTransport();t&&this.startUpgrade_(t)},t.prototype.startUpgrade_=function(t){var e=this;this.secondaryConn_=new t(this.nextTransportId_(),this.repoInfo_,this.sessionId),this.secondaryResponsesRequired_=t["responsesRequiredToBeHealthy"]||0;var n=this.connReceiver_(this.secondaryConn_),i=this.disconnReceiver_(this.secondaryConn_);this.secondaryConn_.open(n,i),W(function(){e.secondaryConn_&&(e.log_("Timed out trying to upgrade."),e.secondaryConn_.close())},Math.floor(Un))},t.prototype.onReset_=function(t){this.log_("Reset packet received.  New host: "+t),this.repoInfo_.updateHost(t),1===this.state_?this.close():(this.closeConnections_(),this.start_())},t.prototype.onConnectionEstablished_=function(t,e){var n=this;this.log_("Realtime connection established."),this.conn_=t,this.state_=1,this.onReady_&&(this.onReady_(e,this.sessionId),this.onReady_=null),0===this.primaryResponsesRequired_?(this.log_("Primary connection is healthy."),this.isHealthy_=!0):W(function(){n.sendPingOnPrimaryIfNecessary_()},Math.floor($n))},t.prototype.sendPingOnPrimaryIfNecessary_=function(){this.isHealthy_||1!==this.state_||(this.log_("sending ping on primary."),this.sendData_({t:"c",d:{t:Zn,d:{}}}))},t.prototype.onSecondaryConnectionLost_=function(){var t=this.secondaryConn_;this.secondaryConn_=null,this.tx_!==t&&this.rx_!==t||this.close()},t.prototype.onConnectionLost_=function(t){this.conn_=null,t||0!==this.state_?1===this.state_&&this.log_("Realtime connection lost."):(this.log_("Realtime connection failed."),this.repoInfo_.isCacheableHost()&&(f.remove("host:"+this.repoInfo_.host),this.repoInfo_.internalHost=this.repoInfo_.host)),this.close()},t.prototype.onConnectionShutdown_=function(t){this.log_("Connection shutdown command received. Shutting down..."),this.onKill_&&(this.onKill_(t),this.onKill_=null),this.onDisconnect_=null,this.close()},t.prototype.sendData_=function(t){if(1!==this.state_)throw"Connection is not connected";this.tx_.send(t)},t.prototype.close=function(){2!==this.state_&&(this.log_("Closing realtime connection."),this.state_=2,this.closeConnections_(),this.onDisconnect_&&(this.onDisconnect_(),this.onDisconnect_=null))},t.prototype.closeConnections_=function(){this.log_("Shutting down all connections"),this.conn_&&(this.conn_.close(),this.conn_=null),this.secondaryConn_&&(this.secondaryConn_.close(),this.secondaryConn_=null),this.healthyTimeout_&&(clearTimeout(this.healthyTimeout_),this.healthyTimeout_=null)},t}(),ni=function(){function t(){}return t.prototype.put=function(t,e,n,i){},t.prototype.merge=function(t,e,n,i){},t.prototype.refreshAuthToken=function(t){},t.prototype.onDisconnectPut=function(t,e,n){},t.prototype.onDisconnectMerge=function(t,e,n){},t.prototype.onDisconnectCancel=function(t,e){},t.prototype.reportStats=function(t){},t}(),ii=1e3,ri=3e5,oi=3e4,ai=1.3,si=3e4,ui="server_kill",ci=3,li=function(t){function e(n,i,r,a,s,u){var c=t.call(this)||this;if(c.repoInfo_=n,c.onDataUpdate_=i,c.onConnectStatus_=r,c.onServerInfoUpdate_=a,c.authTokenProvider_=s,c.authOverride_=u,c.id=e.nextPersistentConnectionId_++,c.log_=k("p:"+c.id+":"),c.interruptReasons_={},c.listens_={},c.outstandingPuts_=[],c.outstandingPutCount_=0,c.onDisconnectRequestQueue_=[],c.connected_=!1,c.reconnectDelay_=ii,c.maxReconnectDelay_=ri,c.securityDebugCallback_=null,c.lastSessionId=null,c.establishConnectionTimer_=null,c.visible_=!1,c.requestCBHash_={},c.requestNumber_=0,c.realtime_=null,c.authToken_=null,c.forceTokenRefresh_=!1,c.invalidAuthTokenCount_=0,c.firstConnection_=!0,c.lastConnectionAttemptTime_=null,c.lastConnectionEstablishedTime_=null,u&&!o.isNodeSdk())throw new Error("Auth override specified in options, but not supported on non Node.js platforms");return c.scheduleConnect_(0),dn.getInstance().on("visible",c.onVisible_,c),-1===n.host.indexOf("fblocal")&&pn.getInstance().on("online",c.onOnline_,c),c}return s.__extends(e,t),e.prototype.sendRequest=function(t,e,n){var i=++this.requestNumber_,r={r:i,a:t,b:e};this.log_(o.stringify(r)),o.assert(this.connected_,"sendRequest call when we're not connected not allowed."),this.realtime_.sendRequest(r),n&&(this.requestCBHash_[i]=n)},e.prototype.listen=function(t,e,n,i){var r=t.queryIdentifier(),a=t.path.toString();this.log_("Listen called for "+a+" "+r),this.listens_[a]=this.listens_[a]||{},o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"listen() called for non-default but complete query"),o.assert(!this.listens_[a][r],"listen() called twice for same path/queryId.");var s={onComplete:i,hashFn:e,query:t,tag:n};this.listens_[a][r]=s,this.connected_&&this.sendListen_(s)},e.prototype.sendListen_=function(t){var n=this,i=t.query,r=i.path.toString(),o=i.queryIdentifier();this.log_("Listen on "+r+" for "+o);var a={p:r},s="q";t.tag&&(a["q"]=i.queryObject(),a["t"]=t.tag),a["h"]=t.hashFn(),this.sendRequest(s,a,function(a){var s=a["d"],u=a["s"];e.warnOnListenWarnings_(s,i);var c=n.listens_[r]&&n.listens_[r][o];c===t&&(n.log_("listen response",a),"ok"!==u&&n.removeListen_(r,o),t.onComplete&&t.onComplete(u,s))})},e.warnOnListenWarnings_=function(t,e){if(t&&"object"===typeof t&&o.contains(t,"w")){var n=o.safeGet(t,"w");if(Array.isArray(n)&&~n.indexOf("no_index")){var i='".indexOn": "'+e.getQueryParams().getIndex().toString()+'"',r=e.path.toString();S("Using an unspecified index. Your data will be downloaded and filtered on the client. Consider adding "+i+" at "+r+" to your security rules for better performance.")}}},e.prototype.refreshAuthToken=function(t){this.authToken_=t,this.log_("Auth token refreshed"),this.authToken_?this.tryAuth():this.connected_&&this.sendRequest("unauth",{},function(){}),this.reduceReconnectDelayIfAdminCredential_(t)},e.prototype.reduceReconnectDelayIfAdminCredential_=function(t){var e=t&&40===t.length;(e||o.isAdmin(t))&&(this.log_("Admin auth credential detected.  Reducing max reconnect time."),this.maxReconnectDelay_=oi)},e.prototype.tryAuth=function(){var t=this;if(this.connected_&&this.authToken_){var e=this.authToken_,n=o.isValidFormat(e)?"auth":"gauth",i={cred:e};null===this.authOverride_?i["noauth"]=!0:"object"===typeof this.authOverride_&&(i["authvar"]=this.authOverride_),this.sendRequest(n,i,function(n){var i=n["s"],r=n["d"]||"error";t.authToken_===e&&("ok"===i?t.invalidAuthTokenCount_=0:t.onAuthRevoked_(i,r))})}},e.prototype.unlisten=function(t,e){var n=t.path.toString(),i=t.queryIdentifier();this.log_("Unlisten called for "+n+" "+i),o.assert(t.getQueryParams().isDefault()||!t.getQueryParams().loadsAllData(),"unlisten() called for non-default but complete query");var r=this.removeListen_(n,i);r&&this.connected_&&this.sendUnlisten_(n,i,t.queryObject(),e)},e.prototype.sendUnlisten_=function(t,e,n,i){this.log_("Unlisten on "+t+" for "+e);var r={p:t},o="n";i&&(r["q"]=n,r["t"]=i),this.sendRequest(o,r)},e.prototype.onDisconnectPut=function(t,e,n){this.connected_?this.sendOnDisconnect_("o",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"o",data:e,onComplete:n})},e.prototype.onDisconnectMerge=function(t,e,n){this.connected_?this.sendOnDisconnect_("om",t,e,n):this.onDisconnectRequestQueue_.push({pathString:t,action:"om",data:e,onComplete:n})},e.prototype.onDisconnectCancel=function(t,e){this.connected_?this.sendOnDisconnect_("oc",t,null,e):this.onDisconnectRequestQueue_.push({pathString:t,action:"oc",data:null,onComplete:e})},e.prototype.sendOnDisconnect_=function(t,e,n,i){var r={p:e,d:n};this.log_("onDisconnect "+t,r),this.sendRequest(t,r,function(t){i&&setTimeout(function(){i(t["s"],t["d"])},Math.floor(0))})},e.prototype.put=function(t,e,n,i){this.putInternal("p",t,e,n,i)},e.prototype.merge=function(t,e,n,i){this.putInternal("m",t,e,n,i)},e.prototype.putInternal=function(t,e,n,i,r){var o={p:e,d:n};void 0!==r&&(o["h"]=r),this.outstandingPuts_.push({action:t,request:o,onComplete:i}),this.outstandingPutCount_++;var a=this.outstandingPuts_.length-1;this.connected_?this.sendPut_(a):this.log_("Buffering put: "+e)},e.prototype.sendPut_=function(t){var e=this,n=this.outstandingPuts_[t].action,i=this.outstandingPuts_[t].request,r=this.outstandingPuts_[t].onComplete;this.outstandingPuts_[t].queued=this.connected_,this.sendRequest(n,i,function(i){e.log_(n+" response",i),delete e.outstandingPuts_[t],e.outstandingPutCount_--,0===e.outstandingPutCount_&&(e.outstandingPuts_=[]),r&&r(i["s"],i["d"])})},e.prototype.reportStats=function(t){var e=this;if(this.connected_){var n={c:t};this.log_("reportStats",n),this.sendRequest("s",n,function(t){var n=t["s"];if("ok"!==n){var i=t["d"];e.log_("reportStats","Error sending stats: "+i)}})}},e.prototype.onDataMessage_=function(t){if("r"in t){this.log_("from server: "+o.stringify(t));var e=t["r"],n=this.requestCBHash_[e];n&&(delete this.requestCBHash_[e],n(t["b"]))}else{if("error"in t)throw"A server-side error has occurred: "+t["error"];"a"in t&&this.onDataPush_(t["a"],t["b"])}},e.prototype.onDataPush_=function(t,e){this.log_("handleServerMessage",t,e),"d"===t?this.onDataUpdate_(e["p"],e["d"],!1,e["t"]):"m"===t?this.onDataUpdate_(e["p"],e["d"],!0,e["t"]):"c"===t?this.onListenRevoked_(e["p"],e["q"]):"ac"===t?this.onAuthRevoked_(e["s"],e["d"]):"sd"===t?this.onSecurityDebugPacket_(e):E("Unrecognized action received from server: "+o.stringify(t)+"\nAre you using the latest client?")},e.prototype.onReady_=function(t,e){this.log_("connection ready"),this.connected_=!0,this.lastConnectionEstablishedTime_=(new Date).getTime(),this.handleTimestamp_(t),this.lastSessionId=e,this.firstConnection_&&this.sendConnectStats_(),this.restoreState_(),this.firstConnection_=!1,this.onConnectStatus_(!0)},e.prototype.scheduleConnect_=function(t){var e=this;o.assert(!this.realtime_,"Scheduling a connect when we're already connected/ing?"),this.establishConnectionTimer_&&clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=setTimeout(function(){e.establishConnectionTimer_=null,e.establishConnection_()},Math.floor(t))},e.prototype.onVisible_=function(t){t&&!this.visible_&&this.reconnectDelay_===this.maxReconnectDelay_&&(this.log_("Window became visible.  Reducing delay."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)),this.visible_=t},e.prototype.onOnline_=function(t){t?(this.log_("Browser went online."),this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0)):(this.log_("Browser went offline.  Killing connection."),this.realtime_&&this.realtime_.close())},e.prototype.onRealtimeDisconnect_=function(){if(this.log_("data client disconnected"),this.connected_=!1,this.realtime_=null,this.cancelSentTransactions_(),this.requestCBHash_={},this.shouldReconnect_()){if(this.visible_){if(this.lastConnectionEstablishedTime_){var t=(new Date).getTime()-this.lastConnectionEstablishedTime_;t>si&&(this.reconnectDelay_=ii),this.lastConnectionEstablishedTime_=null}}else this.log_("Window isn't visible.  Delaying reconnect."),this.reconnectDelay_=this.maxReconnectDelay_,this.lastConnectionAttemptTime_=(new Date).getTime();var e=(new Date).getTime()-this.lastConnectionAttemptTime_,n=Math.max(0,this.reconnectDelay_-e);n=Math.random()*n,this.log_("Trying to reconnect in "+n+"ms"),this.scheduleConnect_(n),this.reconnectDelay_=Math.min(this.maxReconnectDelay_,this.reconnectDelay_*ai)}this.onConnectStatus_(!1)},e.prototype.establishConnection_=function(){if(this.shouldReconnect_()){this.log_("Making a connection attempt"),this.lastConnectionAttemptTime_=(new Date).getTime(),this.lastConnectionEstablishedTime_=null;var t=this.onDataMessage_.bind(this),n=this.onReady_.bind(this),i=this.onRealtimeDisconnect_.bind(this),r=this.id+":"+e.nextConnectionId_++,a=this,s=this.lastSessionId,u=!1,c=null,l=function(){c?c.close():(u=!0,i())},h=function(t){o.assert(c,"sendRequest call when we're not connected not allowed."),c.sendRequest(t)};this.realtime_={close:l,sendRequest:h};var f=this.forceTokenRefresh_;this.forceTokenRefresh_=!1,this.authTokenProvider_.getToken(f).then(function(e){u?w("getToken() completed but was canceled"):(w("getToken() completed. Creating connection."),a.authToken_=e&&e.accessToken,c=new ei(r,a.repoInfo_,t,n,i,function(t){S(t+" ("+a.repoInfo_.toString()+")"),a.interrupt(ui)},s))}).then(null,function(t){a.log_("Failed to get token: "+t),u||(o.CONSTANTS.NODE_ADMIN&&S(t),l())})}},e.prototype.interrupt=function(t){w("Interrupting connection for reason: "+t),this.interruptReasons_[t]=!0,this.realtime_?this.realtime_.close():(this.establishConnectionTimer_&&(clearTimeout(this.establishConnectionTimer_),this.establishConnectionTimer_=null),this.connected_&&this.onRealtimeDisconnect_())},e.prototype.resume=function(t){w("Resuming connection for reason: "+t),delete this.interruptReasons_[t],o.isEmpty(this.interruptReasons_)&&(this.reconnectDelay_=ii,this.realtime_||this.scheduleConnect_(0))},e.prototype.handleTimestamp_=function(t){var e=t-(new Date).getTime();this.onServerInfoUpdate_({serverTimeOffset:e})},e.prototype.cancelSentTransactions_=function(){for(var t=0;t<this.outstandingPuts_.length;t++){var e=this.outstandingPuts_[t];e&&"h"in e.request&&e.queued&&(e.onComplete&&e.onComplete("disconnect"),delete this.outstandingPuts_[t],this.outstandingPutCount_--)}0===this.outstandingPutCount_&&(this.outstandingPuts_=[])},e.prototype.onListenRevoked_=function(t,e){var n;n=e?e.map(function(t){return D(t)}).join("$"):"default";var i=this.removeListen_(t,n);i&&i.onComplete&&i.onComplete("permission_denied")},e.prototype.removeListen_=function(t,e){var n,i=new z(t).toString();return void 0!==this.listens_[i]?(n=this.listens_[i][e],delete this.listens_[i][e],0===o.getCount(this.listens_[i])&&delete this.listens_[i]):n=void 0,n},e.prototype.onAuthRevoked_=function(t,e){w("Auth token revoked: "+t+"/"+e),this.authToken_=null,this.forceTokenRefresh_=!0,this.realtime_.close(),"invalid_token"!==t&&"permission_denied"!==t||(this.invalidAuthTokenCount_++,this.invalidAuthTokenCount_>=ci&&(this.reconnectDelay_=oi,this.authTokenProvider_.notifyForInvalidToken()))},e.prototype.onSecurityDebugPacket_=function(t){this.securityDebugCallback_?this.securityDebugCallback_(t):"msg"in t&&console.log("FIREBASE: "+t["msg"].replace("\n","\nFIREBASE: "))},e.prototype.restoreState_=function(){var t=this;this.tryAuth(),o.forEach(this.listens_,function(e,n){o.forEach(n,function(e,n){t.sendListen_(n)})});for(var e=0;e<this.outstandingPuts_.length;e++)this.outstandingPuts_[e]&&this.sendPut_(e);while(this.onDisconnectRequestQueue_.length){var n=this.onDisconnectRequestQueue_.shift();this.sendOnDisconnect_(n.action,n.pathString,n.data,n.onComplete)}},e.prototype.sendConnectStats_=function(){var t={},e="js";o.CONSTANTS.NODE_ADMIN?e="admin_node":o.CONSTANTS.NODE_CLIENT&&(e="node"),t["sdk."+e+"."+u.SDK_VERSION.replace(/\./g,"-")]=1,o.isMobileCordova()?t["framework.cordova"]=1:o.isReactNative()&&(t["framework.reactnative"]=1),this.reportStats(t)},e.prototype.shouldReconnect_=function(){var t=pn.getInstance().currentlyOnline();return o.isEmpty(this.interruptReasons_)&&t},e.nextPersistentConnectionId_=0,e.nextConnectionId_=0,e}(ni),hi=function(t){function e(e,n,i){var r=t.call(this)||this;return r.repoInfo_=e,r.onDataUpdate_=n,r.authTokenProvider_=i,r.log_=k("p:rest:"),r.listens_={},r}return s.__extends(e,t),e.prototype.reportStats=function(t){throw new Error("Method not implemented.")},e.getListenId_=function(t,e){return void 0!==e?"tag$"+e:(o.assert(t.getQueryParams().isDefault(),"should have a tag if it's not a default query."),t.path.toString())},e.prototype.listen=function(t,n,i,r){var a=this,s=t.path.toString();this.log_("Listen called for "+s+" "+t.queryIdentifier());var u=e.getListenId_(t,i),c={};this.listens_[u]=c;var l=t.getQueryParams().toRestQueryStringParameters();this.restRequest_(s+".json",l,function(t,e){var n,l=e;(404===t&&(l=null,t=null),null===t&&a.onDataUpdate_(s,l,!1,i),o.safeGet(a.listens_,u)===c)&&(n=t?401==t?"permission_denied":"rest_error:"+t:"ok",r(n,null))})},e.prototype.unlisten=function(t,n){var i=e.getListenId_(t,n);delete this.listens_[i]},e.prototype.refreshAuthToken=function(t){},e.prototype.restRequest_=function(t,e,n){var i=this;void 0===e&&(e={}),e["format"]="export",this.authTokenProvider_.getToken(!1).then(function(r){var a=r&&r.accessToken;a&&(e["auth"]=a);var s=(i.repoInfo_.secure?"https://":"http://")+i.repoInfo_.host+t+"?ns="+i.repoInfo_.namespace+o.querystring(e);i.log_("Sending REST request for "+s);var u=new XMLHttpRequest;u.onreadystatechange=function(){if(n&&4===u.readyState){i.log_("REST Response for "+s+" received. status:",u.status,"response:",u.responseText);var t=null;if(u.status>=200&&u.status<300){try{t=o.jsonEval(u.responseText)}catch(e){S("Failed to parse JSON response for "+s+": "+u.responseText)}n(null,t)}else 401!==u.status&&404!==u.status&&S("Got unsuccessful REST response for "+s+" Status: "+u.status),n(u.status);n=null}},u.open("GET",s,!0),u.send()})},e}(ni),fi="repo_interrupt",di=function(){function t(t,e,n){var i=this;this.repoInfo_=t,this.app=n,this.dataUpdateCount=0,this.statsListener_=null,this.eventQueue_=new ln,this.nextWriteId_=1,this.interceptServerDataCallback_=null,this.onDisconnect_=new Ee,this.persistentConnection_=null;var r=new en(n);if(this.stats_=rn.getCollection(t),e||H())this.server_=new hi(this.repoInfo_,this.onDataUpdate_.bind(this),r),setTimeout(this.onConnectStatus_.bind(this,!0),0);else{var a=n.options["databaseAuthVariableOverride"];if("undefined"!==typeof a&&null!==a){if("object"!==typeof a)throw new Error("Only objects are supported for option databaseAuthVariableOverride");try{o.stringify(a)}catch(s){throw new Error("Invalid authOverride provided: "+s)}}this.persistentConnection_=new li(this.repoInfo_,this.onDataUpdate_.bind(this),this.onConnectStatus_.bind(this),this.onServerInfoUpdate_.bind(this),r,a),this.server_=this.persistentConnection_}r.addTokenChangeListener(function(t){i.server_.refreshAuthToken(t)}),this.statsReporter_=rn.getOrCreateReporter(t,function(){return new cn(i.stats_,i.server_)}),this.transactions_init_(),this.infoData_=new tn,this.infoSyncTree_=new Ze({startListening:function(t,e,n,r){var o=[],a=i.infoData_.getNode(t.path);return a.isEmpty()||(o=i.infoSyncTree_.applyServerOverwrite(t.path,a),setTimeout(function(){r("ok")},0)),o},stopListening:function(){}}),this.updateInfo_("connected",!1),this.serverSyncTree_=new Ze({startListening:function(t,e,n,r){return i.server_.listen(t,n,e,function(e,n){var o=r(e,n);i.eventQueue_.raiseEventsForChangedPath(t.path,o)}),[]},stopListening:function(t,e){i.server_.unlisten(t,e)}})}return t.prototype.toString=function(){return(this.repoInfo_.secure?"https://":"http://")+this.repoInfo_.host},t.prototype.name=function(){return this.repoInfo_.namespace},t.prototype.serverTime=function(){var t=this.infoData_.getNode(new z(".info/serverTimeOffset")),e=t.val()||0;return(new Date).getTime()+e},t.prototype.generateServerValues=function(){return Ce({timestamp:this.serverTime()})},t.prototype.onDataUpdate_=function(t,e,n,i){this.dataUpdateCount++;var r=new z(t);e=this.interceptServerDataCallback_?this.interceptServerDataCallback_(t,e):e;var a=[];if(i)if(n){var s=o.map(e,function(t){return le(t)});a=this.serverSyncTree_.applyTaggedQueryMerge(r,s,i)}else{var u=le(e);a=this.serverSyncTree_.applyTaggedQueryOverwrite(r,u,i)}else if(n){var c=o.map(e,function(t){return le(t)});a=this.serverSyncTree_.applyServerMerge(r,c)}else{var l=le(e);a=this.serverSyncTree_.applyServerOverwrite(r,l)}var h=r;a.length>0&&(h=this.rerunTransactions_(r)),this.eventQueue_.raiseEventsForChangedPath(h,a)},t.prototype.interceptServerData_=function(t){this.interceptServerDataCallback_=t},t.prototype.onConnectStatus_=function(t){this.updateInfo_("connected",t),!1===t&&this.runOnDisconnectEvents_()},t.prototype.onServerInfoUpdate_=function(t){var e=this;M(t,function(t,n){e.updateInfo_(n,t)})},t.prototype.updateInfo_=function(t,e){var n=new z("/.info/"+t),i=le(e);this.infoData_.updateSnapshot(n,i);var r=this.infoSyncTree_.applyServerOverwrite(n,i);this.eventQueue_.raiseEventsForChangedPath(n,r)},t.prototype.getNextWriteId_=function(){return this.nextWriteId_++},t.prototype.setWithPriority=function(t,e,n,i){var r=this;this.log_("set",{path:t.toString(),value:e,priority:n});var o=this.generateServerValues(),a=le(e,n),s=Te(a,o),u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserOverwrite(t,s,u,!0);this.eventQueue_.queueEvents(c),this.server_.put(t.toString(),a.val(!0),function(e,n){var o="ok"===e;o||S("set at "+t+" failed: "+e);var a=r.serverSyncTree_.ackUserWrite(u,!o);r.eventQueue_.raiseEventsForChangedPath(t,a),r.callOnCompleteCallback(i,e,n)});var l=this.abortTransactions_(t);this.rerunTransactions_(l),this.eventQueue_.raiseEventsForChangedPath(l,[])},t.prototype.update=function(t,e,n){var i=this;this.log_("update",{path:t.toString(),value:e});var r=!0,a=this.generateServerValues(),s={};if(o.forEach(e,function(t,e){r=!1;var n=le(e);s[t]=Te(n,a)}),r)w("update() called with empty data.  Don't do anything."),this.callOnCompleteCallback(n,"ok");else{var u=this.getNextWriteId_(),c=this.serverSyncTree_.applyUserMerge(t,s,u);this.eventQueue_.queueEvents(c),this.server_.merge(t.toString(),e,function(e,r){var o="ok"===e;o||S("update at "+t+" failed: "+e);var a=i.serverSyncTree_.ackUserWrite(u,!o),s=a.length>0?i.rerunTransactions_(t):t;i.eventQueue_.raiseEventsForChangedPath(s,a),i.callOnCompleteCallback(n,e,r)}),o.forEach(e,function(e){var n=i.abortTransactions_(t.child(e));i.rerunTransactions_(n)}),this.eventQueue_.raiseEventsForChangedPath(t,[])}},t.prototype.runOnDisconnectEvents_=function(){var t=this;this.log_("onDisconnectEvents");var e=this.generateServerValues(),n=Ae(this.onDisconnect_,e),i=[];n.forEachTree(z.Empty,function(e,n){i=i.concat(t.serverSyncTree_.applyServerOverwrite(e,n));var r=t.abortTransactions_(e);t.rerunTransactions_(r)}),this.onDisconnect_=new Ee,this.eventQueue_.raiseEventsForChangedPath(z.Empty,i)},t.prototype.onDisconnectCancel=function(t,e){var n=this;this.server_.onDisconnectCancel(t.toString(),function(i,r){"ok"===i&&n.onDisconnect_.forget(t),n.callOnCompleteCallback(e,i,r)})},t.prototype.onDisconnectSet=function(t,e,n){var i=this,r=le(e);this.server_.onDisconnectPut(t.toString(),r.val(!0),function(e,o){"ok"===e&&i.onDisconnect_.remember(t,r),i.callOnCompleteCallback(n,e,o)})},t.prototype.onDisconnectSetWithPriority=function(t,e,n,i){var r=this,o=le(e,n);this.server_.onDisconnectPut(t.toString(),o.val(!0),function(e,n){"ok"===e&&r.onDisconnect_.remember(t,o),r.callOnCompleteCallback(i,e,n)})},t.prototype.onDisconnectUpdate=function(t,e,n){var i=this;if(o.isEmpty(e))return w("onDisconnect().update() called with empty data.  Don't do anything."),void this.callOnCompleteCallback(n,"ok");this.server_.onDisconnectMerge(t.toString(),e,function(r,a){"ok"===r&&o.forEach(e,function(e,n){var r=le(n);i.onDisconnect_.remember(t.child(e),r)}),i.callOnCompleteCallback(n,r,a)})},t.prototype.addEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.addEventRegistration(t,e):this.serverSyncTree_.addEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.removeEventCallbackForQuery=function(t,e){var n;n=".info"===t.path.getFront()?this.infoSyncTree_.removeEventRegistration(t,e):this.serverSyncTree_.removeEventRegistration(t,e),this.eventQueue_.raiseEventsAtPath(t.path,n)},t.prototype.interrupt=function(){this.persistentConnection_&&this.persistentConnection_.interrupt(fi)},t.prototype.resume=function(){this.persistentConnection_&&this.persistentConnection_.resume(fi)},t.prototype.stats=function(t){if(void 0===t&&(t=!1),"undefined"!==typeof console){var e;t?(this.statsListener_||(this.statsListener_=new on(this.stats_)),e=this.statsListener_.get()):e=this.stats_.get();var n=Object.keys(e).reduce(function(t,e){return Math.max(e.length,t)},0);o.forEach(e,function(t,e){for(var i=t.length;i<n+2;i++)t+=" ";console.log(t+e)})}},t.prototype.statsIncrementCounter=function(t){this.stats_.incrementCounter(t),this.statsReporter_.includeStat(t)},t.prototype.log_=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n="";this.persistentConnection_&&(n=this.persistentConnection_.id+":"),w.apply(void 0,[n].concat(t))},t.prototype.callOnCompleteCallback=function(t,e,n){t&&V(function(){if("ok"==e)t(null);else{var i=(e||"error").toUpperCase(),r=i;n&&(r+=": "+n);var o=new Error(r);o.code=i,t(o)}})},Object.defineProperty(t.prototype,"database",{get:function(){return this.__database||(this.__database=new Ci(this))},enumerable:!0,configurable:!0}),t}(),pi=function(){function t(e){this.indexedFilter_=new qe(e.getIndex()),this.index_=e.getIndex(),this.startPost_=t.getStartPost_(e),this.endPost_=t.getEndPost_(e)}return t.prototype.getStartPost=function(){return this.startPost_},t.prototype.getEndPost=function(){return this.endPost_},t.prototype.matches=function(t){return this.index_.compare(this.getStartPost(),t)<=0&&this.index_.compare(t,this.getEndPost())<=0},t.prototype.updateChild=function(t,e,n,i,r,o){return this.matches(new Nt(e,n))||(n=ae.EMPTY_NODE),this.indexedFilter_.updateChild(t,e,n,i,r,o)},t.prototype.updateFullNode=function(t,e,n){e.isLeafNode()&&(e=ae.EMPTY_NODE);var i=e.withIndex(this.index_);i=i.updatePriority(ae.EMPTY_NODE);var r=this;return e.forEachChild(Kt,function(t,e){r.matches(new Nt(t,e))||(i=i.updateImmediateChild(t,ae.EMPTY_NODE))}),this.indexedFilter_.updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.indexedFilter_},t.prototype.getIndex=function(){return this.index_},t.getStartPost_=function(t){if(t.hasStart()){var e=t.getIndexStartName();return t.getIndex().makePost(t.getIndexStartValue(),e)}return t.getIndex().minPost()},t.getEndPost_=function(t){if(t.hasEnd()){var e=t.getIndexEndName();return t.getIndex().makePost(t.getIndexEndValue(),e)}return t.getIndex().maxPost()},t}(),vi=function(){function t(t){this.rangedFilter_=new pi(t),this.index_=t.getIndex(),this.limit_=t.getLimit(),this.reverse_=!t.isViewFromLeft()}return t.prototype.updateChild=function(t,e,n,i,r,o){return this.rangedFilter_.matches(new Nt(e,n))||(n=ae.EMPTY_NODE),t.getImmediateChild(e).equals(n)?t:t.numChildren()<this.limit_?this.rangedFilter_.getIndexedFilter().updateChild(t,e,n,i,r,o):this.fullLimitUpdateChild_(t,e,n,r,o)},t.prototype.updateFullNode=function(t,e,n){var i;if(e.isLeafNode()||e.isEmpty())i=ae.EMPTY_NODE.withIndex(this.index_);else if(2*this.limit_<e.numChildren()&&e.isIndexed(this.index_)){i=ae.EMPTY_NODE.withIndex(this.index_);var r=void 0;r=this.reverse_?e.getReverseIteratorFrom(this.rangedFilter_.getEndPost(),this.index_):e.getIteratorFrom(this.rangedFilter_.getStartPost(),this.index_);var o=0;while(r.hasNext()&&o<this.limit_){var a=r.getNext(),s=void 0;if(s=this.reverse_?this.index_.compare(this.rangedFilter_.getStartPost(),a)<=0:this.index_.compare(a,this.rangedFilter_.getEndPost())<=0,!s)break;i=i.updateImmediateChild(a.name,a.node),o++}}else{i=e.withIndex(this.index_),i=i.updatePriority(ae.EMPTY_NODE);var u=void 0,c=void 0,l=void 0;r=void 0;if(this.reverse_){r=i.getReverseIterator(this.index_),u=this.rangedFilter_.getEndPost(),c=this.rangedFilter_.getStartPost();var h=this.index_.getCompare();l=function(t,e){return h(e,t)}}else r=i.getIterator(this.index_),u=this.rangedFilter_.getStartPost(),c=this.rangedFilter_.getEndPost(),l=this.index_.getCompare();o=0;var f=!1;while(r.hasNext()){a=r.getNext();!f&&l(u,a)<=0&&(f=!0);s=f&&o<this.limit_&&l(a,c)<=0;s?o++:i=i.updateImmediateChild(a.name,ae.EMPTY_NODE)}}return this.rangedFilter_.getIndexedFilter().updateFullNode(t,i,n)},t.prototype.updatePriority=function(t,e){return t},t.prototype.filtersNodes=function(){return!0},t.prototype.getIndexedFilter=function(){return this.rangedFilter_.getIndexedFilter()},t.prototype.getIndex=function(){return this.index_},t.prototype.fullLimitUpdateChild_=function(t,e,n,i,r){var a;if(this.reverse_){var s=this.index_.getCompare();a=function(t,e){return s(e,t)}}else a=this.index_.getCompare();var u=t;o.assert(u.numChildren()==this.limit_,"");var c=new Nt(e,n),l=this.reverse_?u.getFirstChild(this.index_):u.getLastChild(this.index_),h=this.rangedFilter_.matches(c);if(u.hasChild(e)){var f=u.getImmediateChild(e),d=i.getChildAfterChild(this.index_,l,this.reverse_);while(null!=d&&(d.name==e||u.hasChild(d.name)))d=i.getChildAfterChild(this.index_,d,this.reverse_);var p=null==d?1:a(d,c),v=h&&!n.isEmpty()&&p>=0;if(v)return null!=r&&r.trackChildChange(Be.childChangedChange(e,n,f)),u.updateImmediateChild(e,n);null!=r&&r.trackChildChange(Be.childRemovedChange(e,f));var m=u.updateImmediateChild(e,ae.EMPTY_NODE),g=null!=d&&this.rangedFilter_.matches(d);return g?(null!=r&&r.trackChildChange(Be.childAddedChange(d.name,d.node)),m.updateImmediateChild(d.name,d.node)):m}return n.isEmpty()?t:h&&a(l,c)>=0?(null!=r&&(r.trackChildChange(Be.childRemovedChange(l.name,l.node)),r.trackChildChange(Be.childAddedChange(e,n))),u.updateImmediateChild(e,n).updateImmediateChild(l.name,ae.EMPTY_NODE)):t},t}(),mi=function(){function t(){this.limitSet_=!1,this.startSet_=!1,this.startNameSet_=!1,this.endSet_=!1,this.endNameSet_=!1,this.limit_=0,this.viewFrom_="",this.indexStartValue_=null,this.indexStartName_="",this.indexEndValue_=null,this.indexEndName_="",this.index_=Kt}return t.prototype.hasStart=function(){return this.startSet_},t.prototype.isViewFromLeft=function(){return""===this.viewFrom_?this.startSet_:this.viewFrom_===t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT},t.prototype.getIndexStartValue=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.indexStartValue_},t.prototype.getIndexStartName=function(){return o.assert(this.startSet_,"Only valid if start has been set"),this.startNameSet_?this.indexStartName_:x},t.prototype.hasEnd=function(){return this.endSet_},t.prototype.getIndexEndValue=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.indexEndValue_},t.prototype.getIndexEndName=function(){return o.assert(this.endSet_,"Only valid if end has been set"),this.endNameSet_?this.indexEndName_:P},t.prototype.hasLimit=function(){return this.limitSet_},t.prototype.hasAnchoredLimit=function(){return this.limitSet_&&""!==this.viewFrom_},t.prototype.getLimit=function(){return o.assert(this.limitSet_,"Only valid if limit has been set"),this.limit_},t.prototype.getIndex=function(){return this.index_},t.prototype.copy_=function(){var e=new t;return e.limitSet_=this.limitSet_,e.limit_=this.limit_,e.startSet_=this.startSet_,e.indexStartValue_=this.indexStartValue_,e.startNameSet_=this.startNameSet_,e.indexStartName_=this.indexStartName_,e.endSet_=this.endSet_,e.indexEndValue_=this.indexEndValue_,e.endNameSet_=this.endNameSet_,e.indexEndName_=this.indexEndName_,e.index_=this.index_,e.viewFrom_=this.viewFrom_,e},t.prototype.limit=function(t){var e=this.copy_();return e.limitSet_=!0,e.limit_=t,e.viewFrom_="",e},t.prototype.limitToFirst=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_LEFT,n},t.prototype.limitToLast=function(e){var n=this.copy_();return n.limitSet_=!0,n.limit_=e,n.viewFrom_=t.WIRE_PROTOCOL_CONSTANTS_.VIEW_FROM_RIGHT,n},t.prototype.startAt=function(t,e){var n=this.copy_();return n.startSet_=!0,void 0===t&&(t=null),n.indexStartValue_=t,null!=e?(n.startNameSet_=!0,n.indexStartName_=e):(n.startNameSet_=!1,n.indexStartName_=""),n},t.prototype.endAt=function(t,e){var n=this.copy_();return n.endSet_=!0,void 0===t&&(t=null),n.indexEndValue_=t,void 0!==e?(n.endNameSet_=!0,n.indexEndName_=e):(n.endNameSet_=!1,n.indexEndName_=""),n},t.prototype.orderBy=function(t){var e=this.copy_();return e.index_=t,e},t.prototype.getQueryObject=function(){var e=t.WIRE_PROTOCOL_CONSTANTS_,n={};if(this.startSet_&&(n[e.INDEX_START_VALUE]=this.indexStartValue_,this.startNameSet_&&(n[e.INDEX_START_NAME]=this.indexStartName_)),this.endSet_&&(n[e.INDEX_END_VALUE]=this.indexEndValue_,this.endNameSet_&&(n[e.INDEX_END_NAME]=this.indexEndName_)),this.limitSet_){n[e.LIMIT]=this.limit_;var i=this.viewFrom_;""===i&&(i=this.isViewFromLeft()?e.VIEW_FROM_LEFT:e.VIEW_FROM_RIGHT),n[e.VIEW_FROM]=i}return this.index_!==Kt&&(n[e.INDEX]=this.index_.toString()),n},t.prototype.loadsAllData=function(){return!(this.startSet_||this.endSet_||this.limitSet_)},t.prototype.isDefault=function(){return this.loadsAllData()&&this.index_==Kt},t.prototype.getNodeFilter=function(){return this.loadsAllData()?new qe(this.getIndex()):this.hasLimit()?new vi(this):new pi(this)},t.prototype.toRestQueryStringParameters=function(){var e,n=t.REST_QUERY_CONSTANTS_,i={};return this.isDefault()?i:(this.index_===Kt?e=n.PRIORITY_INDEX:this.index_===pe?e=n.VALUE_INDEX:this.index_===Rt?e=n.KEY_INDEX:(o.assert(this.index_ instanceof ve,"Unrecognized index type!"),e=this.index_.toString()),i[n.ORDER_BY]=o.stringify(e),this.startSet_&&(i[n.START_AT]=o.stringify(this.indexStartValue_),this.startNameSet_&&(i[n.START_AT]+=","+o.stringify(this.indexStartName_))),this.endSet_&&(i[n.END_AT]=o.stringify(this.indexEndValue_),this.endNameSet_&&(i[n.END_AT]+=","+o.stringify(this.indexEndName_))),this.limitSet_&&(this.isViewFromLeft()?i[n.LIMIT_TO_FIRST]=this.limit_:i[n.LIMIT_TO_LAST]=this.limit_),i)},t.WIRE_PROTOCOL_CONSTANTS_={INDEX_START_VALUE:"sp",INDEX_START_NAME:"sn",INDEX_END_VALUE:"ep",INDEX_END_NAME:"en",LIMIT:"l",VIEW_FROM:"vf",VIEW_FROM_LEFT:"l",VIEW_FROM_RIGHT:"r",INDEX:"i"},t.REST_QUERY_CONSTANTS_={ORDER_BY:"orderBy",PRIORITY_INDEX:"$priority",VALUE_INDEX:"$value",KEY_INDEX:"$key",START_AT:"startAt",END_AT:"endAt",LIMIT_TO_FIRST:"limitToFirst",LIMIT_TO_LAST:"limitToLast"},t.DEFAULT=new t,t}(),gi=function(t){function e(e,n){var i=this;if(!(e instanceof di))throw new Error("new Reference() no longer supported - use app.database().");return i=t.call(this,e,n,mi.DEFAULT,!1)||this,i}return s.__extends(e,t),e.prototype.getKey=function(){return o.validateArgCount("Reference.key",0,0,arguments.length),this.path.isEmpty()?null:this.path.getBack()},e.prototype.child=function(t){return o.validateArgCount("Reference.child",1,1,arguments.length),"number"===typeof t?t=String(t):t instanceof z||(null===this.path.getFront()?St("Reference.child",1,t,!1):Ct("Reference.child",1,t,!1)),new e(this.repo,this.path.child(t))},e.prototype.getParent=function(){o.validateArgCount("Reference.parent",0,0,arguments.length);var t=this.path.parent();return null===t?null:new e(this.repo,t)},e.prototype.getRoot=function(){o.validateArgCount("Reference.root",0,0,arguments.length);var t=this;while(null!==t.getParent())t=t.getParent();return t},e.prototype.databaseProp=function(){return this.repo.database},e.prototype.set=function(t,e){o.validateArgCount("Reference.set",1,2,arguments.length),At("Reference.set",this.path),gt("Reference.set",1,t,this.path,!1),o.validateCallback("Reference.set",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path,t,null,n.wrapCallback(e)),n.promise},e.prototype.update=function(t,e){if(o.validateArgCount("Reference.update",1,2,arguments.length),At("Reference.update",this.path),Array.isArray(t)){for(var n={},i=0;i<t.length;++i)n[""+i]=t[i];t=n,S("Passing an Array to Firebase.update() is deprecated. Use set() if you want to overwrite the existing data, or an Object with integer keys if you really do want to only update some of the children.")}bt("Reference.update",1,t,this.path,!1),o.validateCallback("Reference.update",2,e,!0);var r=new o.Deferred;return this.repo.update(this.path,t,r.wrapCallback(e)),r.promise},e.prototype.setWithPriority=function(t,e,n){if(o.validateArgCount("Reference.setWithPriority",2,3,arguments.length),At("Reference.setWithPriority",this.path),gt("Reference.setWithPriority",1,t,this.path,!1),wt("Reference.setWithPriority",2,e,!1),o.validateCallback("Reference.setWithPriority",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.setWithPriority failed: "+this.getKey()+" is a read-only object.";var i=new o.Deferred;return this.repo.setWithPriority(this.path,t,e,i.wrapCallback(n)),i.promise},e.prototype.remove=function(t){return o.validateArgCount("Reference.remove",0,1,arguments.length),At("Reference.remove",this.path),o.validateCallback("Reference.remove",1,t,!0),this.set(null,t)},e.prototype.transaction=function(t,e,n){if(o.validateArgCount("Reference.transaction",1,3,arguments.length),At("Reference.transaction",this.path),o.validateCallback("Reference.transaction",1,t,!1),o.validateCallback("Reference.transaction",2,e,!0),Ot("Reference.transaction",3,n,!0),".length"===this.getKey()||".keys"===this.getKey())throw"Reference.transaction failed: "+this.getKey()+" is a read-only object.";void 0===n&&(n=!0);var i=new o.Deferred;"function"===typeof e&&i.promise.catch(function(){});var r=function(t,n,r){t?i.reject(t):i.resolve(new Pt(n,r)),"function"===typeof e&&e(t,n,r)};return this.repo.startTransaction(this.path,t,r,n),i.promise},e.prototype.setPriority=function(t,e){o.validateArgCount("Reference.setPriority",1,2,arguments.length),At("Reference.setPriority",this.path),wt("Reference.setPriority",1,t,!1),o.validateCallback("Reference.setPriority",2,e,!0);var n=new o.Deferred;return this.repo.setWithPriority(this.path.child(".priority"),t,null,n.wrapCallback(e)),n.promise},e.prototype.push=function(t,e){o.validateArgCount("Reference.push",0,2,arguments.length),At("Reference.push",this.path),gt("Reference.push",1,t,this.path,!0),o.validateCallback("Reference.push",2,e,!0);var n,i=this.repo.serverTime(),r=It(i),a=this.child(r),s=this.child(r);return n=null!=t?a.set(t,e).then(function(){return s}):Promise.resolve(s),a.then=n.then.bind(n),a.catch=n.then.bind(n,void 0),"function"===typeof e&&n.catch(function(){}),a},e.prototype.onDisconnect=function(){return At("Reference.onDisconnect",this.path),new xt(this.repo,this.path)},Object.defineProperty(e.prototype,"database",{get:function(){return this.databaseProp()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"key",{get:function(){return this.getKey()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"parent",{get:function(){return this.getParent()},enumerable:!0,configurable:!0}),Object.defineProperty(e.prototype,"root",{get:function(){return this.getRoot()},enumerable:!0,configurable:!0}),e}(we);we.__referenceConstructor=gi,Qe.__referenceConstructor=gi;var _i,yi=function(){function t(){this.children={},this.childCount=0,this.value=null}return t}(),bi=function(){function t(t,e,n){void 0===t&&(t=""),void 0===e&&(e=null),void 0===n&&(n=new yi),this.name_=t,this.parent_=e,this.node_=n}return t.prototype.subTree=function(e){var n,i=e instanceof z?e:new z(e),r=this;while(null!==(n=i.getFront())){var a=o.safeGet(r.node_.children,n)||new yi;r=new t(n,r,a),i=i.popFront()}return r},t.prototype.getValue=function(){return this.node_.value},t.prototype.setValue=function(t){o.assert("undefined"!==typeof t,"Cannot set value to undefined"),this.node_.value=t,this.updateParents_()},t.prototype.clear=function(){this.node_.value=null,this.node_.children={},this.node_.childCount=0,this.updateParents_()},t.prototype.hasChildren=function(){return this.node_.childCount>0},t.prototype.isEmpty=function(){return null===this.getValue()&&!this.hasChildren()},t.prototype.forEachChild=function(e){var n=this;o.forEach(this.node_.children,function(i,r){e(new t(i,n,r))})},t.prototype.forEachDescendant=function(t,e,n){e&&!n&&t(this),this.forEachChild(function(e){e.forEachDescendant(t,!0,n)}),e&&n&&t(this)},t.prototype.forEachAncestor=function(t,e){var n=e?this:this.parent();while(null!==n){if(t(n))return!0;n=n.parent()}return!1},t.prototype.forEachImmediateDescendantWithValue=function(t){this.forEachChild(function(e){null!==e.getValue()?t(e):e.forEachImmediateDescendantWithValue(t)})},t.prototype.path=function(){return new z(null===this.parent_?this.name_:this.parent_.path()+"/"+this.name_)},t.prototype.name=function(){return this.name_},t.prototype.parent=function(){return this.parent_},t.prototype.updateParents_=function(){null!==this.parent_&&this.parent_.updateChild_(this.name_,this)},t.prototype.updateChild_=function(t,e){var n=e.isEmpty(),i=o.contains(this.node_.children,t);n&&i?(delete this.node_.children[t],this.node_.childCount--,this.updateParents_()):n||i||(this.node_.children[t]=e.node_,this.node_.childCount++,this.updateParents_())},t}();(function(t){t[t["RUN"]=0]="RUN",t[t["SENT"]=1]="SENT",t[t["COMPLETED"]=2]="COMPLETED",t[t["SENT_NEEDS_ABORT"]=3]="SENT_NEEDS_ABORT",t[t["NEEDS_ABORT"]=4]="NEEDS_ABORT"})(_i||(_i={})),di.MAX_TRANSACTION_RETRIES_=25,di.prototype.transactions_init_=function(){this.transactionQueueTree_=new bi},di.prototype.startTransaction=function(t,e,n,i){this.log_("transaction on "+t);var r=function(){},a=new gi(this,t);a.on("value",r);var s=function(){a.off("value",r)},u={path:t,update:e,onComplete:n,status:null,order:v(),applyLocally:i,retryCount:0,unwatcher:s,abortReason:null,currentWriteId:null,currentInputSnapshot:null,currentOutputSnapshotRaw:null,currentOutputSnapshotResolved:null},c=this.getLatestState_(t);u.currentInputSnapshot=c;var l=u.update(c.val());if(void 0===l){if(u.unwatcher(),u.currentOutputSnapshotRaw=null,u.currentOutputSnapshotResolved=null,u.onComplete){var h=new me(u.currentInputSnapshot,new gi(this,u.path),Kt);u.onComplete(null,!1,h)}}else{_t("transaction failed: Data returned ",l,u.path),u.status=_i.RUN;var f=this.transactionQueueTree_.subTree(t),d=f.getValue()||[];d.push(u),f.setValue(d);var p=void 0;if("object"===typeof l&&null!==l&&o.contains(l,".priority"))p=o.safeGet(l,".priority"),o.assert(mt(p),"Invalid priority returned by transaction. Priority must be a valid string, finite number, server value, or null.");else{var m=this.serverSyncTree_.calcCompleteEventCache(t)||ae.EMPTY_NODE;p=m.getPriority().val()}p=p;var g=this.generateServerValues(),_=le(l,p),y=Te(_,g);u.currentOutputSnapshotRaw=_,u.currentOutputSnapshotResolved=y,u.currentWriteId=this.getNextWriteId_();var b=this.serverSyncTree_.applyUserOverwrite(t,y,u.currentWriteId,u.applyLocally);this.eventQueue_.raiseEventsForChangedPath(t,b),this.sendReadyTransactions_()}},di.prototype.getLatestState_=function(t,e){return this.serverSyncTree_.calcCompleteEventCache(t,e)||ae.EMPTY_NODE},di.prototype.sendReadyTransactions_=function(t){var e=this;if(void 0===t&&(t=this.transactionQueueTree_),t||this.pruneCompletedTransactionsBelowNode_(t),null!==t.getValue()){var n=this.buildTransactionQueue_(t);o.assert(n.length>0,"Sending zero length transaction queue");var i=n.every(function(t){return t.status===_i.RUN});i&&this.sendTransactionQueue_(t.path(),n)}else t.hasChildren()&&t.forEachChild(function(t){e.sendReadyTransactions_(t)})},di.prototype.sendTransactionQueue_=function(t,e){for(var n=this,i=e.map(function(t){return t.currentWriteId}),r=this.getLatestState_(t,i),a=r,s=r.hash(),u=0;u<e.length;u++){var c=e[u];o.assert(c.status===_i.RUN,"tryToSendTransactionQueue_: items in queue should all be run."),c.status=_i.SENT,c.retryCount++;var l=z.relativePath(t,c.path);a=a.updateChild(l,c.currentOutputSnapshotRaw)}var h=a.val(!0),f=t;this.server_.put(f.toString(),h,function(i){n.log_("transaction put response",{path:f.toString(),status:i});var r=[];if("ok"===i){for(var o=[],a=0;a<e.length;a++){if(e[a].status=_i.COMPLETED,r=r.concat(n.serverSyncTree_.ackUserWrite(e[a].currentWriteId)),e[a].onComplete){var s=e[a].currentOutputSnapshotResolved,u=new gi(n,e[a].path),c=new me(s,u,Kt);o.push(e[a].onComplete.bind(null,null,!0,c))}e[a].unwatcher()}n.pruneCompletedTransactionsBelowNode_(n.transactionQueueTree_.subTree(t)),n.sendReadyTransactions_(),n.eventQueue_.raiseEventsForChangedPath(t,r);for(a=0;a<o.length;a++)V(o[a])}else{if("datastale"===i)for(a=0;a<e.length;a++)e[a].status===_i.SENT_NEEDS_ABORT?e[a].status=_i.NEEDS_ABORT:e[a].status=_i.RUN;else{S("transaction at "+f.toString()+" failed: "+i);for(a=0;a<e.length;a++)e[a].status=_i.NEEDS_ABORT,e[a].abortReason=i}n.rerunTransactions_(t)}},s)},di.prototype.rerunTransactions_=function(t){var e=this.getAncestorTransactionNode_(t),n=e.path(),i=this.buildTransactionQueue_(e);return this.rerunTransactionQueue_(i,n),n},di.prototype.rerunTransactionQueue_=function(t,e){if(0!==t.length){for(var n=[],i=[],r=t.filter(function(t){return t.status===_i.RUN}),a=r.map(function(t){return t.currentWriteId}),s=0;s<t.length;s++){var u=t[s],c=z.relativePath(e,u.path),l=!1,h=void 0;if(o.assert(null!==c,"rerunTransactionsUnderNode_: relativePath should not be null."),u.status===_i.NEEDS_ABORT)l=!0,h=u.abortReason,i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else if(u.status===_i.RUN)if(u.retryCount>=di.MAX_TRANSACTION_RETRIES_)l=!0,h="maxretry",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0));else{var f=this.getLatestState_(u.path,a);u.currentInputSnapshot=f;var d=t[s].update(f.val());if(void 0!==d){_t("transaction failed: Data returned ",d,u.path);var p=le(d),v="object"===typeof d&&null!=d&&o.contains(d,".priority");v||(p=p.updatePriority(f.getPriority()));var m=u.currentWriteId,g=this.generateServerValues(),_=Te(p,g);u.currentOutputSnapshotRaw=p,u.currentOutputSnapshotResolved=_,u.currentWriteId=this.getNextWriteId_(),a.splice(a.indexOf(m),1),i=i.concat(this.serverSyncTree_.applyUserOverwrite(u.path,_,u.currentWriteId,u.applyLocally)),i=i.concat(this.serverSyncTree_.ackUserWrite(m,!0))}else l=!0,h="nodata",i=i.concat(this.serverSyncTree_.ackUserWrite(u.currentWriteId,!0))}if(this.eventQueue_.raiseEventsForChangedPath(e,i),i=[],l&&(t[s].status=_i.COMPLETED,function(t){setTimeout(t,Math.floor(0))}(t[s].unwatcher),t[s].onComplete))if("nodata"===h){var y=new gi(this,t[s].path),b=t[s].currentInputSnapshot,w=new me(b,y,Kt);n.push(t[s].onComplete.bind(null,null,!1,w))}else n.push(t[s].onComplete.bind(null,new Error(h),!1,null))}this.pruneCompletedTransactionsBelowNode_(this.transactionQueueTree_);for(s=0;s<n.length;s++)V(n[s]);this.sendReadyTransactions_()}},di.prototype.getAncestorTransactionNode_=function(t){var e,n=this.transactionQueueTree_;while(null!==(e=t.getFront())&&null===n.getValue())n=n.subTree(e),t=t.popFront();return n},di.prototype.buildTransactionQueue_=function(t){var e=[];return this.aggregateTransactionQueuesForNode_(t,e),e.sort(function(t,e){return t.order-e.order}),e},di.prototype.aggregateTransactionQueuesForNode_=function(t,e){var n=this,i=t.getValue();if(null!==i)for(var r=0;r<i.length;r++)e.push(i[r]);t.forEachChild(function(t){n.aggregateTransactionQueuesForNode_(t,e)})},di.prototype.pruneCompletedTransactionsBelowNode_=function(t){var e=this,n=t.getValue();if(n){for(var i=0,r=0;r<n.length;r++)n[r].status!==_i.COMPLETED&&(n[i]=n[r],i++);n.length=i,t.setValue(n.length>0?n:null)}t.forEachChild(function(t){e.pruneCompletedTransactionsBelowNode_(t)})},di.prototype.abortTransactions_=function(t){var e=this,n=this.getAncestorTransactionNode_(t).path(),i=this.transactionQueueTree_.subTree(t);return i.forEachAncestor(function(t){e.abortTransactionsOnNode_(t)}),this.abortTransactionsOnNode_(i),i.forEachDescendant(function(t){e.abortTransactionsOnNode_(t)}),n},di.prototype.abortTransactionsOnNode_=function(t){var e=t.getValue();if(null!==e){for(var n=[],i=[],r=-1,a=0;a<e.length;a++)if(e[a].status===_i.SENT_NEEDS_ABORT);else if(e[a].status===_i.SENT)o.assert(r===a-1,"All SENT items should be at beginning of queue."),r=a,e[a].status=_i.SENT_NEEDS_ABORT,e[a].abortReason="set";else if(o.assert(e[a].status===_i.RUN,"Unexpected transaction status in abort"),e[a].unwatcher(),i=i.concat(this.serverSyncTree_.ackUserWrite(e[a].currentWriteId,!0)),e[a].onComplete){var s=null;n.push(e[a].onComplete.bind(null,new Error("set"),!1,s))}-1===r?t.setValue(null):e.length=r+1,this.eventQueue_.raiseEventsForChangedPath(t.path(),i);for(a=0;a<n.length;a++)V(n[a])}};var wi,ki="databaseURL",Ei=function(){function t(){this.repos_={},this.useRestClient_=!1}return t.getInstance=function(){return wi||(wi=new t),wi},t.prototype.interrupt=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].interrupt()},t.prototype.resume=function(){for(var t in this.repos_)for(var e in this.repos_[t])this.repos_[t][e].resume()},t.prototype.databaseFromApp=function(t,e){var n=e||t.options[ki];void 0===n&&C("Can't determine Firebase Database URL.  Be sure to include "+ki+" option when calling firebase.initializeApp().");var i=ut(n),r=i.repoInfo;Tt("Invalid Firebase Database URL",1,i),i.path.isEmpty()||C("Database URL must point to the root of a Firebase Database (not including a child path).");var o=this.createRepo(r,t);return o.database},t.prototype.deleteRepo=function(t){var e=o.safeGet(this.repos_,t.app.name);e&&o.safeGet(e,t.repoInfo_.toURLString())===t||C("Database "+t.app.name+"("+t.repoInfo_+") has already been deleted."),t.interrupt(),delete e[t.repoInfo_.toURLString()]},t.prototype.createRepo=function(t,e){var n=o.safeGet(this.repos_,e.name);n||(n={},this.repos_[e.name]=n);var i=o.safeGet(n,t.toURLString());return i&&C("Database initialized multiple times. Please make sure the format of the database URL matches with each database() call."),i=new di(t,this.useRestClient_,e),n[t.toURLString()]=i,i},t.prototype.forceRestClient=function(t){this.useRestClient_=t},t}(),Ci=function(){function t(t){this.repo_=t,t instanceof di||C("Don't call new Database() directly - please use firebase.database()."),this.root_=new gi(t,z.Empty),this.INTERNAL=new Si(this)}return Object.defineProperty(t.prototype,"app",{get:function(){return this.repo_.app},enumerable:!0,configurable:!0}),t.prototype.ref=function(t){return this.checkDeleted_("ref"),o.validateArgCount("database.ref",0,1,arguments.length),t instanceof gi?this.refFromURL(t.toString()):void 0!==t?this.root_.child(t):this.root_},t.prototype.refFromURL=function(t){var e="database.refFromURL";this.checkDeleted_(e),o.validateArgCount(e,1,1,arguments.length);var n=ut(t);Tt(e,1,n);var i=n.repoInfo;return i.host!==this.repo_.repoInfo_.host&&C(e+": Host name does not match the current database: (found "+i.host+" but expected "+this.repo_.repoInfo_.host+")"),this.ref(n.path.toString())},t.prototype.checkDeleted_=function(t){null===this.repo_&&C("Cannot call "+t+" on a deleted database.")},t.prototype.goOffline=function(){o.validateArgCount("database.goOffline",0,0,arguments.length),this.checkDeleted_("goOffline"),this.repo_.interrupt()},t.prototype.goOnline=function(){o.validateArgCount("database.goOnline",0,0,arguments.length),this.checkDeleted_("goOnline"),this.repo_.resume()},t.ServerValue={TIMESTAMP:{".sv":"timestamp"}},t}(),Si=function(){function t(t){this.database=t}return t.prototype.delete=function(){return s.__awaiter(this,void 0,void 0,function(){return s.__generator(this,function(t){return this.database.checkDeleted_("delete"),Ei.getInstance().deleteRepo(this.database.repo_),this.database.repo_=null,this.database.root_=null,this.database.INTERNAL=null,this.database=null,[2]})})},t}(),Ai=function(){Bn.forceDisallow(),Dn.forceAllow()},Ti=function(){Dn.forceDisallow()},Oi=function(){return Bn["isAvailable"]()},xi=function(t,e){t.repo.persistentConnection_.securityDebugCallback_=e},Pi=function(t,e){t.repo.stats(e)},Ii=function(t,e){t.repo.statsIncrementCounter(e)},Ni=function(t){return t.repo.dataUpdateCount},Li=function(t,e){return t.repo.interceptServerData_(e)},Di=Object.freeze({forceLongPolling:Ai,forceWebSockets:Ti,isWebSocketsAvailable:Oi,setSecurityDebugCallback:xi,stats:Pi,statsIncrementCounter:Ii,dataUpdateCount:Ni,interceptServerData:Li}),Ri=li;li.prototype.simpleListen=function(t,e){this.sendRequest("q",{p:t},e)},li.prototype.echo=function(t,e){this.sendRequest("echo",{d:t},e)};var Mi=ei,ji=function(t){var e=li.prototype.put;return li.prototype.put=function(n,i,r,o){void 0!==o&&(o=t()),e.call(this,n,i,r,o)},function(){li.prototype.put=e}},Fi=it,Bi=function(t){return t.queryIdentifier()},qi=function(t){return t.repo.persistentConnection_.listens_},Ui=function(t){Ei.getInstance().forceRestClient(t)},$i=Object.freeze({DataConnection:Ri,RealTimeConnection:Mi,hijackHash:ji,ConnectionTarget:Fi,queryIdentifier:Bi,listens:qi,forceRestClient:Ui}),Vi=Ci.ServerValue;function Hi(e){var n=e.INTERNAL.registerService("database",function(t,e,n){return Ei.getInstance().databaseFromApp(t,n)},{Reference:gi,Query:we,Database:Ci,enableLogging:b,INTERNAL:Di,ServerValue:Vi,TEST_ACCESS:$i},null,!0);o.isNodeSdk()&&(t.exports=n)}Hi(u),e.registerDatabase=Hi,e.Database=Ci,e.Query=we,e.Reference=gi,e.enableLogging=b,e.ServerValue=Vi,e.DataSnapshot=me,e.OnDisconnect=xt}).call(this,n("4362"))},"355d":function(t,e){e.f={}.propertyIsEnumerable},"35e8":function(t,e,n){var i=n("d9f6"),r=n("aebd");t.exports=n("8e60")?function(t,e,n){return i.f(t,e,r(1,n))}:function(t,e,n){return t[e]=n,t}},"36c3":function(t,e,n){var i=n("335c"),r=n("25eb");t.exports=function(t){return i(r(t))}},"386b":function(t,e,n){var i=n("5ca1"),r=n("79e5"),o=n("be13"),a=/"/g,s=function(t,e,n,i){var r=String(o(t)),s="<"+e;return""!==n&&(s+=" "+n+'="'+String(i).replace(a,"&quot;")+'"'),s+">"+r+"</"+e+">"};t.exports=function(t,e){var n={};n[t]=e(s),i(i.P+i.F*r(function(){var e=""[t]('"');return e!==e.toLowerCase()||e.split('"').length>3}),"String",n)}},"386d":function(t,e,n){"use strict";var i=n("cb7c"),r=n("83a1"),o=n("5f1b");n("214f")("search",1,function(t,e,n,a){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=a(n,t,this);if(e.done)return e.value;var s=i(t),u=String(this),c=s.lastIndex;r(c,0)||(s.lastIndex=0);var l=o(s,u);return r(s.lastIndex,c)||(s.lastIndex=c),null===l?-1:l.index}]})},"38fd":function(t,e,n){var i=n("69a8"),r=n("4bf8"),o=n("613b")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"3a38":function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"3b03":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},"3b2a":function(t,e,n){var i=n("53ff")("meta"),r=n("669d"),o=n("8343"),a=n("cad0").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("eb5a")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},f=function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,i)&&l(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},"3df3":function(t,e,n){var i=n("669d"),r=n("8187"),o=n("8d98")("match");t.exports=function(t){var e;return i(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"3fb5":function(t,e){"function"===typeof Object.create?t.exports=function(t,e){t.super_=e,t.prototype=Object.create(e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}})}:t.exports=function(t,e){t.super_=e;var n=function(){};n.prototype=e.prototype,t.prototype=new n,t.prototype.constructor=t}},4045:function(t,e,n){var i=n("8187"),r=n("8d98")("toStringTag"),o="Arguments"==i(function(){return arguments}()),a=function(t,e){try{return t[e]}catch(n){}};t.exports=function(t){var e,n,s;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=a(e=Object(t),r))?n:o?i(e):"Object"==(s=i(e))&&"function"==typeof e.callee?"Arguments":s}},"41a0":function(t,e,n){"use strict";var i=n("2aeb"),r=n("4630"),o=n("7f20"),a={};n("32e9")(a,n("2b4c")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},"42d9":function(t,e){t.exports={}},4362:function(t,e,n){e.nextTick=function(t){setTimeout(t,0)},e.platform=e.arch=e.execPath=e.title="browser",e.pid=1,e.browser=!0,e.env={},e.argv=[],e.binding=function(t){throw new Error("No such module. (Possibly not yet loaded)")},function(){var t,i="/";e.cwd=function(){return i},e.chdir=function(e){t||(t=n("df7c")),i=t.resolve(e,i)}}(),e.exit=e.kill=e.umask=e.dlopen=e.uptime=e.memoryUsage=e.uvCounters=function(){},e.features={}},"454f":function(t,e,n){n("46a7");var i=n("584a").Object;t.exports=function(t,e,n){return i.defineProperty(t,e,n)}},4588:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},"45ba":function(t,e,n){var i=n("cad0"),r=n("5051"),o=n("f40b");t.exports=n("948a")?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,u=0;while(s>u)i.f(t,n=a[u++],e[n]);return t}},"45f2":function(t,e,n){var i=n("d9f6").f,r=n("07e3"),o=n("5168")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},4630:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},"46a7":function(t,e,n){var i=n("63b6");i(i.S+i.F*!n("8e60"),"Object",{defineProperty:n("d9f6").f})},"47ee":function(t,e,n){var i=n("c3a1"),r=n("9aa9"),o=n("355d");t.exports=function(t){var e=i(t),n=r.f;if(n){var a,s=n(t),u=o.f,c=0;while(s.length>c)u.call(t,a=s[c++])&&e.push(a)}return e}},"481b":function(t,e){t.exports={}},4917:function(t,e,n){"use strict";var i=n("cb7c"),r=n("9def"),o=n("0390"),a=n("5f1b");n("214f")("match",1,function(t,e,n,s){return[function(n){var i=t(this),r=void 0==n?void 0:n[e];return void 0!==r?r.call(n,i):new RegExp(n)[e](String(i))},function(t){var e=s(n,t,this);if(e.done)return e.value;var u=i(t),c=String(this);if(!u.global)return a(u,c);var l=u.unicode;u.lastIndex=0;var h,f=[],d=0;while(null!==(h=a(u,c))){var p=String(h[0]);f[d]=p,""===p&&(u.lastIndex=o(c,r(u.lastIndex),l)),d++}return 0===d?null:f}]})},"4a59":function(t,e,n){var i=n("9b43"),r=n("1fa8"),o=n("33a4"),a=n("cb7c"),s=n("9def"),u=n("27ee"),c={},l={};e=t.exports=function(t,e,n,h,f){var d,p,v,m,g=f?function(){return t}:u(t),_=i(n,h,e?2:1),y=0;if("function"!=typeof g)throw TypeError(t+" is not iterable!");if(o(g)){for(d=s(t.length);d>y;y++)if(m=e?_(a(p=t[y])[0],p[1]):_(t[y]),m===c||m===l)return m}else for(v=g.call(t);!(p=v.next()).done;)if(m=r(v,_,p.value,e),m===c||m===l)return m};e.BREAK=c,e.RETURN=l},"4bf8":function(t,e,n){var i=n("be13");t.exports=function(t){return Object(i(t))}},"4c35":function(t,e,n){var i=n("aad8"),r=n("1982"),o=n("8343"),a=n("53ff")("src"),s="toString",u=Function[s],c=(""+u).split(s);n("02eb").inspectSource=function(t){return u.call(t)},(t.exports=function(t,e,n,s){var u="function"==typeof n;u&&(o(n,"name")||r(n,"name",e)),t[e]!==n&&(u&&(o(n,a)||r(n,a,t[e]?""+t[e]:c.join(String(e)))),t===i?t[e]=n:s?t[e]?t[e]=n:r(t,e,n):(delete t[e],r(t,e,n)))})(Function.prototype,s,function(){return"function"==typeof this&&this[a]||u.call(this)})},"4c63":function(t,e,n){n("153c"),t.exports=n("02eb").Object.assign},"4ddf":function(t,e,n){"use strict";var i=n("f0be"),r=n("235a"),o=n("4c35"),a=n("1982"),s=n("42d9"),u=n("2622"),c=n("03ed"),l=n("6b91"),h=n("8d98")("iterator"),f=!([].keys&&"next"in[].keys()),d="@@iterator",p="keys",v="values",m=function(){return this};t.exports=function(t,e,n,g,_,y,b){u(n,e,g);var w,k,E,C=function(t){if(!f&&t in O)return O[t];switch(t){case p:return function(){return new n(this,t)};case v:return function(){return new n(this,t)}}return function(){return new n(this,t)}},S=e+" Iterator",A=_==v,T=!1,O=t.prototype,x=O[h]||O[d]||_&&O[_],P=x||C(_),I=_?A?C("entries"):P:void 0,N="Array"==e&&O.entries||x;if(N&&(E=l(N.call(new t)),E!==Object.prototype&&E.next&&(c(E,S,!0),i||"function"==typeof E[h]||a(E,h,m))),A&&x&&x.name!==v&&(T=!0,P=function(){return x.call(this)}),i&&!b||!f&&!T&&O[h]||a(O,h,P),s[e]=P,s[S]=m,_)if(w={values:A?P:C(v),keys:y?P:C(p),entries:I},b)for(k in w)k in O||o(O,k,w[k]);else r(r.P+r.F*(f||T),e,w);return w}},5051:function(t,e,n){var i=n("669d");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},"50e6":function(t,e){e.f={}.propertyIsEnumerable},"50ed":function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},5168:function(t,e,n){var i=n("dbdb")("wks"),r=n("62a0"),o=n("e53d").Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},"520a":function(t,e,n){"use strict";var i=n("0bfb"),r=RegExp.prototype.exec,o=String.prototype.replace,a=r,s="lastIndex",u=function(){var t=/a/,e=/b*/g;return r.call(t,"a"),r.call(e,"a"),0!==t[s]||0!==e[s]}(),c=void 0!==/()??/.exec("")[1],l=u||c;l&&(a=function(t){var e,n,a,l,h=this;return c&&(n=new RegExp("^"+h.source+"$(?!\\s)",i.call(h))),u&&(e=h[s]),a=r.call(h,t),u&&a&&(h[s]=h.global?a.index+a[0].length:e),c&&a&&a.length>1&&o.call(a[0],n,function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(a[l]=void 0)}),a}),t.exports=a},"52a7":function(t,e){e.f={}.propertyIsEnumerable},"52fe":function(t,e){(function(t){"use strict";if(!t.fetch){var e={searchParams:"URLSearchParams"in t,iterable:"Symbol"in t&&"iterator"in Symbol,blob:"FileReader"in t&&"Blob"in t&&function(){try{return new Blob,!0}catch(t){return!1}}(),formData:"FormData"in t,arrayBuffer:"ArrayBuffer"in t};if(e.arrayBuffer)var n=["[object Int8Array]","[object Uint8Array]","[object Uint8ClampedArray]","[object Int16Array]","[object Uint16Array]","[object Int32Array]","[object Uint32Array]","[object Float32Array]","[object Float64Array]"],i=function(t){return t&&DataView.prototype.isPrototypeOf(t)},r=ArrayBuffer.isView||function(t){return t&&n.indexOf(Object.prototype.toString.call(t))>-1};l.prototype.append=function(t,e){t=s(t),e=u(e);var n=this.map[t];this.map[t]=n?n+","+e:e},l.prototype["delete"]=function(t){delete this.map[s(t)]},l.prototype.get=function(t){return t=s(t),this.has(t)?this.map[t]:null},l.prototype.has=function(t){return this.map.hasOwnProperty(s(t))},l.prototype.set=function(t,e){this.map[s(t)]=u(e)},l.prototype.forEach=function(t,e){for(var n in this.map)this.map.hasOwnProperty(n)&&t.call(e,this.map[n],n,this)},l.prototype.keys=function(){var t=[];return this.forEach(function(e,n){t.push(n)}),c(t)},l.prototype.values=function(){var t=[];return this.forEach(function(e){t.push(e)}),c(t)},l.prototype.entries=function(){var t=[];return this.forEach(function(e,n){t.push([n,e])}),c(t)},e.iterable&&(l.prototype[Symbol.iterator]=l.prototype.entries);var o=["DELETE","GET","HEAD","OPTIONS","POST","PUT"];y.prototype.clone=function(){return new y(this,{body:this._bodyInit})},g.call(y.prototype),g.call(k.prototype),k.prototype.clone=function(){return new k(this._bodyInit,{status:this.status,statusText:this.statusText,headers:new l(this.headers),url:this.url})},k.error=function(){var t=new k(null,{status:0,statusText:""});return t.type="error",t};var a=[301,302,303,307,308];k.redirect=function(t,e){if(-1===a.indexOf(e))throw new RangeError("Invalid status code");return new k(null,{status:e,headers:{location:t}})},t.Headers=l,t.Request=y,t.Response=k,t.fetch=function(t,n){return new Promise(function(i,r){var o=new y(t,n),a=new XMLHttpRequest;a.onload=function(){var t={status:a.status,statusText:a.statusText,headers:w(a.getAllResponseHeaders()||"")};t.url="responseURL"in a?a.responseURL:t.headers.get("X-Request-URL");var e="response"in a?a.response:a.responseText;i(new k(e,t))},a.onerror=function(){r(new TypeError("Network request failed"))},a.ontimeout=function(){r(new TypeError("Network request failed"))},a.open(o.method,o.url,!0),"include"===o.credentials?a.withCredentials=!0:"omit"===o.credentials&&(a.withCredentials=!1),"responseType"in a&&e.blob&&(a.responseType="blob"),o.headers.forEach(function(t,e){a.setRequestHeader(e,t)}),a.send("undefined"===typeof o._bodyInit?null:o._bodyInit)})},t.fetch.polyfill=!0}function s(t){if("string"!==typeof t&&(t=String(t)),/[^a-z0-9\-#$%&'*+.\^_`|~]/i.test(t))throw new TypeError("Invalid character in header field name");return t.toLowerCase()}function u(t){return"string"!==typeof t&&(t=String(t)),t}function c(t){var n={next:function(){var e=t.shift();return{done:void 0===e,value:e}}};return e.iterable&&(n[Symbol.iterator]=function(){return n}),n}function l(t){this.map={},t instanceof l?t.forEach(function(t,e){this.append(e,t)},this):Array.isArray(t)?t.forEach(function(t){this.append(t[0],t[1])},this):t&&Object.getOwnPropertyNames(t).forEach(function(e){this.append(e,t[e])},this)}function h(t){if(t.bodyUsed)return Promise.reject(new TypeError("Already read"));t.bodyUsed=!0}function f(t){return new Promise(function(e,n){t.onload=function(){e(t.result)},t.onerror=function(){n(t.error)}})}function d(t){var e=new FileReader,n=f(e);return e.readAsArrayBuffer(t),n}function p(t){var e=new FileReader,n=f(e);return e.readAsText(t),n}function v(t){for(var e=new Uint8Array(t),n=new Array(e.length),i=0;i<e.length;i++)n[i]=String.fromCharCode(e[i]);return n.join("")}function m(t){if(t.slice)return t.slice(0);var e=new Uint8Array(t.byteLength);return e.set(new Uint8Array(t)),e.buffer}function g(){return this.bodyUsed=!1,this._initBody=function(t){if(this._bodyInit=t,t)if("string"===typeof t)this._bodyText=t;else if(e.blob&&Blob.prototype.isPrototypeOf(t))this._bodyBlob=t;else if(e.formData&&FormData.prototype.isPrototypeOf(t))this._bodyFormData=t;else if(e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t))this._bodyText=t.toString();else if(e.arrayBuffer&&e.blob&&i(t))this._bodyArrayBuffer=m(t.buffer),this._bodyInit=new Blob([this._bodyArrayBuffer]);else{if(!e.arrayBuffer||!ArrayBuffer.prototype.isPrototypeOf(t)&&!r(t))throw new Error("unsupported BodyInit type");this._bodyArrayBuffer=m(t)}else this._bodyText="";this.headers.get("content-type")||("string"===typeof t?this.headers.set("content-type","text/plain;charset=UTF-8"):this._bodyBlob&&this._bodyBlob.type?this.headers.set("content-type",this._bodyBlob.type):e.searchParams&&URLSearchParams.prototype.isPrototypeOf(t)&&this.headers.set("content-type","application/x-www-form-urlencoded;charset=UTF-8"))},e.blob&&(this.blob=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return Promise.resolve(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(new Blob([this._bodyArrayBuffer]));if(this._bodyFormData)throw new Error("could not read FormData body as blob");return Promise.resolve(new Blob([this._bodyText]))},this.arrayBuffer=function(){return this._bodyArrayBuffer?h(this)||Promise.resolve(this._bodyArrayBuffer):this.blob().then(d)}),this.text=function(){var t=h(this);if(t)return t;if(this._bodyBlob)return p(this._bodyBlob);if(this._bodyArrayBuffer)return Promise.resolve(v(this._bodyArrayBuffer));if(this._bodyFormData)throw new Error("could not read FormData body as text");return Promise.resolve(this._bodyText)},e.formData&&(this.formData=function(){return this.text().then(b)}),this.json=function(){return this.text().then(JSON.parse)},this}function _(t){var e=t.toUpperCase();return o.indexOf(e)>-1?e:t}function y(t,e){e=e||{};var n=e.body;if(t instanceof y){if(t.bodyUsed)throw new TypeError("Already read");this.url=t.url,this.credentials=t.credentials,e.headers||(this.headers=new l(t.headers)),this.method=t.method,this.mode=t.mode,n||null==t._bodyInit||(n=t._bodyInit,t.bodyUsed=!0)}else this.url=String(t);if(this.credentials=e.credentials||this.credentials||"omit",!e.headers&&this.headers||(this.headers=new l(e.headers)),this.method=_(e.method||this.method||"GET"),this.mode=e.mode||this.mode||null,this.referrer=null,("GET"===this.method||"HEAD"===this.method)&&n)throw new TypeError("Body not allowed for GET or HEAD requests");this._initBody(n)}function b(t){var e=new FormData;return t.trim().split("&").forEach(function(t){if(t){var n=t.split("="),i=n.shift().replace(/\+/g," "),r=n.join("=").replace(/\+/g," ");e.append(decodeURIComponent(i),decodeURIComponent(r))}}),e}function w(t){var e=new l,n=t.replace(/\r?\n[\t ]+/g," ");return n.split(/\r?\n/).forEach(function(t){var n=t.split(":"),i=n.shift().trim();if(i){var r=n.join(":").trim();e.append(i,r)}}),e}function k(t,e){e||(e={}),this.type="default",this.status=void 0===e.status?200:e.status,this.ok=this.status>=200&&this.status<300,this.statusText="statusText"in e?e.statusText:"OK",this.headers=new l(e.headers),this.url=e.url||"",this._initBody(t)}})("undefined"!==typeof self?self:this)},"534e":function(t,e,n){},"53c9":function(t,e,n){"use strict";var i=n("74d1"),r=n("3b03"),o=n("42d9"),a=n("ad20");t.exports=n("4ddf")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},"53e2":function(t,e,n){var i=n("07e3"),r=n("241e"),o=n("5559")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"53ff":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"54f1":function(t,e,n){n("e9df"),t.exports=n("02eb").Array.findIndex},"551c":function(t,e,n){"use strict";var i,r,o,a,s=n("2d00"),u=n("7726"),c=n("9b43"),l=n("23c6"),h=n("5ca1"),f=n("d3f4"),d=n("d8e8"),p=n("f605"),v=n("4a59"),m=n("ebd6"),g=n("1991").set,_=n("8079")(),y=n("a5b8"),b=n("9c80"),w=n("a25f"),k=n("bcaa"),E="Promise",C=u.TypeError,S=u.process,A=S&&S.versions,T=A&&A.v8||"",O=u[E],x="process"==l(S),P=function(){},I=r=y.f,N=!!function(){try{var t=O.resolve(1),e=(t.constructor={})[n("2b4c")("species")]=function(t){t(P,P)};return(x||"function"==typeof PromiseRejectionEvent)&&t.then(P)instanceof e&&0!==T.indexOf("6.6")&&-1===w.indexOf("Chrome/66")}catch(i){}}(),L=function(t){var e;return!(!f(t)||"function"!=typeof(e=t.then))&&e},D=function(t,e){if(!t._n){t._n=!0;var n=t._c;_(function(){var i=t._v,r=1==t._s,o=0,a=function(e){var n,o,a,s=r?e.ok:e.fail,u=e.resolve,c=e.reject,l=e.domain;try{s?(r||(2==t._h&&j(t),t._h=1),!0===s?n=i:(l&&l.enter(),n=s(i),l&&(l.exit(),a=!0)),n===e.promise?c(C("Promise-chain cycle")):(o=L(n))?o.call(n,u,c):u(n)):c(i)}catch(h){l&&!a&&l.exit(),c(h)}};while(n.length>o)a(n[o++]);t._c=[],t._n=!1,e&&!t._h&&R(t)})}},R=function(t){g.call(u,function(){var e,n,i,r=t._v,o=M(t);if(o&&(e=b(function(){x?S.emit("unhandledRejection",r,t):(n=u.onunhandledrejection)?n({promise:t,reason:r}):(i=u.console)&&i.error&&i.error("Unhandled promise rejection",r)}),t._h=x||M(t)?2:1),t._a=void 0,o&&e.e)throw e.v})},M=function(t){return 1!==t._h&&0===(t._a||t._c).length},j=function(t){g.call(u,function(){var e;x?S.emit("rejectionHandled",t):(e=u.onrejectionhandled)&&e({promise:t,reason:t._v})})},F=function(t){var e=this;e._d||(e._d=!0,e=e._w||e,e._v=t,e._s=2,e._a||(e._a=e._c.slice()),D(e,!0))},B=function(t){var e,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===t)throw C("Promise can't be resolved itself");(e=L(t))?_(function(){var i={_w:n,_d:!1};try{e.call(t,c(B,i,1),c(F,i,1))}catch(r){F.call(i,r)}}):(n._v=t,n._s=1,D(n,!1))}catch(i){F.call({_w:n,_d:!1},i)}}};N||(O=function(t){p(this,O,E,"_h"),d(t),i.call(this);try{t(c(B,this,1),c(F,this,1))}catch(e){F.call(this,e)}},i=function(t){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},i.prototype=n("dcbc")(O.prototype,{then:function(t,e){var n=I(m(this,O));return n.ok="function"!=typeof t||t,n.fail="function"==typeof e&&e,n.domain=x?S.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&D(this,!1),n.promise},catch:function(t){return this.then(void 0,t)}}),o=function(){var t=new i;this.promise=t,this.resolve=c(B,t,1),this.reject=c(F,t,1)},y.f=I=function(t){return t===O||t===a?new o(t):r(t)}),h(h.G+h.W+h.F*!N,{Promise:O}),n("7f20")(O,E),n("7a56")(E),a=n("8378")[E],h(h.S+h.F*!N,E,{reject:function(t){var e=I(this),n=e.reject;return n(t),e.promise}}),h(h.S+h.F*(s||!N),E,{resolve:function(t){return k(s&&this===a?O:this,t)}}),h(h.S+h.F*!(N&&n("5cc5")(function(t){O.all(t)["catch"](P)})),E,{all:function(t){var e=this,n=I(e),i=n.resolve,r=n.reject,o=b(function(){var n=[],o=0,a=1;v(t,!1,function(t){var s=o++,u=!1;n.push(void 0),a++,e.resolve(t).then(function(t){u||(u=!0,n[s]=t,--a||i(n))},r)}),--a||i(n)});return o.e&&r(o.v),n.promise},race:function(t){var e=this,n=I(e),i=n.reject,r=b(function(){v(t,!1,function(t){e.resolve(t).then(n.resolve,i)})});return r.e&&i(r.v),n.promise}})},5537:function(t,e,n){var i=n("8378"),r=n("7726"),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("2d00")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},5559:function(t,e,n){var i=n("dbdb")("keys"),r=n("62a0");t.exports=function(t){return i[t]||(i[t]=r(t))}},"56a9":function(t,e,n){var i=n("b10d"),r=n("f28b");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},"584a":function(t,e){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},"588e":function(t,e,n){"use strict";var i=n("c23d"),r=n.n(i),o="https://firebasestorage.googleapis.com",a="https://firebasestorage.googleapis.com",s="/v0",u="/v0",c="storageBucket",l=12e4,h=6e4,f=-9007199254740991,d=function(){function t(t,e){this.code_=v(t),this.message_="Firebase Storage: "+e,this.serverResponse_=null,this.name_="FirebaseError"}return t.prototype.codeProp=function(){return this.code},t.prototype.codeEquals=function(t){return v(t)===this.codeProp()},t.prototype.serverResponseProp=function(){return this.serverResponse_},t.prototype.setServerResponseProp=function(t){this.serverResponse_=t},Object.defineProperty(t.prototype,"name",{get:function(){return this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"code",{get:function(){return this.code_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"message",{get:function(){return this.message_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"serverResponse",{get:function(){return this.serverResponse_},enumerable:!0,configurable:!0}),t}(),p={UNKNOWN:"unknown",OBJECT_NOT_FOUND:"object-not-found",BUCKET_NOT_FOUND:"bucket-not-found",PROJECT_NOT_FOUND:"project-not-found",QUOTA_EXCEEDED:"quota-exceeded",UNAUTHENTICATED:"unauthenticated",UNAUTHORIZED:"unauthorized",RETRY_LIMIT_EXCEEDED:"retry-limit-exceeded",INVALID_CHECKSUM:"invalid-checksum",CANCELED:"canceled",INVALID_EVENT_NAME:"invalid-event-name",INVALID_URL:"invalid-url",INVALID_DEFAULT_BUCKET:"invalid-default-bucket",NO_DEFAULT_BUCKET:"no-default-bucket",CANNOT_SLICE_BLOB:"cannot-slice-blob",SERVER_FILE_WRONG_SIZE:"server-file-wrong-size",NO_DOWNLOAD_URL:"no-download-url",INVALID_ARGUMENT:"invalid-argument",INVALID_ARGUMENT_COUNT:"invalid-argument-count",APP_DELETED:"app-deleted",INVALID_ROOT_OPERATION:"invalid-root-operation",INVALID_FORMAT:"invalid-format",INTERNAL_ERROR:"internal-error"};function v(t){return"storage/"+t}function m(){var t="An unknown error occurred, please check the error payload for server response.";return new d(p.UNKNOWN,t)}function g(t){return new d(p.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function _(t){return new d(p.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function y(){var t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new d(p.UNAUTHENTICATED,t)}function b(t){return new d(p.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function w(){return new d(p.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function k(){return new d(p.CANCELED,"User canceled the upload/download.")}function E(t){return new d(p.INVALID_URL,"Invalid URL '"+t+"'.")}function C(t){return new d(p.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function S(){return new d(p.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function A(){return new d(p.SERVER_FILE_WRONG_SIZE,"Server recorded incorrect upload file size, please retry the upload.")}function T(){return new d(p.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function O(t,e,n){return new d(p.INVALID_ARGUMENT,"Invalid argument in `"+e+"` at index "+t+": "+n)}function x(t,e,n,i){var r,o;return t===e?(r=t,o=1===t?"argument":"arguments"):(r="between "+t+" and "+e,o="arguments"),new d(p.INVALID_ARGUMENT_COUNT,"Invalid argument count in `"+n+"`: Expected "+r+" "+o+", received "+i+".")}function P(){return new d(p.APP_DELETED,"The Firebase app was deleted.")}function I(t){return new d(p.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function N(t,e){return new d(p.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function L(t){throw new d(p.INTERNAL_ERROR,"Internal error: "+t)}var D={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"};function R(t){switch(t){case D.RAW:case D.BASE64:case D.BASE64URL:case D.DATA_URL:return;default:throw"Expected one of the event types: ["+D.RAW+", "+D.BASE64+", "+D.BASE64URL+", "+D.DATA_URL+"]."}}var M=function(){function t(t,e){this.data=t,this.contentType=e||null}return t}();function j(t,e){switch(t){case D.RAW:return new M(F(e));case D.BASE64:case D.BASE64URL:return new M(q(t,e));case D.DATA_URL:return new M($(e),V(e))}throw m()}function F(t){for(var e=[],n=0;n<t.length;n++){var i=t.charCodeAt(n);if(i<=127)e.push(i);else if(i<=2047)e.push(192|i>>6,128|63&i);else if(55296==(64512&i)){var r=n<t.length-1&&56320==(64512&t.charCodeAt(n+1));if(r){var o=i,a=t.charCodeAt(++n);i=65536|(1023&o)<<10|1023&a,e.push(240|i>>18,128|i>>12&63,128|i>>6&63,128|63&i)}else e.push(239,191,189)}else 56320==(64512&i)?e.push(239,191,189):e.push(224|i>>12,128|i>>6&63,128|63&i)}return new Uint8Array(e)}function B(t){var e;try{e=decodeURIComponent(t)}catch(n){throw N(D.DATA_URL,"Malformed data URL.")}return F(e)}function q(t,e){switch(t){case D.BASE64:var n=-1!==e.indexOf("-"),i=-1!==e.indexOf("_");if(n||i){var r=n?"-":"_";throw N(t,"Invalid character '"+r+"' found: is it base64url encoded?")}break;case D.BASE64URL:var o=-1!==e.indexOf("+"),a=-1!==e.indexOf("/");if(o||a){r=o?"+":"/";throw N(t,"Invalid character '"+r+"' found: is it base64 encoded?")}e=e.replace(/-/g,"+").replace(/_/g,"/");break}var s;try{s=atob(e)}catch(l){throw N(t,"Invalid character found")}for(var u=new Uint8Array(s.length),c=0;c<s.length;c++)u[c]=s.charCodeAt(c);return u}var U=function(){function t(t){this.base64=!1,this.contentType=null;var e=t.match(/^data:([^,]+)?,/);if(null===e)throw N(D.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");var n=e[1]||null;null!=n&&(this.base64=H(n,";base64"),this.contentType=this.base64?n.substring(0,n.length-";base64".length):n),this.rest=t.substring(t.indexOf(",")+1)}return t}();function $(t){var e=new U(t);return e.base64?q(D.BASE64,e.rest):B(e.rest)}function V(t){var e=new U(t);return e.contentType}function H(t,e){var n=t.length>=e.length;return!!n&&t.substring(t.length-e.length)===e}var W,z={STATE_CHANGED:"state_changed"},G={RUNNING:"running",PAUSING:"pausing",PAUSED:"paused",SUCCESS:"success",CANCELING:"canceling",CANCELED:"canceled",ERROR:"error"},K={RUNNING:"running",PAUSED:"paused",SUCCESS:"success",CANCELED:"canceled",ERROR:"error"};function Q(t){switch(t){case G.RUNNING:case G.PAUSING:case G.CANCELING:return K.RUNNING;case G.PAUSED:return K.PAUSED;case G.SUCCESS:return K.SUCCESS;case G.CANCELED:return K.CANCELED;case G.ERROR:return K.ERROR;default:return K.ERROR}}function X(t,e){return Object.prototype.hasOwnProperty.call(t,e)}function Y(t,e){for(var n in t)X(t,n)&&e(n,t[n])}function J(t){if(null==t)return{};var e={};return Y(t,function(t,n){e[t]=n}),e}function Z(t){return new Promise(t)}function tt(t){return Promise.resolve(t)}function et(t){return Promise.reject(t)}function nt(t){return null!=t}function it(t){return void 0!==t}function rt(t){return"function"===typeof t}function ot(t){return"object"===typeof t}function at(t){return ot(t)&&null!==t}function st(t){return ot(t)&&!Array.isArray(t)}function ut(t){return"string"===typeof t||t instanceof String}function ct(t){return"number"===typeof t||t instanceof Number}function lt(t){return ht()&&t instanceof Blob}function ht(){return"undefined"!==typeof Blob}(function(t){t[t["NO_ERROR"]=0]="NO_ERROR",t[t["NETWORK_ERROR"]=1]="NETWORK_ERROR",t[t["ABORT"]=2]="ABORT"})(W||(W={}));var ft=function(){function t(){var t=this;this.sent_=!1,this.xhr_=new XMLHttpRequest,this.errorCode_=W.NO_ERROR,this.sendPromise_=Z(function(e,n){t.xhr_.addEventListener("abort",function(n){t.errorCode_=W.ABORT,e(t)}),t.xhr_.addEventListener("error",function(n){t.errorCode_=W.NETWORK_ERROR,e(t)}),t.xhr_.addEventListener("load",function(n){e(t)})})}return t.prototype.send=function(t,e,n,i){var r=this;if(this.sent_)throw L("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(e,t,!0),nt(i)){var o=i;Y(o,function(t,e){r.xhr_.setRequestHeader(t,e.toString())})}return nt(n)?this.xhr_.send(n):this.xhr_.send(),this.sendPromise_},t.prototype.getErrorCode=function(){if(!this.sent_)throw L("cannot .getErrorCode() before sending");return this.errorCode_},t.prototype.getStatus=function(){if(!this.sent_)throw L("cannot .getStatus() before sending");try{return this.xhr_.status}catch(t){return-1}},t.prototype.getResponseText=function(){if(!this.sent_)throw L("cannot .getResponseText() before sending");return this.xhr_.responseText},t.prototype.abort=function(){this.xhr_.abort()},t.prototype.getResponseHeader=function(t){return this.xhr_.getResponseHeader(t)},t.prototype.addUploadProgressListener=function(t){nt(this.xhr_.upload)&&this.xhr_.upload.addEventListener("progress",t)},t.prototype.removeUploadProgressListener=function(t){nt(this.xhr_.upload)&&this.xhr_.upload.removeEventListener("progress",t)},t}(),dt=function(){function t(){}return t.prototype.createXhrIo=function(){return new ft},t}();function pt(t){var e;try{e=JSON.parse(t)}catch(n){return null}return st(e)?e:null}var vt=function(){function t(t,e){this.bucket=t,this.path_=e}return Object.defineProperty(t.prototype,"path",{get:function(){return this.path_},enumerable:!0,configurable:!0}),t.prototype.fullServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o/"+t(this.path)},t.prototype.bucketOnlyServerUrl=function(){var t=encodeURIComponent;return"/b/"+t(this.bucket)+"/o"},t.makeFromBucketSpec=function(e){var n;try{n=t.makeFromUrl(e)}catch(i){return new t(e,"")}if(""===n.path)return n;throw C(e)},t.makeFromUrl=function(e){var n=null,i="([A-Za-z0-9.\\-_]+)";function r(t){"/"===t.path.charAt(t.path.length-1)&&(t.path_=t.path_.slice(0,-1))}var o="(/(.*))?$",a="(/([^?#]*).*)?$",s=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function c(t){t.path_=decodeURIComponent(t.path)}for(var l="v[A-Za-z0-9_]+",h=new RegExp("^https?://firebasestorage\\.googleapis\\.com/"+l+"/b/"+i+"/o"+a,"i"),f={bucket:1,path:3},d=[{regex:s,indices:u,postModify:r},{regex:h,indices:f,postModify:c}],p=0;p<d.length;p++){var v=d[p],m=v.regex.exec(e);if(m){var g=m[v.indices.bucket],_=m[v.indices.path];_||(_=""),n=new t(g,_),v.postModify(n);break}}if(null==n)throw E(e);return n},t}();function mt(t){if(0==t.length)return null;var e=t.lastIndexOf("/");if(-1===e)return"";var n=t.slice(0,e);return n}function gt(t,e){var n=e.split("/").filter(function(t){return t.length>0}).join("/");return 0===t.length?n:t+"/"+n}function _t(t){var e=t.lastIndexOf("/",t.length-2);return-1===e?t:t.slice(e+1)}function yt(t){return o+s+t}function bt(t){return a+s+t}function wt(t){return o+u+t}function kt(t){var e=encodeURIComponent,n="?";return Y(t,function(t,i){var r=e(t)+"="+e(i);n=n+r+"&"}),n=n.slice(0,-1),n}function Et(t,e){return e}var Ct=function(){function t(t,e,n,i){this.server=t,this.local=e||t,this.writable=!!n,this.xform=i||Et}return t}(),St=null;function At(t){var e=ut(t);return!e||t.length<2?t:(t=t,_t(t))}function Tt(){if(St)return St;var t=[];function e(t,e){return At(e)}t.push(new Ct("bucket")),t.push(new Ct("generation")),t.push(new Ct("metageneration")),t.push(new Ct("name","fullPath",!0));var n=new Ct("name");function i(t,e){return nt(e)?+e:e}n.xform=e,t.push(n);var r=new Ct("size");return r.xform=i,t.push(r),t.push(new Ct("timeCreated")),t.push(new Ct("updated")),t.push(new Ct("md5Hash",null,!0)),t.push(new Ct("cacheControl",null,!0)),t.push(new Ct("contentDisposition",null,!0)),t.push(new Ct("contentEncoding",null,!0)),t.push(new Ct("contentLanguage",null,!0)),t.push(new Ct("contentType",null,!0)),t.push(new Ct("metadata","customMetadata",!0)),St=t,St}function Ot(t,e){function n(){var n=t["bucket"],i=t["fullPath"],r=new vt(n,i);return e.makeStorageReference(r)}Object.defineProperty(t,"ref",{get:n})}function xt(t,e,n){for(var i={type:"file"},r=n.length,o=0;o<r;o++){var a=n[o];i[a.local]=a.xform(i,e[a.server])}return Ot(i,t),i}function Pt(t,e,n){var i=pt(e);if(null===i)return null;var r=i;return xt(t,r,n)}function It(t,e){var n=pt(e);if(null===n)return null;if(!ut(n["downloadTokens"]))return null;var i=n["downloadTokens"];if(0===i.length)return null;var r=encodeURIComponent,o=i.split(","),a=o.map(function(e){var n=t["bucket"],i=t["fullPath"],o="/b/"+r(n)+"/o/"+r(i),a=bt(o),s=kt({alt:"media",token:e});return a+s});return a[0]}function Nt(t,e){for(var n={},i=e.length,r=0;r<i;r++){var o=e[r];o.writable&&(n[o.server]=t[o.local])}return JSON.stringify(n)}function Lt(t){var e=t&&ot(t);if(!e)throw"Expected Metadata object.";for(var n in t){var i=t[n];if("customMetadata"===n){if(!ot(i))throw"Expected object for 'customMetadata' mapping."}else if(at(i))throw"Mapping for '"+n+"' cannot be an object."}}function Dt(t,e,n){for(var i=e.length,r=e.length,o=0;o<e.length;o++)if(e[o].optional){i=o;break}var a=i<=n.length&&n.length<=r;if(!a)throw x(i,r,t,n.length);for(o=0;o<n.length;o++)try{e[o].validator(n[o])}catch(s){throw s instanceof Error?O(o,t,s.message):O(o,t,s)}}var Rt=function(){function t(t,e){var n=this;this.validator=function(e){n.optional&&!it(e)||t(e)},this.optional=!!e}return t}();function Mt(t,e){return function(n){t(n),e(n)}}function jt(t,e){function n(t){if(!ut(t))throw"Expected string."}var i;return i=t?Mt(n,t):n,new Rt(i,e)}function Ft(){function t(t){var e=t instanceof Uint8Array||t instanceof ArrayBuffer||ht()&&t instanceof Blob;if(!e)throw"Expected Blob or File."}return new Rt(t)}function Bt(t){return new Rt(Lt,t)}function qt(){function t(t){var e=ct(t)&&t>=0;if(!e)throw"Expected a number 0 or greater."}return new Rt(t)}function Ut(t,e){function n(e){var n=null===e||nt(e)&&e instanceof Object;if(!n)throw"Expected an Object.";void 0!==t&&null!==t&&t(e)}return new Rt(n,e)}function $t(t){function e(t){var e=null===t||rt(t);if(!e)throw"Expected a Function."}return new Rt(e,t)}function Vt(){return"undefined"!==typeof BlobBuilder?BlobBuilder:"undefined"!==typeof WebKitBlobBuilder?WebKitBlobBuilder:void 0}function Ht(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];var n=Vt();if(void 0!==n){for(var i=new n,r=0;r<t.length;r++)i.append(t[r]);return i.getBlob()}if(ht())return new Blob(t);throw Error("This browser doesn't seem to support creating Blobs")}function Wt(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}var zt=function(){function t(t,e){var n=0,i="";lt(t)?(this.data_=t,n=t.size,i=t.type):t instanceof ArrayBuffer?(e?this.data_=new Uint8Array(t):(this.data_=new Uint8Array(t.byteLength),this.data_.set(new Uint8Array(t))),n=this.data_.length):t instanceof Uint8Array&&(e?this.data_=t:(this.data_=new Uint8Array(t.length),this.data_.set(t)),n=t.length),this.size_=n,this.type_=i}return t.prototype.size=function(){return this.size_},t.prototype.type=function(){return this.type_},t.prototype.slice=function(e,n){if(lt(this.data_)){var i=this.data_,r=Wt(i,e,n);return null===r?null:new t(r)}var o=new Uint8Array(this.data_.buffer,e,n-e);return new t(o,!0)},t.getBlob=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];if(ht()){var i=e.map(function(e){return e instanceof t?e.data_:e});return new t(Ht.apply(null,i))}var r=e.map(function(t){return ut(t)?j(D.RAW,t).data:t.data_}),o=0;r.forEach(function(t){o+=t.byteLength});var a=new Uint8Array(o),s=0;return r.forEach(function(t){for(var e=0;e<t.length;e++)a[s++]=t[e]}),new t(a,!0)},t.prototype.uploadData=function(){return this.data_},t}();function Gt(t,e){return-1!==t.indexOf(e)}function Kt(t){return Array.prototype.slice.call(t)}function Qt(t,e){var n=t.indexOf(e);-1!==n&&t.splice(n,1)}var Xt=function(){function t(t,e,n,i){this.url=t,this.method=e,this.handler=n,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}return t}();function Yt(t){if(!t)throw m()}function Jt(t,e){function n(n,i){var r=Pt(t,i,e);return Yt(null!==r),r}return n}function Zt(t,e){function n(n,i){var r=Pt(t,i,e);return Yt(null!==r),It(r,i)}return n}function te(t){function e(e,n){var i;return i=401===e.getStatus()?y():402===e.getStatus()?_(t.bucket):403===e.getStatus()?b(t.path):n,i.setServerResponseProp(n.serverResponseProp()),i}return e}function ee(t){var e=te(t);function n(n,i){var r=e(n,i);return 404===n.getStatus()&&(r=g(t.path)),r.setServerResponseProp(i.serverResponseProp()),r}return n}function ne(t,e,n){var i=e.fullServerUrl(),r=yt(i),o="GET",a=t.maxOperationRetryTime(),s=new Xt(r,o,Jt(t,n),a);return s.errorHandler=ee(e),s}function ie(t,e,n){var i=e.fullServerUrl(),r=yt(i),o="GET",a=t.maxOperationRetryTime(),s=new Xt(r,o,Zt(t,n),a);return s.errorHandler=ee(e),s}function re(t,e,n,i){var r=e.fullServerUrl(),o=yt(r),a="PATCH",s=Nt(n,i),u={"Content-Type":"application/json; charset=utf-8"},c=t.maxOperationRetryTime(),l=new Xt(o,a,Jt(t,i),c);return l.headers=u,l.body=s,l.errorHandler=ee(e),l}function oe(t,e){var n=e.fullServerUrl(),i=yt(n),r="DELETE",o=t.maxOperationRetryTime();function a(t,e){}var s=new Xt(i,r,a,o);return s.successCodes=[200,204],s.errorHandler=ee(e),s}function ae(t,e){return t&&t["contentType"]||e&&e.type()||"application/octet-stream"}function se(t,e,n){var i=J(n);return i["fullPath"]=t.path,i["size"]=e.size(),i["contentType"]||(i["contentType"]=ae(null,e)),i}function ue(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a={"X-Goog-Upload-Protocol":"multipart"};function s(){for(var t="",e=0;e<2;e++)t+=Math.random().toString().slice(2);return t}var u=s();a["Content-Type"]="multipart/related; boundary="+u;var c=se(e,i,r),l=Nt(c,n),h="--"+u+"\r\nContent-Type: application/json; charset=utf-8\r\n\r\n"+l+"\r\n--"+u+"\r\nContent-Type: "+c["contentType"]+"\r\n\r\n",f="\r\n--"+u+"--",d=zt.getBlob(h,i,f);if(null===d)throw S();var p={name:c["fullPath"]},v=wt(o),m="POST",g=t.maxUploadRetryTime(),_=new Xt(v,m,Jt(t,n),g);return _.urlParams=p,_.headers=a,_.body=d.uploadData(),_.errorHandler=te(e),_}var ce=function(){function t(t,e,n,i){this.current=t,this.total=e,this.finalized=!!n,this.metadata=i||null}return t}();function le(t,e){var n;try{n=t.getResponseHeader("X-Goog-Upload-Status")}catch(r){Yt(!1)}var i=e||["active"];return Yt(Gt(i,n)),n}function he(t,e,n,i,r){var o=e.bucketOnlyServerUrl(),a=se(e,i,r),s={name:a["fullPath"]},u=wt(o),c="POST",l={"X-Goog-Upload-Protocol":"resumable","X-Goog-Upload-Command":"start","X-Goog-Upload-Header-Content-Length":i.size(),"X-Goog-Upload-Header-Content-Type":a["contentType"],"Content-Type":"application/json; charset=utf-8"},h=Nt(a,n),f=t.maxUploadRetryTime();function d(t,e){var n;le(t);try{n=t.getResponseHeader("X-Goog-Upload-URL")}catch(i){Yt(!1)}return Yt(ut(n)),n}var p=new Xt(u,c,d,f);return p.urlParams=s,p.headers=l,p.body=h,p.errorHandler=te(e),p}function fe(t,e,n,i){var r={"X-Goog-Upload-Command":"query"};function o(t,e){var n,r=le(t,["active","final"]);try{n=t.getResponseHeader("X-Goog-Upload-Size-Received")}catch(a){Yt(!1)}var o=parseInt(n,10);return Yt(!isNaN(o)),new ce(o,i.size(),"final"===r)}var a="POST",s=t.maxUploadRetryTime(),u=new Xt(n,a,o,s);return u.headers=r,u.errorHandler=te(e),u}var de=262144;function pe(t,e,n,i,r,o,a,s){var u=new ce(0,0);if(a?(u.current=a.current,u.total=a.total):(u.current=0,u.total=i.size()),i.size()!==u.total)throw A();var c=u.total-u.current,l=c;r>0&&(l=Math.min(l,r));var h=u.current,f=h+l,d=l===c?"upload, finalize":"upload",p={"X-Goog-Upload-Command":d,"X-Goog-Upload-Offset":u.current},v=i.slice(h,f);if(null===v)throw S();function m(t,n){var r,a=le(t,["active","final"]),s=u.current+l,c=i.size();return r="final"===a?Jt(e,o)(t,n):null,new ce(s,c,"final"===a,r)}var g="POST",_=e.maxUploadRetryTime(),y=new Xt(n,g,m,_);return y.headers=p,y.body=v.uploadData(),y.progressCallback=s||null,y.errorHandler=te(t),y}var ve=function(){function t(t,e,n){var i=rt(t)||nt(e)||nt(n);if(i)this.next=t,this.error=e||null,this.complete=n||null;else{var r=t;this.next=r.next||null,this.error=r.error||null,this.complete=r.complete||null}}return t}(),me=function(){function t(t,e,n,i,r,o){this.bytesTransferred=t,this.totalBytes=e,this.state=n,this.metadata=i,this.task=r,this.ref=o}return t}();function ge(t){return function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];tt(!0).then(function(){t.apply(null,e)})}}var _e=function(){function t(t,e,n,i,r,o){void 0===o&&(o=null);var a=this;this.transferred_=0,this.needToFetchStatus_=!1,this.needToFetchMetadata_=!1,this.observers_=[],this.error_=null,this.uploadUrl_=null,this.request_=null,this.chunkMultiplier_=1,this.resolve_=null,this.reject_=null,this.ref_=t,this.authWrapper_=e,this.location_=n,this.blob_=r,this.metadata_=o,this.mappings_=i,this.resumable_=this.shouldDoResumable_(this.blob_),this.state_=G.RUNNING,this.errorHandler_=function(t){a.request_=null,a.chunkMultiplier_=1,t.codeEquals(p.CANCELED)?(a.needToFetchStatus_=!0,a.completeTransitions_()):(a.error_=t,a.transition_(G.ERROR))},this.metadataErrorHandler_=function(t){a.request_=null,t.codeEquals(p.CANCELED)?a.completeTransitions_():(a.error_=t,a.transition_(G.ERROR))},this.promise_=Z(function(t,e){a.resolve_=t,a.reject_=e,a.start_()}),this.promise_.then(null,function(){})}return t.prototype.makeProgressCallback_=function(){var t=this,e=this.transferred_;return function(n,i){t.updateProgress_(e+n)}},t.prototype.shouldDoResumable_=function(t){return t.size()>262144},t.prototype.start_=function(){this.state_===G.RUNNING&&null===this.request_&&(this.resumable_?null===this.uploadUrl_?this.createResumable_():this.needToFetchStatus_?this.fetchStatus_():this.needToFetchMetadata_?this.fetchMetadata_():this.continueUpload_():this.oneShotUpload_())},t.prototype.resolveToken_=function(t){var e=this;this.authWrapper_.getAuthToken().then(function(n){switch(e.state_){case G.RUNNING:t(n);break;case G.CANCELING:e.transition_(G.CANCELED);break;case G.PAUSING:e.transition_(G.PAUSED);break;default:}})},t.prototype.createResumable_=function(){var t=this;this.resolveToken_(function(e){var n=he(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.uploadUrl_=e,t.needToFetchStatus_=!1,t.completeTransitions_()},t.errorHandler_)})},t.prototype.fetchStatus_=function(){var t=this,e=this.uploadUrl_;this.resolveToken_(function(n){var i=fe(t.authWrapper_,t.location_,e,t.blob_),r=t.authWrapper_.makeRequest(i,n);t.request_=r,r.getPromise().then(function(e){e=e,t.request_=null,t.updateProgress_(e.current),t.needToFetchStatus_=!1,e.finalized&&(t.needToFetchMetadata_=!0),t.completeTransitions_()},t.errorHandler_)})},t.prototype.continueUpload_=function(){var t=this,e=de*this.chunkMultiplier_,n=new ce(this.transferred_,this.blob_.size()),i=this.uploadUrl_;this.resolveToken_(function(r){var o;try{o=pe(t.location_,t.authWrapper_,i,t.blob_,e,t.mappings_,n,t.makeProgressCallback_())}catch(s){return t.error_=s,void t.transition_(G.ERROR)}var a=t.authWrapper_.makeRequest(o,r);t.request_=a,a.getPromise().then(function(e){t.increaseMultiplier_(),t.request_=null,t.updateProgress_(e.current),e.finalized?(t.metadata_=e.metadata,t.transition_(G.SUCCESS)):t.completeTransitions_()},t.errorHandler_)})},t.prototype.increaseMultiplier_=function(){var t=de*this.chunkMultiplier_;t<33554432&&(this.chunkMultiplier_*=2)},t.prototype.fetchMetadata_=function(){var t=this;this.resolveToken_(function(e){var n=ne(t.authWrapper_,t.location_,t.mappings_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.transition_(G.SUCCESS)},t.metadataErrorHandler_)})},t.prototype.oneShotUpload_=function(){var t=this;this.resolveToken_(function(e){var n=ue(t.authWrapper_,t.location_,t.mappings_,t.blob_,t.metadata_),i=t.authWrapper_.makeRequest(n,e);t.request_=i,i.getPromise().then(function(e){t.request_=null,t.metadata_=e,t.updateProgress_(t.blob_.size()),t.transition_(G.SUCCESS)},t.errorHandler_)})},t.prototype.updateProgress_=function(t){var e=this.transferred_;this.transferred_=t,this.transferred_!==e&&this.notifyObservers_()},t.prototype.transition_=function(t){if(this.state_!==t)switch(t){case G.CANCELING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case G.PAUSING:this.state_=t,null!==this.request_&&this.request_.cancel();break;case G.RUNNING:var e=this.state_===G.PAUSED;this.state_=t,e&&(this.notifyObservers_(),this.start_());break;case G.PAUSED:this.state_=t,this.notifyObservers_();break;case G.CANCELED:this.error_=k(),this.state_=t,this.notifyObservers_();break;case G.ERROR:this.state_=t,this.notifyObservers_();break;case G.SUCCESS:this.state_=t,this.notifyObservers_();break}},t.prototype.completeTransitions_=function(){switch(this.state_){case G.PAUSING:this.transition_(G.PAUSED);break;case G.CANCELING:this.transition_(G.CANCELED);break;case G.RUNNING:this.start_();break;default:break}},Object.defineProperty(t.prototype,"snapshot",{get:function(){var t=Q(this.state_);return new me(this.transferred_,this.blob_.size(),t,this.metadata_,this,this.ref_)},enumerable:!0,configurable:!0}),t.prototype.on=function(t,e,n,i){function r(e){if(t!==z.STATE_CHANGED)throw"Expected one of the event types: ["+z.STATE_CHANGED+"]."}void 0===e&&(e=void 0),void 0===n&&(n=void 0),void 0===i&&(i=void 0);var o="Expected a function or an Object with one of `next`, `error`, `complete` properties.",a=$t(!0).validator,s=Ut(null,!0).validator;function u(t){try{return void a(t)}catch(n){}try{s(t);var e=it(t["next"])||it(t["error"])||it(t["complete"]);if(!e)throw"";return}catch(n){throw o}}var c=[jt(r),Ut(u,!0),$t(!0),$t(!0)];Dt("on",c,arguments);var l=this;function h(t){function e(e,n,r){null!==t&&Dt("on",t,arguments);var o=new ve(e,n,i);return l.addObserver_(o),function(){l.removeObserver_(o)}}return e}function f(t){if(null===t)throw o;u(t)}var d=[Ut(f),$t(!0),$t(!0)],p=!(it(e)||it(n)||it(i));return p?h(d):h(null)(e,n,i)},t.prototype.then=function(t,e){return this.promise_.then(t,e)},t.prototype.catch=function(t){return this.then(null,t)},t.prototype.addObserver_=function(t){this.observers_.push(t),this.notifyObserver_(t)},t.prototype.removeObserver_=function(t){Qt(this.observers_,t)},t.prototype.notifyObservers_=function(){var t=this;this.finishPromise_();var e=Kt(this.observers_);e.forEach(function(e){t.notifyObserver_(e)})},t.prototype.finishPromise_=function(){if(null!==this.resolve_){var t=!0;switch(Q(this.state_)){case K.SUCCESS:ge(this.resolve_.bind(null,this.snapshot))();break;case K.CANCELED:case K.ERROR:var e=this.reject_;ge(e.bind(null,this.error_))();break;default:t=!1;break}t&&(this.resolve_=null,this.reject_=null)}},t.prototype.notifyObserver_=function(t){var e=Q(this.state_);switch(e){case K.RUNNING:case K.PAUSED:null!==t.next&&ge(t.next.bind(t,this.snapshot))();break;case K.SUCCESS:null!==t.complete&&ge(t.complete.bind(t))();break;case K.CANCELED:case K.ERROR:null!==t.error&&ge(t.error.bind(t,this.error_))();break;default:null!==t.error&&ge(t.error.bind(t,this.error_))()}},t.prototype.resume=function(){Dt("resume",[],arguments);var t=this.state_===G.PAUSED||this.state_===G.PAUSING;return t&&this.transition_(G.RUNNING),t},t.prototype.pause=function(){Dt("pause",[],arguments);var t=this.state_===G.RUNNING;return t&&this.transition_(G.PAUSING),t},t.prototype.cancel=function(){Dt("cancel",[],arguments);var t=this.state_===G.RUNNING||this.state_===G.PAUSING;return t&&this.transition_(G.CANCELING),t},t}(),ye=function(){function t(t,e){this.authWrapper=t,this.location=e instanceof vt?e:vt.makeFromUrl(e)}return t.prototype.toString=function(){return Dt("toString",[],arguments),"gs://"+this.location.bucket+"/"+this.location.path},t.prototype.newRef=function(e,n){return new t(e,n)},t.prototype.mappings=function(){return Tt()},t.prototype.child=function(t){Dt("child",[jt()],arguments);var e=gt(this.location.path,t),n=new vt(this.location.bucket,e);return this.newRef(this.authWrapper,n)},Object.defineProperty(t.prototype,"parent",{get:function(){var t=mt(this.location.path);if(null===t)return null;var e=new vt(this.location.bucket,t);return this.newRef(this.authWrapper,e)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"root",{get:function(){var t=new vt(this.location.bucket,"");return this.newRef(this.authWrapper,t)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"bucket",{get:function(){return this.location.bucket},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"fullPath",{get:function(){return this.location.path},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return _t(this.location.path)},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"storage",{get:function(){return this.authWrapper.service()},enumerable:!0,configurable:!0}),t.prototype.put=function(t,e){return void 0===e&&(e=null),Dt("put",[Ft(),Bt(!0)],arguments),this.throwIfRoot_("put"),new _e(this,this.authWrapper,this.location,this.mappings(),new zt(t),e)},t.prototype.putString=function(t,e,n){void 0===e&&(e=D.RAW),Dt("putString",[jt(),jt(R,!0),Bt(!0)],arguments),this.throwIfRoot_("putString");var i=j(e,t),r=J(n);return!nt(r["contentType"])&&nt(i.contentType)&&(r["contentType"]=i.contentType),new _e(this,this.authWrapper,this.location,this.mappings(),new zt(i.data,!0),r)},t.prototype.delete=function(){Dt("delete",[],arguments),this.throwIfRoot_("delete");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=oe(t.authWrapper,t.location);return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.getMetadata=function(){Dt("getMetadata",[],arguments),this.throwIfRoot_("getMetadata");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=ne(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise()})},t.prototype.updateMetadata=function(t){Dt("updateMetadata",[Bt()],arguments),this.throwIfRoot_("updateMetadata");var e=this;return this.authWrapper.getAuthToken().then(function(n){var i=re(e.authWrapper,e.location,t,e.mappings());return e.authWrapper.makeRequest(i,n).getPromise()})},t.prototype.getDownloadURL=function(){Dt("getDownloadURL",[],arguments),this.throwIfRoot_("getDownloadURL");var t=this;return this.authWrapper.getAuthToken().then(function(e){var n=ie(t.authWrapper,t.location,t.mappings());return t.authWrapper.makeRequest(n,e).getPromise().then(function(t){if(null===t)throw T();return t})})},t.prototype.throwIfRoot_=function(t){if(""===this.location.path)throw I(t)},t}(),be=function(){function t(t){this.promise_=et(t)}return t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){void 0===t&&(t=!1)},t}(),we=function(){function t(){this.map_={},this.id_=f}return t.prototype.addRequest=function(t){var e=this.id_;this.id_++,this.map_[e]=t;var n=this;function i(){delete n.map_[e]}t.getPromise().then(i,i)},t.prototype.clear=function(){Y(this.map_,function(t,e){e&&e.cancel(!0)}),this.map_={}},t}(),ke=function(){function t(e,n,i,r,o){if(this.bucket_=null,this.deleted_=!1,this.app_=e,null!==this.app_){var a=this.app_.options;nt(a)&&(this.bucket_=t.extractBucket_(a))}this.storageRefMaker_=n,this.requestMaker_=i,this.pool_=o,this.service_=r,this.maxOperationRetryTime_=l,this.maxUploadRetryTime_=h,this.requestMap_=new we}return t.extractBucket_=function(t){var e=t[c]||null;if(null==e)return null;var n=vt.makeFromBucketSpec(e);return n.bucket},t.prototype.getAuthToken=function(){return null!==this.app_&&nt(this.app_.INTERNAL)&&nt(this.app_.INTERNAL.getToken)?this.app_.INTERNAL.getToken().then(function(t){return null!==t?t.accessToken:null},function(t){return null}):tt(null)},t.prototype.bucket=function(){if(this.deleted_)throw P();return this.bucket_},t.prototype.service=function(){return this.service_},t.prototype.makeStorageReference=function(t){return this.storageRefMaker_(this,t)},t.prototype.makeRequest=function(t,e){if(this.deleted_)return new be(P());var n=this.requestMaker_(t,e,this.pool_);return this.requestMap_.addRequest(n),n},t.prototype.deleteApp=function(){this.deleted_=!0,this.app_=null,this.requestMap_.clear()},t.prototype.maxUploadRetryTime=function(){return this.maxUploadRetryTime_},t.prototype.setMaxUploadRetryTime=function(t){this.maxUploadRetryTime_=t},t.prototype.maxOperationRetryTime=function(){return this.maxOperationRetryTime_},t.prototype.setMaxOperationRetryTime=function(t){this.maxOperationRetryTime_=t},t}();function Ee(t,e,n){var i=1,r=null,o=!1,a=0;function s(){return 2===a}var u=!1;function c(){u||(u=!0,e.apply(null,arguments))}function l(e){r=setTimeout(function(){r=null,t(h,s())},e)}function h(t){for(var e=[],n=1;n<arguments.length;n++)e[n-1]=arguments[n];if(!u)if(t)c.apply(null,arguments);else{var r,h=s()||o;if(h)c.apply(null,arguments);else i<64&&(i*=2),1===a?(a=2,r=0):r=1e3*(i+Math.random()),l(r)}}var f=!1;function d(t){f||(f=!0,u||(null!==r?(t||(a=2),clearTimeout(r),l(0)):t||(a=1)))}return l(0),setTimeout(function(){o=!0,d(!0)},n),d}function Ce(t){t(!1)}var Se=function(){function t(t,e,n,i,r,o,a,s,u,c,l){this.pendingXhr_=null,this.backoffId_=null,this.resolve_=null,this.reject_=null,this.canceled_=!1,this.appDelete_=!1,this.url_=t,this.method_=e,this.headers_=n,this.body_=i,this.successCodes_=r.slice(),this.additionalRetryCodes_=o.slice(),this.callback_=a,this.errorCallback_=s,this.progressCallback_=c,this.timeout_=u,this.pool_=l;var h=this;this.promise_=Z(function(t,e){h.resolve_=t,h.reject_=e,h.start_()})}return t.prototype.start_=function(){var t=this;function e(e,n){if(n)e(!1,new Ae(!1,null,!0));else{var i=t.pool_.createXhrIo();t.pendingXhr_=i,null!==t.progressCallback_&&i.addUploadProgressListener(r),i.send(t.url_,t.method_,t.body_,t.headers_).then(function(n){null!==t.progressCallback_&&n.removeUploadProgressListener(r),t.pendingXhr_=null,n=n;var i=n.getErrorCode()===W.NO_ERROR,o=n.getStatus();if(i&&!t.isRetryStatusCode_(o)){var a=Gt(t.successCodes_,o);e(!0,new Ae(a,n))}else{var s=n.getErrorCode()===W.ABORT;e(!1,new Ae(!1,null,s))}})}function r(e){var n=e.loaded,i=e.lengthComputable?e.total:-1;null!==t.progressCallback_&&t.progressCallback_(n,i)}}function n(e,n){var i=t.resolve_,r=t.reject_,o=n.xhr;if(n.wasSuccessCode)try{var a=t.callback_(o,o.getResponseText());it(a)?i(a):i()}catch(u){r(u)}else if(null!==o){var s=m();s.setServerResponseProp(o.getResponseText()),t.errorCallback_?r(t.errorCallback_(o,s)):r(s)}else if(n.canceled){s=t.appDelete_?P():k();r(s)}else{s=w();r(s)}}this.canceled_?n(!1,new Ae(!1,null,!0)):this.backoffId_=Ee(e,n,this.timeout_)},t.prototype.getPromise=function(){return this.promise_},t.prototype.cancel=function(t){this.canceled_=!0,this.appDelete_=t||!1,null!==this.backoffId_&&Ce(this.backoffId_),null!==this.pendingXhr_&&this.pendingXhr_.abort()},t.prototype.isRetryStatusCode_=function(t){var e=t>=500&&t<600,n=[408,429],i=Gt(n,t),r=Gt(this.additionalRetryCodes_,t);return e||i||r},t}(),Ae=function(){function t(t,e,n){this.wasSuccessCode=t,this.xhr=e,this.canceled=!!n}return t}();function Te(t,e){null!==e&&e.length>0&&(t["Authorization"]="Firebase "+e)}function Oe(t){var e="undefined"!==typeof r.a?r.a.SDK_VERSION:"AppManager";t["X-Firebase-Storage-Version"]="webjs/"+e}function xe(t,e,n){var i=kt(t.urlParams),r=t.url+i,o=J(t.headers);return Te(o,e),Oe(o),new Se(r,t.method,o,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,n)}var Pe=function(){function t(t,e,n){function i(t,e){return new ye(t,e)}if(this.bucket_=null,this.authWrapper_=new ke(t,i,xe,this,e),this.app_=t,null!=n)this.bucket_=vt.makeFromBucketSpec(n);else{var r=this.authWrapper_.bucket();null!=r&&(this.bucket_=new vt(r,""))}this.internals_=new Ie(this)}return t.prototype.ref=function(t){function e(t){if(/^[A-Za-z]+:\/\//.test(t))throw"Expected child path but got a URL, use refFromURL instead."}if(Dt("ref",[jt(e,!0)],arguments),null==this.bucket_)throw new Error("No Storage Bucket defined in Firebase Options.");var n=new ye(this.authWrapper_,this.bucket_);return null!=t?n.child(t):n},t.prototype.refFromURL=function(t){function e(t){if(!/^[A-Za-z]+:\/\//.test(t))throw"Expected full URL but got a child path, use ref instead.";try{vt.makeFromUrl(t)}catch(e){throw"Expected valid full URL but got an invalid one."}}return Dt("refFromURL",[jt(e,!1)],arguments),new ye(this.authWrapper_,t)},Object.defineProperty(t.prototype,"maxUploadRetryTime",{get:function(){return this.authWrapper_.maxUploadRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxUploadRetryTime=function(t){Dt("setMaxUploadRetryTime",[qt()],arguments),this.authWrapper_.setMaxUploadRetryTime(t)},Object.defineProperty(t.prototype,"maxOperationRetryTime",{get:function(){return this.authWrapper_.maxOperationRetryTime()},enumerable:!0,configurable:!0}),t.prototype.setMaxOperationRetryTime=function(t){Dt("setMaxOperationRetryTime",[qt()],arguments),this.authWrapper_.setMaxOperationRetryTime(t)},Object.defineProperty(t.prototype,"app",{get:function(){return this.app_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"INTERNAL",{get:function(){return this.internals_},enumerable:!0,configurable:!0}),t}(),Ie=function(){function t(t){this.service_=t}return t.prototype.delete=function(){return this.service_.authWrapper_.deleteApp(),tt(void 0)},t}(),Ne="storage";function Le(t,e,n){return new Pe(t,new dt,n)}function De(t){var e={TaskState:K,TaskEvent:z,StringFormat:D,Storage:Pe,Reference:ye};t.INTERNAL.registerService(Ne,Le,e,void 0,!0)}De(r.a)},"59ca":function(t,e,n){"use strict";function i(t){return t&&"object"===typeof t&&"default"in t?t["default"]:t}n("95c6");var r=i(n("c23d"));t.exports=r},"5b4e":function(t,e,n){var i=n("36c3"),r=n("b447"),o=n("0fc9");t.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},"5be3":function(t,e,n){n("2813"),t.exports=n("02eb").String.startsWith},"5ca1":function(t,e,n){var i=n("7726"),r=n("8378"),o=n("32e9"),a=n("2aba"),s=n("9b43"),u="prototype",c=function(t,e,n){var l,h,f,d,p=t&c.F,v=t&c.G,m=t&c.S,g=t&c.P,_=t&c.B,y=v?i:m?i[e]||(i[e]={}):(i[e]||{})[u],b=v?r:r[e]||(r[e]={}),w=b[u]||(b[u]={});for(l in v&&(n=e),n)h=!p&&y&&void 0!==y[l],f=(h?y:n)[l],d=_&&h?s(f,i):g&&"function"==typeof f?s(Function.call,f):f,y&&a(y,l,f,t&c.U),b[l]!=f&&o(b,l,d),g&&w[l]!=f&&(w[l]=f)};i.core=r,c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"5cc5":function(t,e,n){var i=n("2b4c")("iterator"),r=!1;try{var o=[7][i]();o["return"]=function(){r=!0},Array.from(o,function(){throw 2})}catch(a){}t.exports=function(t,e){if(!e&&!r)return!1;var n=!1;try{var o=[7],s=o[i]();s.next=function(){return{done:n=!0}},o[i]=function(){return s},t(o)}catch(a){}return n}},"5d58":function(t,e,n){t.exports=n("d8d6")},"5d6b":function(t,e,n){var i=n("e53d").parseInt,r=n("a1ce").trim,o=n("e692"),a=/^[-+]?0[xX]/;t.exports=8!==i(o+"08")||22!==i(o+"0x16")?function(t,e){var n=r(String(t),3);return i(n,e>>>0||(a.test(n)?16:10))}:i},"5dbc":function(t,e,n){var i=n("d3f4"),r=n("8b97").set;t.exports=function(t,e,n){var o,a=e.constructor;return a!==n&&"function"==typeof a&&(o=a.prototype)!==n.prototype&&i(o)&&r&&r(t,o),t}},"5f1b":function(t,e,n){"use strict";var i=n("23c6"),r=RegExp.prototype.exec;t.exports=function(t,e){var n=t.exec;if("function"===typeof n){var o=n.call(t,e);if("object"!==typeof o)throw new TypeError("RegExp exec method returned something other than an Object or null");return o}if("RegExp"!==i(t))throw new TypeError("RegExp#exec called on incompatible receiver");return r.call(t,e)}},"613b":function(t,e,n){var i=n("5537")("keys"),r=n("ca5a");t.exports=function(t){return i[t]||(i[t]=r(t))}},"626a":function(t,e,n){var i=n("2d95");t.exports=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==i(t)?t.split(""):Object(t)}},"62a0":function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},"63b6":function(t,e,n){var i=n("e53d"),r=n("584a"),o=n("d864"),a=n("35e8"),s=n("07e3"),u="prototype",c=function(t,e,n){var l,h,f,d=t&c.F,p=t&c.G,v=t&c.S,m=t&c.P,g=t&c.B,_=t&c.W,y=p?r:r[e]||(r[e]={}),b=y[u],w=p?i:v?i[e]:(i[e]||{})[u];for(l in p&&(n=e),n)h=!d&&w&&void 0!==w[l],h&&s(y,l)||(f=h?w[l]:n[l],y[l]=p&&"function"!=typeof w[l]?n[l]:g&&h?o(f,i):_&&w[l]==f?function(t){var e=function(e,n,i){if(this instanceof t){switch(arguments.length){case 0:return new t;case 1:return new t(e);case 2:return new t(e,n)}return new t(e,n,i)}return t.apply(this,arguments)};return e[u]=t[u],e}(f):m&&"function"==typeof f?o(Function.call,f):f,m&&((y.virtual||(y.virtual={}))[l]=f,t&c.R&&b&&!b[l]&&a(b,l,f)))};c.F=1,c.G=2,c.S=4,c.P=8,c.B=16,c.W=32,c.U=64,c.R=128,t.exports=c},"649c":function(t,e,n){"use strict";const i=function(t,e,n){const i=r({},n);return i[t]=e,i},r=Object.assign||function(t){for(var e=1;e<arguments.length;e+=1){var n=arguments[e];for(var i in n)t[i]=n[i]}return t};function o(t){return Object.keys(t).reduce(function(e,n){return i(n,{isRunning:!1,time:t[n].time||0,instance:null},e)},{})}function a(t){return t?setInterval:setTimeout}function s(t){return t?clearInterval:clearTimeout}function u(t,e){return a(t.repeat)(function(){e.$emit("timer-tick:"+t.name),t.callback()},t.time)}function c(t,e){return{name:t.name,time:t.time||0,repeat:"repeat"in t&&t.repeat,immediate:"immediate"in t&&t.immediate,autostart:"autostart"in t&&t.autostart,isSwitchTab:"isSwitchTab"in t&&t.isSwitchTab,callback:t.callback&&t.callback.bind(e)||e[t.name]}}function l(t,e){return Array.isArray(t)?t.reduce(function(t,n){return i(n.name,c(n,e),t)},{}):Object.keys(t).reduce(function(n,r){return i(r,c(i("name",r,t[r]),e),n)},{})}var h={data:function(){return this.$options.timers?(this.$options.timers=l(this.$options.timers,this),{timers:o(this.$options.timers)}):{}},created:function(){if(this.$options.timers){var t=this,e=t.timers,n=t.$options.timers;t.$timer={start:function(r){e[r].isRunning||(e[r].isRunning=!0,e[r].instance=u(i("time",e[r].time,n[r]),t),n[r].immediate&&(t.$emit("timer-tick:"+r),n[r].callback()),t.$emit("timer-start:"+r))},stop:function(i){e[i].isRunning&&(s(n[i].repeat)(e[i].instance),e[i].isRunning=!1,t.$emit("timer-stop:"+i))},restart:function(n){this.stop(n),this.start(n),e[n].isRunning&&t.$emit("timer-restart:"+n)}}}},mounted:function(){if(this.$options.timers){var t=this,e=t.$options.timers;Object.keys(e).forEach(function(n){e[n].autostart&&t.$timer.start(n)})}},activated:function(){if(this.$options.timers){var t=this,e=t.timers,n=t.$options.timers;Object.keys(n).forEach(function(i){n[i].isSwitchTab&&e[i].instance&&t.$timer.start(i)})}},deactivated:function(){if(this.$options.timers){var t=this,e=t.timers,n=t.$options.timers;Object.keys(n).forEach(function(i){n[i].isSwitchTab&&e[i].instance&&t.$timer.stop(i)})}},beforeDestroy:function(){if(this.$options.timers){var t=this;Object.keys(t.$options.timers).forEach(function(e){t.$timer.stop(e)})}}};e["a"]=function(t){t.config.optionMergeStrategies.timers=t.config.optionMergeStrategies.methods,t.mixin(h)}},6619:function(t,e,n){n("bb4d")("observable")},"669d":function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},"66ce":function(t,e,n){"use strict";n("3523")},6718:function(t,e,n){var i=n("e53d"),r=n("584a"),o=n("b8e3"),a=n("ccb9"),s=n("d9f6").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},"67bb":function(t,e,n){t.exports=n("f921")},6821:function(t,e,n){var i=n("626a"),r=n("be13");t.exports=function(t){return i(r(t))}},"69a0":function(t,e,n){(function(e){t.exports=e()})(function(t){"use strict";var e=["0","1","2","3","4","5","6","7","8","9","a","b","c","d","e","f"];function n(t,e){var n=t[0],i=t[1],r=t[2],o=t[3];n+=(i&r|~i&o)+e[0]-680876936|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[1]-389564586|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[2]+606105819|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[3]-1044525330|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[4]-176418897|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[5]+1200080426|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[6]-1473231341|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[7]-45705983|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[8]+1770035416|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[9]-1958414417|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[10]-42063|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[11]-1990404162|0,i=(i<<22|i>>>10)+r|0,n+=(i&r|~i&o)+e[12]+1804603682|0,n=(n<<7|n>>>25)+i|0,o+=(n&i|~n&r)+e[13]-40341101|0,o=(o<<12|o>>>20)+n|0,r+=(o&n|~o&i)+e[14]-1502002290|0,r=(r<<17|r>>>15)+o|0,i+=(r&o|~r&n)+e[15]+1236535329|0,i=(i<<22|i>>>10)+r|0,n+=(i&o|r&~o)+e[1]-165796510|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[6]-1069501632|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[11]+643717713|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[0]-373897302|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[5]-701558691|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[10]+38016083|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[15]-660478335|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[4]-405537848|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[9]+568446438|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[14]-1019803690|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[3]-187363961|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[8]+1163531501|0,i=(i<<20|i>>>12)+r|0,n+=(i&o|r&~o)+e[13]-1444681467|0,n=(n<<5|n>>>27)+i|0,o+=(n&r|i&~r)+e[2]-51403784|0,o=(o<<9|o>>>23)+n|0,r+=(o&i|n&~i)+e[7]+1735328473|0,r=(r<<14|r>>>18)+o|0,i+=(r&n|o&~n)+e[12]-1926607734|0,i=(i<<20|i>>>12)+r|0,n+=(i^r^o)+e[5]-378558|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[8]-2022574463|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[11]+1839030562|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[14]-35309556|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[1]-1530992060|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[4]+1272893353|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[7]-155497632|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[10]-1094730640|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[13]+681279174|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[0]-358537222|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[3]-722521979|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[6]+76029189|0,i=(i<<23|i>>>9)+r|0,n+=(i^r^o)+e[9]-640364487|0,n=(n<<4|n>>>28)+i|0,o+=(n^i^r)+e[12]-421815835|0,o=(o<<11|o>>>21)+n|0,r+=(o^n^i)+e[15]+530742520|0,r=(r<<16|r>>>16)+o|0,i+=(r^o^n)+e[2]-995338651|0,i=(i<<23|i>>>9)+r|0,n+=(r^(i|~o))+e[0]-198630844|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[7]+1126891415|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[14]-1416354905|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[5]-57434055|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[12]+1700485571|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[3]-1894986606|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[10]-1051523|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[1]-2054922799|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[8]+1873313359|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[15]-30611744|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[6]-1560198380|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[13]+1309151649|0,i=(i<<21|i>>>11)+r|0,n+=(r^(i|~o))+e[4]-145523070|0,n=(n<<6|n>>>26)+i|0,o+=(i^(n|~r))+e[11]-1120210379|0,o=(o<<10|o>>>22)+n|0,r+=(n^(o|~i))+e[2]+718787259|0,r=(r<<15|r>>>17)+o|0,i+=(o^(r|~n))+e[9]-343485551|0,i=(i<<21|i>>>11)+r|0,t[0]=n+t[0]|0,t[1]=i+t[1]|0,t[2]=r+t[2]|0,t[3]=o+t[3]|0}function i(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t.charCodeAt(e)+(t.charCodeAt(e+1)<<8)+(t.charCodeAt(e+2)<<16)+(t.charCodeAt(e+3)<<24);return n}function r(t){var e,n=[];for(e=0;e<64;e+=4)n[e>>2]=t[e]+(t[e+1]<<8)+(t[e+2]<<16)+(t[e+3]<<24);return n}function o(t){var e,r,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,i(t.substring(e-64,e)));for(t=t.substring(e-64),r=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<r;e+=1)o[e>>2]|=t.charCodeAt(e)<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(l,o),e=0;e<16;e+=1)o[e]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}function a(t){var e,i,o,a,s,u,c=t.length,l=[1732584193,-271733879,-1732584194,271733878];for(e=64;e<=c;e+=64)n(l,r(t.subarray(e-64,e)));for(t=e-64<c?t.subarray(e-64):new Uint8Array(0),i=t.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],e=0;e<i;e+=1)o[e>>2]|=t[e]<<(e%4<<3);if(o[e>>2]|=128<<(e%4<<3),e>55)for(n(l,o),e=0;e<16;e+=1)o[e]=0;return a=8*c,a=a.toString(16).match(/(.*?)(.{0,8})$/),s=parseInt(a[2],16),u=parseInt(a[1],16)||0,o[14]=s,o[15]=u,n(l,o),l}function s(t){var n,i="";for(n=0;n<4;n+=1)i+=e[t>>8*n+4&15]+e[t>>8*n&15];return i}function u(t){var e;for(e=0;e<t.length;e+=1)t[e]=s(t[e]);return t.join("")}function c(t){return/[\u0080-\uFFFF]/.test(t)&&(t=unescape(encodeURIComponent(t))),t}function l(t,e){var n,i=t.length,r=new ArrayBuffer(i),o=new Uint8Array(r);for(n=0;n<i;n+=1)o[n]=t.charCodeAt(n);return e?o:r}function h(t){return String.fromCharCode.apply(null,new Uint8Array(t))}function f(t,e,n){var i=new Uint8Array(t.byteLength+e.byteLength);return i.set(new Uint8Array(t)),i.set(new Uint8Array(e),t.byteLength),n?i:i.buffer}function d(t){var e,n=[],i=t.length;for(e=0;e<i-1;e+=2)n.push(parseInt(t.substr(e,2),16));return String.fromCharCode.apply(String,n)}function p(){this.reset()}return"5d41402abc4b2a76b9719d911017c592"!==u(o("hello"))&&function(t,e){var n=(65535&t)+(65535&e),i=(t>>16)+(e>>16)+(n>>16);return i<<16|65535&n},"undefined"===typeof ArrayBuffer||ArrayBuffer.prototype.slice||function(){function e(t,e){return t=0|t||0,t<0?Math.max(t+e,0):Math.min(t,e)}ArrayBuffer.prototype.slice=function(n,i){var r,o,a,s,u=this.byteLength,c=e(n,u),l=u;return i!==t&&(l=e(i,u)),c>l?new ArrayBuffer(0):(r=l-c,o=new ArrayBuffer(r),a=new Uint8Array(o),s=new Uint8Array(this,c,r),a.set(s),o)}}(),p.prototype.append=function(t){return this.appendBinary(c(t)),this},p.prototype.appendBinary=function(t){this._buff+=t,this._length+=t.length;var e,r=this._buff.length;for(e=64;e<=r;e+=64)n(this._hash,i(this._buff.substring(e-64,e)));return this._buff=this._buff.substring(e-64),this},p.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i.charCodeAt(e)<<(e%4<<3);return this._finish(o,r),n=u(this._hash),t&&(n=d(n)),this.reset(),n},p.prototype.reset=function(){return this._buff="",this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.prototype.getState=function(){return{buff:this._buff,length:this._length,hash:this._hash}},p.prototype.setState=function(t){return this._buff=t.buff,this._length=t.length,this._hash=t.hash,this},p.prototype.destroy=function(){delete this._hash,delete this._buff,delete this._length},p.prototype._finish=function(t,e){var i,r,o,a=e;if(t[a>>2]|=128<<(a%4<<3),a>55)for(n(this._hash,t),a=0;a<16;a+=1)t[a]=0;i=8*this._length,i=i.toString(16).match(/(.*?)(.{0,8})$/),r=parseInt(i[2],16),o=parseInt(i[1],16)||0,t[14]=r,t[15]=o,n(this._hash,t)},p.hash=function(t,e){return p.hashBinary(c(t),e)},p.hashBinary=function(t,e){var n=o(t),i=u(n);return e?d(i):i},p.ArrayBuffer=function(){this.reset()},p.ArrayBuffer.prototype.append=function(t){var e,i=f(this._buff.buffer,t,!0),o=i.length;for(this._length+=t.byteLength,e=64;e<=o;e+=64)n(this._hash,r(i.subarray(e-64,e)));return this._buff=e-64<o?new Uint8Array(i.buffer.slice(e-64)):new Uint8Array(0),this},p.ArrayBuffer.prototype.end=function(t){var e,n,i=this._buff,r=i.length,o=[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0];for(e=0;e<r;e+=1)o[e>>2]|=i[e]<<(e%4<<3);return this._finish(o,r),n=u(this._hash),t&&(n=d(n)),this.reset(),n},p.ArrayBuffer.prototype.reset=function(){return this._buff=new Uint8Array(0),this._length=0,this._hash=[1732584193,-271733879,-1732584194,271733878],this},p.ArrayBuffer.prototype.getState=function(){var t=p.prototype.getState.call(this);return t.buff=h(t.buff),t},p.ArrayBuffer.prototype.setState=function(t){return t.buff=l(t.buff,!0),p.prototype.setState.call(this,t)},p.ArrayBuffer.prototype.destroy=p.prototype.destroy,p.ArrayBuffer.prototype._finish=p.prototype._finish,p.ArrayBuffer.hash=function(t,e){var n=a(new Uint8Array(t)),i=u(n);return e?d(i):i},p})},"69a8":function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},"69d3":function(t,e,n){n("6718")("asyncIterator")},"6a99":function(t,e,n){var i=n("d3f4");t.exports=function(t,e){if(!i(t))return t;var n,r;if(e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;if("function"==typeof(n=t.valueOf)&&!i(r=n.call(t)))return r;if(!e&&"function"==typeof(n=t.toString)&&!i(r=n.call(t)))return r;throw TypeError("Can't convert object to primitive value")}},"6abf":function(t,e,n){var i=n("e6f3"),r=n("1691").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},"6b4c":function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},"6b91":function(t,e,n){var i=n("8343"),r=n("8ffe"),o=n("89fc")("IE_PROTO"),a=Object.prototype;t.exports=Object.getPrototypeOf||function(t){return t=r(t),i(t,o)?t[o]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?a:null}},"6c1c":function(t,e,n){n("c367");for(var i=n("e53d"),r=n("35e8"),o=n("481b"),a=n("5168")("toStringTag"),s="CSSRuleList,CSSStyleDeclaration,CSSValueList,ClientRectList,DOMRectList,DOMStringList,DOMTokenList,DataTransferItemList,FileList,HTMLAllCollection,HTMLCollection,HTMLFormElement,HTMLSelectElement,MediaList,MimeTypeArray,NamedNodeMap,NodeList,PaintRequestList,Plugin,PluginArray,SVGLengthList,SVGNumberList,SVGPathSegList,SVGPointList,SVGStringList,SVGTransformList,SourceBufferList,StyleSheetList,TextTrackCueList,TextTrackList,TouchList".split(","),u=0;u<s.length;u++){var c=s[u],l=i[c],h=l&&l.prototype;h&&!h[a]&&r(h,a,c),o[c]=o.Array}},"6ca5":function(t,e,n){var i=n("50e6"),r=n("c46b"),o=n("ad20"),a=n("2223"),s=n("8343"),u=n("ab4f"),c=Object.getOwnPropertyDescriptor;e.f=n("948a")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},"6f28":function(t,e,n){"use strict";function i(t,e,n){var i=n[n.length-1];t===i.element&&(n.pop(),i=n[n.length-1]);var r=i.element,o=i.index;if(Array.isArray(r))r.push(t);else if(o===e.length-2){var a=e.pop();r[a]=t}else e.push(t)}e.stringify=function(t){var e=[];e.push({obj:t});var n,i,r,o,a,s,u,c,l,h,f,d="";while(n=e.pop())if(i=n.obj,r=n.prefix||"",o=n.val||"",d+=r,o)d+=o;else if("object"!==typeof i)d+="undefined"===typeof i?null:JSON.stringify(i);else if(null===i)d+="null";else if(Array.isArray(i)){for(e.push({val:"]"}),a=i.length-1;a>=0;a--)s=0===a?"":",",e.push({obj:i[a],prefix:s});e.push({val:"["})}else{for(c in u=[],i)i.hasOwnProperty(c)&&u.push(c);for(e.push({val:"}"}),a=u.length-1;a>=0;a--)l=u[a],h=i[l],f=a>0?",":"",f+=JSON.stringify(l)+":",e.push({obj:h,prefix:f});e.push({val:"{"})}return d},e.parse=function(t){var e,n,r,o,a,s,u,c,l,h=[],f=[],d=0;while(1)if(e=t[d++],"}"!==e&&"]"!==e&&"undefined"!==typeof e)switch(e){case" ":case"\t":case"\n":case":":case",":break;case"n":d+=3,i(null,h,f);break;case"t":d+=3,i(!0,h,f);break;case"f":d+=4,i(!1,h,f);break;case"0":case"1":case"2":case"3":case"4":case"5":case"6":case"7":case"8":case"9":case"-":n="",d--;while(1){if(r=t[d++],!/[\d\.\-e\+]/.test(r)){d--;break}n+=r}i(parseFloat(n),h,f);break;case'"':o="",a=void 0,s=0;while(1){if(u=t[d++],'"'===u&&("\\"!==a||s%2!==1))break;o+=u,a=u,"\\"===a?s++:s=0}i(JSON.parse('"'+o+'"'),h,f);break;case"[":c={element:[],index:h.length},h.push(c.element),f.push(c);break;case"{":l={element:{},index:h.length},h.push(l.element),f.push(l);break;default:throw new Error("unexpectedly reached end of input: "+e)}else{if(1===h.length)return h.pop();i(h.pop(),h,f)}}},"6ff2":function(t,e,n){var i=n("ad20"),r=n("7346"),o=n("8cf7");t.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},"71a1":function(t,e,n){(function(e){(function(e,n){t.exports=n()})(0,function(){"use strict";var t={},n=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return function(t){return"-"+e+"-"+G.hyphenate(t)}}(),i=function(t,e){return Object.keys(e).forEach(function(i){i in t.style?t.style[i]=e[i]:n(i)in t.style?t.style[n(i)]=e[i]:G.warn("No such style property: "+i)}),t};i.clear=function(t){for(var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"",i=e.split(/\s+/).reduce(function(t,e){return t.concat([G.hyphenate(e),n(e)])},[]),r=[],o=function(e){var n=t.style[e];(0===i.length||i.some(function(t){return 0===n.indexOf(t)}))&&r.push(n)},a=t.style.length-1;a>=0;a--)o(a);r.forEach(function(e){return t.style[e]=""}),""===t.getAttribute("style")&&t.removeAttribute("style")};var r="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},o=function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")},a=function(){function t(t,e){for(var n=0;n<e.length;n++){var i=e[n];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(t,i.key,i)}}return function(e,n,i){return n&&t(e.prototype,n),i&&t(e,i),e}}(),s=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},u=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},c=function t(e,n,i){null===e&&(e=Function.prototype);var r=Object.getOwnPropertyDescriptor(e,n);if(void 0===r){var o=Object.getPrototypeOf(e);return null===o?void 0:t(o,n,i)}if("value"in r)return r.value;var a=r.get;return void 0!==a?a.call(i):void 0},l=function(t,e){if("function"!==typeof e&&null!==e)throw new TypeError("Super expression must either be null or a function, not "+typeof e);t.prototype=Object.create(e&&e.prototype,{constructor:{value:t,enumerable:!1,writable:!0,configurable:!0}}),e&&(Object.setPrototypeOf?Object.setPrototypeOf(t,e):t.__proto__=e)},h=function(t,e){var n={};for(var i in t)e.indexOf(i)>=0||Object.prototype.hasOwnProperty.call(t,i)&&(n[i]=t[i]);return n},f=function(t,e){if(!t)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!e||"object"!==typeof e&&"function"!==typeof e?t:e},d=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},p=window.HTMLElement,v=function(){function t(){o(this,t),this._selectedPlatform=null,this._ignorePlatformSelect=!1}return a(t,[{key:"select",value:function(t){"string"===typeof t&&(this._selectedPlatform=t.trim().toLowerCase())}},{key:"_getSelectedPlatform",value:function(){return this._ignorePlatformSelect?null:this._selectedPlatform}},{key:"_runOnActualPlatform",value:function(t){this._ignorePlatformSelect=!0;var e=t();return this._ignorePlatformSelect=!1,e}},{key:"isWebView",value:function(){if("loading"===document.readyState||"uninitialized"==document.readyState)throw new Error("isWebView() method is available after dom contents loaded.");return!!(window.cordova||window.phonegap||window.PhoneGap)}},{key:"isIPhone",value:function(){return/iPhone/i.test(navigator.userAgent)}},{key:"isIPhoneX",value:function(){return this.isIPhone()&&(375===window.screen.width&&812===window.screen.height||812===window.screen.width&&375===window.screen.height||414===window.screen.width&&896===window.screen.height||896===window.screen.width&&414===window.screen.height)}},{key:"isIPad",value:function(){return/iPad/i.test(navigator.userAgent)}},{key:"isIPod",value:function(){return/iPod/i.test(navigator.userAgent)}},{key:"isIOS",value:function(t){return!t&&this._getSelectedPlatform()?"ios"===this._getSelectedPlatform():"object"!==("undefined"===typeof device?"undefined":r(device))||/browser/i.test(device.platform)?/iPhone|iPad|iPod/i.test(navigator.userAgent):/iOS/i.test(device.platform)}},{key:"isIOS7above",value:function(){if("object"===("undefined"===typeof device?"undefined":r(device))&&!/browser/i.test(device.platform))return/iOS/i.test(device.platform)&&parseInt(device.version.split(".")[0])>=7;if(/iPhone|iPad|iPod/i.test(navigator.userAgent)){var t=(navigator.userAgent.match(/\b[0-9]+_[0-9]+(?:_[0-9]+)?\b/)||[""])[0].replace(/_/g,".");return parseInt(t.split(".")[0])>=7}return!1}},{key:"isIOSSafari",value:function(){var t=window.navigator,e=t.userAgent;return!(!this.isIOS()||-1===e.indexOf("Safari")||-1===e.indexOf("Version")||t.standalone)}},{key:"isWKWebView",value:function(){var t=/constructor/i.test(p);return!(!(this.isIOS()&&window.webkit&&window.webkit.messageHandlers&&window.indexedDB)||t)}},{key:"isUIWebView",value:function(){return!(!this.isIOS()||this.isIOSSafari()||this.isWKWebView())}},{key:"isAndroidPhone",value:function(){return/Android/i.test(navigator.userAgent)&&/Mobile/i.test(navigator.userAgent)}},{key:"isAndroidTablet",value:function(){return/Android/i.test(navigator.userAgent)&&!/Mobile/i.test(navigator.userAgent)}},{key:"isAndroid",value:function(t){return!t&&this._getSelectedPlatform()?"android"===this._getSelectedPlatform():"object"!==("undefined"===typeof device?"undefined":r(device))||/browser/i.test(device.platform)?/Android/i.test(navigator.userAgent):/Android/i.test(device.platform)}},{key:"isWP",value:function(t){return!t&&this._getSelectedPlatform()?"wp"===this._getSelectedPlatform():"object"!==("undefined"===typeof device?"undefined":r(device))||/browser/i.test(device.platform)?/Windows Phone|IEMobile|WPDesktop/i.test(navigator.userAgent):/Win32NT|WinCE/i.test(device.platform)}},{key:"isBlackBerry",value:function(t){return!t&&this._getSelectedPlatform()?"blackberry"===this._getSelectedPlatform():"object"!==("undefined"===typeof device?"undefined":r(device))||/browser/i.test(device.platform)?/BlackBerry|RIM Tablet OS|BB10/i.test(navigator.userAgent):/BlackBerry/i.test(device.platform)}},{key:"isOpera",value:function(t){return!t&&this._getSelectedPlatform()?"opera"===this._getSelectedPlatform():!!window.opera||navigator.userAgent.indexOf(" OPR/")>=0}},{key:"isFirefox",value:function(t){return!t&&this._getSelectedPlatform()?"firefox"===this._getSelectedPlatform():"undefined"!==typeof InstallTrigger}},{key:"isSafari",value:function(t){return!t&&this._getSelectedPlatform()?"safari"===this._getSelectedPlatform():Object.prototype.toString.call(window.HTMLElement).indexOf("Constructor")>0||function(t){return"[object SafariRemoteNotification]"===t.toString()}(!window["safari"]||safari.pushNotification)}},{key:"isChrome",value:function(t){return!t&&this._getSelectedPlatform()?"chrome"===this._getSelectedPlatform():!!window.chrome&&!(window.opera||navigator.userAgent.indexOf(" OPR/")>=0)&&!(navigator.userAgent.indexOf(" Edge/")>=0)}},{key:"isIE",value:function(t){return!t&&this._getSelectedPlatform()?"ie"===this._getSelectedPlatform():!!document.documentMode}},{key:"isEdge",value:function(t){return!t&&this._getSelectedPlatform()?"edge"===this._getSelectedPlatform():navigator.userAgent.indexOf(" Edge/")>=0}},{key:"getMobileOS",value:function(){return this.isAndroid()?"android":this.isIOS()?"ios":this.isWP()?"wp":"other"}},{key:"getIOSDevice",value:function(){return this.isIPhone()?"iphone":this.isIPad()?"ipad":this.isIPod()?"ipod":"na"}}]),t}(),m=new v,g=function(t){return G.throw("In PageAttributeExpression: "+t)},_={_variables:{},defineVariable:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];"string"!==typeof t?g("Variable name must be a string"):"string"!==typeof e&&"function"!==typeof e?g("Variable value must be a string or a function"):this._variables.hasOwnProperty(t)&&!n&&g('"'+t+'" is already defined'),this._variables[t]=e},getVariable:function(t){return this._variables.hasOwnProperty(t)?this._variables[t]:null},removeVariable:function(t){delete this._variables[t]},getAllVariables:function(){return this._variables},_parsePart:function(t){var e=void 0,n=!1,i=0,r=[];0===t.length&&g("Unable to parse empty string");for(var o=0;o<t.length;o++)if(e=t.charAt(o),"$"===e&&"{"===t.charAt(o+1)){n&&g("Nested interpolation not supported");var a=t.substring(i,o);a.length>0&&r.push(t.substring(i,o)),i=o,n=!0}else if("}"===e){n||g("} must be preceeded by ${");var s=t.substring(i,o+1);s.length>0&&r.push(t.substring(i,o+1)),i=o+1,n=!1}return n&&g("Unterminated interpolation"),r.push(t.substring(i,t.length)),r},_replaceToken:function(t){var e=/^\${(.*?)}$/,n=t.match(e);if(!n)return t;var i=n[1].trim(),r=this.getVariable(i);if(null!==r){if("string"===typeof r)return r;var o=r();return"string"!==typeof o&&g("Must return a string"),o}g('Variable "'+i+'" does not exist')},_replaceTokens:function(t){return t.map(this._replaceToken.bind(this))},_parseExpression:function(t){return t.split(",").map(function(t){return t.trim()}).map(this._parsePart.bind(this)).map(this._replaceTokens.bind(this)).map(function(t){return t.join("")})},evaluate:function(t){return t?this._parseExpression(t):[]}};_.defineVariable("mobileOS",m.getMobileOS()),_.defineVariable("iOSDevice",m.getIOSDevice()),_.defineVariable("runtime",function(){return m.isWebView()?"cordova":"browser"});var y={config:{autoStatusBarFill:!0,animationsDisabled:!1,warningsDisabled:!1}};y.nullElement=window.document.createElement("div"),y.isEnabledAutoStatusBarFill=function(){return!!y.config.autoStatusBarFill},y.normalizePageHTML=function(t){return(""+t).trim()},y.waitDOMContentLoaded=function(t){if("loading"===window.document.readyState||"uninitialized"==window.document.readyState){var e=function e(){t(),window.document.removeEventListener("DOMContentLoaded",e)};window.document.addEventListener("DOMContentLoaded",e)}else setImmediate(t)},y.autoStatusBarFill=function(t){var e=function e(){y.shouldFillStatusBar()&&t(),document.removeEventListener("deviceready",e)};"object"===("undefined"===typeof device?"undefined":r(device))?document.addEventListener("deviceready",e):-1===["complete","interactive"].indexOf(document.readyState)?y.waitDOMContentLoaded(e):e()},y.shouldFillStatusBar=function(){return y.isEnabledAutoStatusBarFill()&&(m.isWebView()&&m.isIOS7above()&&!m.isIPhoneX()||document.body.querySelector(".ons-status-bar-mock.ios"))},y.templateStore={_storage:{},get:function(t){return y.templateStore._storage[t]||null},set:function(t,e){y.templateStore._storage[t]=e}},window.document.addEventListener("_templateloaded",function(t){"ons-template"===t.target.nodeName.toLowerCase()&&y.templateStore.set(t.templateId,t.template)},!1),y.waitDOMContentLoaded(function(){function t(t){for(var e=window.document.querySelectorAll(t),n=0;n<e.length;n++)y.templateStore.set(e[n].getAttribute("id"),e[n].textContent||e[n].content)}t('script[type="text/ons-template"]'),t('script[type="text/template"]'),t('script[type="text/ng-template"]'),t("template")}),y.getTemplateHTMLAsync=function(t){return new Promise(function(e,n){y.waitDOMContentLoaded(function(){var i=y.templateStore.get(t);if(i){if(i instanceof DocumentFragment)return e(i);var r="string"===typeof i?i:i[1];return e(y.normalizePageHTML(r))}var o=window.document.getElementById(t);if(o){var a=o.textContent||o.content;return e(a)}var s=new XMLHttpRequest;s.open("GET",t,!0),s.onload=function(){var i=s.responseText;if(s.status>=400&&s.status<600)n(i);else{var r=G.createFragment(i);G.arrayFrom(r.querySelectorAll("script")).forEach(function(t){var e=document.createElement("script");e.type=t.type||"text/javascript",e.appendChild(document.createTextNode(t.text||t.textContent||t.innerHTML)),t.parentNode.replaceChild(e,t)}),y.templateStore.set(t,r),e(r)}},s.onerror=function(){G.throw("Page template not found: "+t)},s.send(null)})})},y.getPageHTMLAsync=function(t){var e=_.evaluate(t),n=function t(n){return"string"!==typeof n?Promise.reject("Must specify a page."):y.getTemplateHTMLAsync(n).catch(function(n){return 0===e.length?Promise.reject(n):t(e.shift())})};return n(e.shift())};var b=function(){function t(e){o(this,t),this._animators=e.animators,this._baseClass=e.baseClass,this._baseClassName=e.baseClassName||e.baseClass.name,this._animation=e.defaultAnimation||"default",this._animationOptions=e.defaultAnimationOptions||{},this._animators[this._animation]||G.throw("No such animation: "+this._animation)}return a(t,[{key:"setAnimationOptions",value:function(t){this._animationOptions=t}},{key:"newAnimator",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=arguments[1],n=null;if(t.animation instanceof this._baseClass)return t.animation;var i=null;if("string"===typeof t.animation&&(i=this._animators[t.animation]),!i&&e)n=e;else{i=i||this._animators[this._animation];var r=G.extend({},this._animationOptions,t.animationOptions||{},y.config.animationsDisabled?{duration:0,delay:0}:{});n=new i(r),"function"===typeof n&&(n=new n(r))}return n instanceof this._baseClass||G.throw('"animator" is not an instance of '+this._baseClassName),n}}],[{key:"parseAnimationOptionsString",value:function(t){try{if("string"===typeof t){var e=G.animationOptionsParse(t);if("object"===("undefined"===typeof e?"undefined":r(e))&&null!==e)return e;console.error('"animation-options" attribute must be a JSON object string: '+t)}return{}}catch(n){return console.error('"animation-options" attribute must be a JSON object string: '+t),{}}}}]),t}(),w=!0,k={quiet:"material--flat",light:"material--flat",outline:"material--flat",cta:"","large--quiet":"material--flat large","large--cta":"large",noborder:"",tappable:""},E={android:function(t){var e=t.tagName.toLowerCase();if(!G.hasModifier(t,"material")){var n=t.getAttribute("modifier")||"",i=n.trim().split(/\s+/).map(function(t){return k.hasOwnProperty(t)?k[t]:t});i.unshift("material"),t.setAttribute("modifier",i.join(" ").trim())}var r=["ons-alert-dialog-button","ons-toolbar-button","ons-back-button","ons-button","ons-list-item","ons-fab","ons-speed-dial","ons-speed-dial-item","ons-tab"];-1===r.indexOf(e)||t.hasAttribute("ripple")||t.querySelector("ons-ripple")||("ons-list-item"===e?t.hasAttribute("tappable")&&(t.setAttribute("ripple",""),t.removeAttribute("tappable")):t.setAttribute("ripple",""))},ios:function(t){G.removeModifier(t,"material")&&(G.removeModifier(t,"material--flat")&&G.addModifier(t,G.removeModifier(t,"large")?"large--quiet":"quiet"),t.getAttribute("modifier")||t.removeAttribute("modifier")),t.hasAttribute("ripple")&&("ons-list-item"===t.tagName.toLowerCase()&&t.setAttribute("tappable",""),t.removeAttribute("ripple"))}},C={android:!0},S=function(t,e){if(w&&!t.hasAttribute("disable-auto-styling")){var n=m.getMobileOS();if(E.hasOwnProperty(n)&&(C.hasOwnProperty(n)||e))return n}return null},A=function(t,e){var n=S(t,e);n&&E[n](t)},T=function(t,e,n){return S(e,n)?t.split(/\s+/).map(function(t){return k.hasOwnProperty(t)?k[t]:t}).join(" "):t},O=function(t){if("android"===S(t)){var e=t.getAttribute("modifier")||"",n=T(e,t);if(/(^|\s+)material($|\s+)/i.test(e)||(n="material "+n),n!==e)return t.setAttribute("modifier",n.trim()),!0}return!1},x={isEnabled:function(){return w},enable:function(){return w=!0},disable:function(){return w=!1},prepare:A,mapModifier:T,getPlatform:S,restoreModifier:O},P=function(){function t(){o(this,t)}return a(t,null,[{key:"diff",value:function(e,n){e=o((""+e).trim()),n=o((""+n).trim());var i=Object.keys(e).reduce(function(t,e){return n[e]||t.push(e),t},[]),r=Object.keys(n).reduce(function(t,n){return e[n]||t.push(n),t},[]);return{added:r,removed:i};function o(e){var n={};return t.split(e).forEach(function(t){return n[t]=t}),n}}},{key:"applyDiffToClassList",value:function(t,e,n){t.added.map(function(t){return n.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.add(t)})}),t.removed.map(function(t){return n.replace(/\*/g,t)}).forEach(function(t){return t.split(/\s+/).forEach(function(t){return e.remove(t)})})}},{key:"applyDiffToElement",value:function(e,n,i){Object.keys(i).forEach(function(r){for(var o=!r||G.match(n,r)?[n]:Array.prototype.filter.call(n.querySelectorAll(r),function(t){return!G.findParent(t,n.tagName,function(t){return t===n})}),a=0;a<o.length;a++)t.applyDiffToClassList(e,o[a].classList,i[r])})}},{key:"onModifierChanged",value:function(e,n,i,r){t.applyDiffToElement(t.diff(e,n),i,r),x.restoreModifier(i)}},{key:"refresh",value:function(e,n){t.applyDiffToElement(t.diff("",e.getAttribute("modifier")||""),e,n)}},{key:"initModifier",value:function(e,n){var i=e.getAttribute("modifier");"string"===typeof i&&t.applyDiffToElement({removed:[],added:t.split(i)},e,n)}},{key:"split",value:function(t){return"string"!==typeof t?[]:t.trim().split(/ +/).filter(function(t){return""!==t})}},{key:"addModifier",value:function(e,n){if(e.hasAttribute("modifier")){var i=t.split(e.getAttribute("modifier"));-1==i.indexOf(n)&&(i.push(n),e.setAttribute("modifier",i.join(" ")))}else e.setAttribute("modifier",n)}},{key:"removeModifier",value:function(e,n){if(e.hasAttribute("modifier")){var i=t.split(e.getAttribute("modifier")),r=i.indexOf(n);-1!==r&&(i.splice(r,1),e.setAttribute("modifier",i.join(" ")))}}}]),t}(),I={_ready:!1,_domContentLoaded:!1,_onDOMContentLoaded:function(){I._domContentLoaded=!0,m.isWebView()?window.document.addEventListener("deviceready",function(){I._ready=!0},!1):I._ready=!0},addBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.addEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.addEventListener("backbutton",t,!1)})},removeBackButtonListener:function(t){if(!this._domContentLoaded)throw new Error("This method is available after DOMContentLoaded");this._ready?window.document.removeEventListener("backbutton",t,!1):window.document.addEventListener("deviceready",function(){window.document.removeEventListener("backbutton",t,!1)})}};window.addEventListener("DOMContentLoaded",function(){return I._onDOMContentLoaded()},!1);var N={_store:{},_genId:function(){var t=0;return function(){return t++}}(),set:function(t,e){t.dataset.deviceBackButtonHandlerId&&this.remove(t);var n=t.dataset.deviceBackButtonHandlerId=N._genId();this._store[n]=e},remove:function(t){t.dataset.deviceBackButtonHandlerId&&(delete this._store[t.dataset.deviceBackButtonHandlerId],delete t.dataset.deviceBackButtonHandlerId)},get:function(t){if(t.dataset.deviceBackButtonHandlerId){var e=t.dataset.deviceBackButtonHandlerId;if(!this._store[e])throw new Error;return this._store[e]}},has:function(t){if(!t.dataset)return!1;var e=t.dataset.deviceBackButtonHandlerId;return!!this._store[e]}},L=function(){function t(){o(this,t),this._isEnabled=!1,this._boundCallback=this._callback.bind(this)}return a(t,[{key:"enable",value:function(){this._isEnabled||(I.addBackButtonListener(this._boundCallback),this._isEnabled=!0)}},{key:"disable",value:function(){this._isEnabled&&(I.removeBackButtonListener(this._boundCallback),this._isEnabled=!1)}},{key:"fireDeviceBackButtonEvent",value:function(){var t=document.createEvent("Event");t.initEvent("backbutton",!0,!0),document.dispatchEvent(t)}},{key:"_callback",value:function(){this._dispatchDeviceBackButtonEvent()}},{key:"createHandler",value:function(t,e){if(!(t instanceof HTMLElement))throw new Error("element must be an instance of HTMLElement");if(!(e instanceof Function))throw new Error("callback must be an instance of Function");var n={_callback:e,_element:t,disable:function(){N.remove(t)},setListener:function(t){this._callback=t},enable:function(){N.set(t,this)},isEnabled:function(){return N.get(t)===this},destroy:function(){N.remove(t),this._callback=this._element=null}};return n.enable(),n}},{key:"_dispatchDeviceBackButtonEvent",value:function(){var t=this._captureTree(),e=this._findHandlerLeafElement(t),n=N.get(e);function i(t){return{_element:t,callParentHandler:function(){var t=this._element.parentNode;while(t){if(n=N.get(t),n)return n._callback(i(t));t=t.parentNode}}}}n._callback(i(e))}},{key:"_captureTree",value:function(){return t(document.body);function t(n){var i={element:n,children:Array.prototype.concat.apply([],e(n.children).map(function(e){if("none"===e.style.display||!1===e._isShown)return[];if(0===e.children.length&&!N.has(e))return[];var n=t(e);return 0!==n.children.length||N.has(n.element)?[n]:[]}))};if(!N.has(i.element))for(var r=0;r<i.children.length;r++){var o=i.children[r];if(N.has(o.element))return o}return i}function e(t){for(var e=[],n=0;n<t.length;n++)e.push(t[n]);return e}}},{key:"_findHandlerLeafElement",value:function(t){return e(t);function e(t){return 0===t.children.length?t.element:1===t.children.length?e(t.children[0]):t.children.map(function(t){return t.element}).reduce(function(t,e){if(!t)return e;var n=parseInt(window.getComputedStyle(t,"").zIndex,10),i=parseInt(window.getComputedStyle(e,"").zIndex,10);if(!isNaN(n)&&!isNaN(i))return n>i?t:e;throw new Error("Capturing backbutton-handler is failure.")},null)}}}]),t}(),D=new L;y.AnimatorFactory=b,y.ModifierUtil=P,y.dbbDispatcher=D;var R=function(t,e){return t.substr(0,e.length)===e},M=function(t,e){return t.substr(t.length-e.length,e.length)===e},j=function(t){return t.slice(1,-1)},F=function(t){return R(t,"{")&&M(t,"}")},B=function(t){return R(t,"[")&&M(t,"]")},q=function(t){return R(t,"'")&&M(t,"'")||R(t,'"')&&M(t,'"')},U=function(t,e,n){throw new Error("Unexpected token '"+t+"' at position "+(n.length-e.length-1)+" in string: '"+n+"'")},$=function(t,e,n){return"true"===t||"false"===t?"true"===t:q(t)?j(t):isNaN(t)?F(t)?H(j(t)):B(t)?W(j(t)):void U(t,e,n):+t},V=function(t){t=t.trim();var e=t.length;if(":"===t[0]||","===t[0])e=1;else if("{"===t[0]||"["===t[0]){for(var n=t.charCodeAt(0),i=1,r=1;r<t.length;r++)if(t.charCodeAt(r)===n)i++;else if(t.charCodeAt(r)===n+2&&(i--,0===i)){e=r+1;break}}else if("'"===t[0]||'"'===t[0]){for(var o=1;o<t.length;o++)if(t[o]===t[0]){e=o+1;break}}else for(var a=1;a<t.length;a++)if(-1!==[" ",",",":"].indexOf(t[a])){e=a;break}return t.slice(0,e)},H=function(t){var e=function(t){return/^[A-Z_$][A-Z0-9_$]*$/i.test(t)};t=t.trim();var n=t,i={},r=!0,o=void 0,a=void 0,s=void 0;while(t.length>0)if(a=s,s=V(t),t=t.slice(s.length,t.length).trim(),":"===s&&(!r||!a||","===a)||","===s&&r||":"!==s&&","!==s&&a&&","!==a&&":"!==a)U(s,t,n);else if(":"===s&&r&&a){if(a=q(a)?j(a):a,!e(a))throw new Error("Invalid key token '"+a+"' at position 0 in string: '"+n+"'");o=a,r=!1}else","===s&&!r&&a&&(i[o]=$(a,t,n),r=!0);return s&&(i[o]=$(s,t,n)),i},W=function(t){t=t.trim();var e=t,n=[],i=void 0,r=void 0;while(t.length>0)i=r,r=V(t),t=t.slice(r.length,t.length).trim(),","!==r||i&&","!==i?","===r&&n.push($(i,t,e)):U(r,t,e);return r&&(","!==r?n.push($(r,t,e)):U(r,t,e)),n},z=function(t){if(t=t.trim(),F(t))return H(j(t));if(B(t))return W(j(t));throw new Error("Provided string must be object or array like: "+t)},G={},K="[Onsen UI]";G.globals={fabOffset:0,errorPrefix:K,supportsPassive:!1},m._runOnActualPlatform(function(){G.globals.actualMobileOS=m.getMobileOS(),G.globals.isUIWebView=m.isUIWebView(),G.globals.isWKWebView=m.isWKWebView()});try{var Q=Object.defineProperty({},"passive",{get:function(){G.globals.supportsPassive=!0}});window.addEventListener("testPassive",null,Q),window.removeEventListener("testPassive",null,Q)}catch(tu){}G.addEventListener=function(t,e,n,i,r){t.addEventListener(e,n,G.globals.supportsPassive?i:(i||{}).capture)},G.removeEventListener=function(t,e,n,i,r){t.removeEventListener(e,n,G.globals.supportsPassive?i:(i||{}).capture)},G.prepareQuery=function(t){return t instanceof Function?t:function(e){return G.match(e,t)}},G.match=function(t,e){return(t.matches||t.webkitMatchesSelector||t.mozMatchesSelector||t.msMatchesSelector).call(t,e)},G.findChild=function(t,e){for(var n=G.prepareQuery(e),i=0;i<t.childNodes.length;i++){var r=t.childNodes[i];if(r.nodeType===Node.ELEMENT_NODE&&n(r))return r}return null},G.findParent=function(t,e,n){for(var i=G.prepareQuery(e),r=t.parentNode;;){if(!r||r===document||r instanceof DocumentFragment||n&&n(r))return null;if(i(r))return r;r=r.parentNode}},G.isAttached=function(t){return document.body.contains(t)},G.hasAnyComponentAsParent=function(t){while(t&&document.documentElement!==t)if(t=t.parentNode,t&&t.nodeName.toLowerCase().match(/(ons-navigator|ons-tabbar|ons-modal)/))return!0;return!1},G.getAllChildNodes=function(t){var e;return(e=[t]).concat.apply(e,d(Array.from(t.children).map(function(t){return G.getAllChildNodes(t)})))},G.isPageControl=function(t){return t.nodeName.match(/^ons-(navigator|splitter|tabbar|page)$/i)},G.propagateAction=function(t,e){for(var n=0;n<t.childNodes.length;n++){var i=t.childNodes[n];i[e]instanceof Function?i[e]():G.propagateAction(i,e)}},G.camelize=function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},G.hyphenate=function(t){return t.replace(/([a-zA-Z])([A-Z])/g,"$1-$2").toLowerCase()},G.create=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=t.split("."),r=document.createElement(n.shift()||"div");return n.length&&(r.className=n.join(" ")),i(r,e),r},G.createElement=function(t){var e=document.createElement("div");t instanceof DocumentFragment?e.appendChild(document.importNode(t,!0)):e.innerHTML=t.trim(),e.children.length>1&&G.throw("HTML template must contain a single root element");var n=e.children[0];return e.children[0].remove(),n},G.createFragment=function(t){var e=document.createElement("template");return e.innerHTML=t,document.importNode(e.content,!0)},G.extend=function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];for(var r=0;r<n.length;r++)if(n[r])for(var o=Object.keys(n[r]),a=0;a<o.length;a++){var s=o[a];t[s]=n[r][s]}return t},G.arrayFrom=function(t){return Array.prototype.slice.apply(t)},G.parseJSONObjectSafely=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};try{var n=JSON.parse(""+t);if("object"===("undefined"===typeof n?"undefined":r(n))&&null!==n)return n}catch(tu){return e}return e},G.findFromPath=function(t){t=t.split(".");var e,n=window;while(e=t.shift())n=n[e];return n},G.getTopPage=function(t){return t&&("ons-page"===t.tagName.toLowerCase()?t:t.topPage)||null},G.findToolbarPage=function(t){var e=G.getTopPage(t);if(e){if(e._canAnimateToolbar())return e;for(var n=0;n<e._contentElement.children.length;n++){var i=G.getTopPage(e._contentElement.children[n]);if(i&&!/ons-tabbar/i.test(e._contentElement.children[n].tagName))return G.findToolbarPage(i)}}return null},G.triggerElementEvent=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},i=new CustomEvent(e,{bubbles:!0,cancelable:!0,detail:n});return Object.keys(n).forEach(function(t){i[t]=n[t]}),t.dispatchEvent(i),i},G.hasModifier=function(t,e){return!!t.hasAttribute("modifier")&&RegExp("(^|\\s+)"+e+"($|\\s+)","i").test(t.getAttribute("modifier"))},G.addModifier=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n.autoStyle&&(e=x.mapModifier(e,t,n.forceAutoStyle)),!G.hasModifier(t,e)&&(t.setAttribute("modifier",((t.getAttribute("modifier")||"")+" "+e).trim()),!0)},G.removeModifier=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};if(n.autoStyle&&(e=x.mapModifier(e,t,n.forceAutoStyle)),!t.getAttribute("modifier")||!G.hasModifier(t,e))return!1;var i=t.getAttribute("modifier").split(/\s+/).filter(function(t){return t&&t!==e});return i.length?t.setAttribute("modifier",i.join(" ")):t.removeAttribute("modifier"),!0},G.toggleModifier=function(){var t=arguments.length>2?arguments.length<=2?void 0:arguments[2]:{},e="boolean"===typeof t?t:t.force,n="boolean"===typeof e?e:!G.hasModifier.apply(G,arguments);n?G.addModifier.apply(G,arguments):G.removeModifier.apply(G,arguments)},G.restoreClass=function(t,e,n){e.split(/\s+/).forEach(function(e){return""!==e&&!t.classList.contains(e)&&t.classList.add(e)}),t.hasAttribute("modifier")&&P.refresh(t,n)},G.updateParentPosition=function(t){!t._parentUpdated&&t.parentElement&&("static"===window.getComputedStyle(t.parentElement).getPropertyValue("position")&&(t.parentElement.style.position="relative"),t._parentUpdated=!0)},G.toggleAttribute=function(t,e,n){n?t.setAttribute(e,"boolean"===typeof n?"":n):t.removeAttribute(e)},G.bindListeners=function(t,e){e.forEach(function(e){var n=e.replace(/^_[a-z]/,"_bound"+e[1].toUpperCase());t[n]=t[n]||t[e].bind(t)})},G.each=function(t,e){return Object.keys(t).forEach(function(n){return e(n,t[n])})},G.updateRipple=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};void 0===e&&(e=t.hasAttribute("ripple"));var i=G.findChild(t,"ons-ripple");if(e){if(!i){var r=document.createElement("ons-ripple");Object.keys(n).forEach(function(t){return r.setAttribute(t,n[t])}),t.insertBefore(r,t.firstChild)}}else i&&i.remove()},G.animationOptionsParse=z,G.isInteger=function(t){return"number"===typeof t&&isFinite(t)&&Math.floor(t)===t},G.defer=function(){var t={};return t.promise=new Promise(function(e,n){t.resolve=e,t.reject=n}),t},G.warn=function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];var i;y.config.warningsDisabled||(i=console).warn.apply(i,[K].concat(e))},G.throw=function(t){throw new Error(K+" "+t)},G.throwAbstract=function(){return G.throw("Cannot instantiate abstract class")},G.throwMember=function(){return G.throw("Class member must be implemented")},G.throwPageLoader=function(){return G.throw("First parameter should be an instance of PageLoader")},G.throwAnimator=function(t){return G.throw('"Animator" param must inherit '+t+"Animator")};var X=function(t){return t.cancelable&&t.preventDefault()};G.iosPreventScroll=function(t){if("ios"===G.globals.actualMobileOS){var e=function e(n){t.off("touchmove",X),t.off("dragend",e)};t.on("touchmove",X),t.on("dragend",e)}},G.iosPageScrollFix=function(t){"ios"===G.globals.actualMobileOS&&(document.body.classList.toggle("ons-ios-scroll",t),G.globals.isUIWebView&&!y.config.forceUIWebViewScrollFix||document.body.classList.toggle("ons-ios-scroll-fix",t))},G.iosMaskScrollFix=function(t,e){if(G.globals.isUIWebView){var n=(e?"add":"remove")+"EventListener";t[n]("touchmove",X,!1)}},G.isValidGesture=function(t){return void 0!==t.gesture&&(t.gesture.distance<=15||t.gesture.deltaTime<=100)},G.checkMissingImport=function(){for(var e=arguments.length,n=Array(e),i=0;i<e;i++)n[i]=arguments[i];n.forEach(function(e){t[e]||G.throw("Ons"+e+" is required but was not imported (Custom Elements)")})};var Y=1.4,J={capitalize:function(t){return t.charAt(0).toUpperCase()+t.slice(1)},buildTransitionValue:function(t){t.property=t.property||"all",t.duration=t.duration||.4,t.timing=t.timing||"linear";var e=t.property.split(/ +/);return e.map(function(e){return e+" "+t.duration+"s "+t.timing}).join(", ")},onceOnTransitionEnd:function(t,e){if(!t)return function(){};var n=function(n){t==n.target&&(n.stopPropagation(),i(),e())},i=function(){J._transitionEndEvents.forEach(function(e){t.removeEventListener(e,n,!1)})};return J._transitionEndEvents.forEach(function(e){t.addEventListener(e,n,!1)}),i}};J._transitionEndEvents=function(){return"ontransitionend"in window?["transitionend"]:"onwebkittransitionend"in window?["webkitTransitionEnd"]:"webkit"===J.vendorPrefix||"o"===J.vendorPrefix||"moz"===J.vendorPrefix||"ms"===J.vendorPrefix?[J.vendorPrefix+"TransitionEnd","transitionend"]:[]}(),J._cssPropertyDict=function(){for(var t=window.getComputedStyle(document.documentElement,""),e={},n="A".charCodeAt(0),i="z".charCodeAt(0),r=function(t){return t.substr(1).toUpperCase()},o=0;o<t.length;o++){var a=t[o].replace(/^[-]+/,"").replace(/[-][a-z]/g,r).replace(/^moz/,"Moz");n<=a.charCodeAt(0)&&i>=a.charCodeAt(0)&&"cssText"!==a&&"parentText"!==a&&(e[a]=!0)}return e}(),J.hasCssProperty=function(t){return t in J._cssPropertyDict},J.vendorPrefix=function(){var t=window.getComputedStyle(document.documentElement,""),e=(Array.prototype.slice.call(t).join("").match(/-(moz|webkit|ms)-/)||""===t.OLink&&["","o"])[1];return e}(),J.forceLayoutAtOnce=function(t,e){this.batchImmediate(function(){t.forEach(function(t){t.offsetHeight}),e()})},J.batchImmediate=function(){var t=[];return function(e){0===t.length&&setImmediate(function(){var e=t.slice(0);t=[],e.forEach(function(t){t()})}),t.push(e)}}(),J.batchAnimationFrame=function(){var t=[],e=window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||window.oRequestAnimationFrame||window.msRequestAnimationFrame||function(t){setTimeout(t,1e3/60)};return function(n){0===t.length&&e(function(){var e=t.slice(0);t=[],e.forEach(function(t){t()})}),t.push(n)}}(),J.transitionPropertyName=function(){if(J.hasCssProperty("transitionDuration"))return"transition";if(J.hasCssProperty(J.vendorPrefix+"TransitionDuration"))return J.vendorPrefix+"Transition";throw new Error("Invalid state")}();var Z,tt,et,nt,it=function t(e,n){if(!(this instanceof t))return new t(e,n);if(e instanceof HTMLElement)this.elements=[e];else{if("[object Array]"!==Object.prototype.toString.call(e))throw new Error("First argument must be an array or an instance of HTMLElement.");this.elements=e}this.defaults=n,this.transitionQueue=[],this.lastStyleAttributeDict=[]};it.prototype={transitionQueue:void 0,elements:void 0,defaults:void 0,play:function(t){return"function"===typeof t&&this.transitionQueue.push(function(e){t(),e()}),this.startAnimation(),this},default:function(t,e,n){function i(t,e,n){return void 0!==t.duration&&(e=t.duration),void 0!==t.timing&&(n=t.timing),{css:t.css||t,duration:e,timing:n}}return this.saveStyle().queue(i(t,0,this.defaults.timing)).wait(void 0===n?this.defaults.delay:n).queue(i(e,this.defaults.duration,this.defaults.timing)).restoreStyle()},queue:function(t,e){var n=this.transitionQueue;if(t&&e&&(e.css=t,t=new it.Transition(e)),t instanceof Function||t instanceof it.Transition||(t=t.css?new it.Transition(t):new it.Transition({css:t})),t instanceof Function)n.push(t);else{if(!(t instanceof it.Transition))throw new Error("Invalid arguments");n.push(t.build())}return this},wait:function(t){return t>0&&this.transitionQueue.push(function(e){setTimeout(e,1e3*t)}),this},saveStyle:function(){return this.transitionQueue.push(function(t){this.elements.forEach(function(t,e){for(var n=this.lastStyleAttributeDict[e]={},i=0;i<t.style.length;i++)n[t.style[i]]=t.style[t.style[i]]}.bind(this)),t()}.bind(this)),this},restoreStyle:function(t){t=t||{};var e=this;if(t.transition&&!t.duration)throw new Error('"options.duration" is required when "options.transition" is enabled.');var n=J.transitionPropertyName;if(t.transition||t.duration&&t.duration>0){var i=t.transition||"all "+t.duration+"s "+(t.timing||"linear");this.transitionQueue.push(function(r){var o,a=this.elements,s=function(){a.forEach(function(t){t.style[n]=""})},u=J.onceOnTransitionEnd(a[0],function(){clearTimeout(o),s(),r()});o=setTimeout(function(){u(),s(),r()},1e3*t.duration*Y),a.forEach(function(t,r){var o,a=e.lastStyleAttributeDict[r];if(!a)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[r]=void 0;for(var s=0,u=t.style.length;s<u;s++)o=t.style[s],void 0===a[o]&&(a[o]="");t.style[n]=i,Object.keys(a).forEach(function(e){e!==n&&(t.style[e]=a[e])}),t.style[n]=i})})}else this.transitionQueue.push(function(t){r(),t()});return this;function r(){e.elements.forEach(function(t,i){t.style[n]="none";var r=e.lastStyleAttributeDict[i];if(!r)throw new Error("restoreStyle(): The style is not saved. Invoke saveStyle() before.");e.lastStyleAttributeDict[i]=void 0;for(var o=0;o<t.style.length;o++)t.style[o],"undefined"===typeof r[t.style[o]]&&(r[t.style[o]]="");Object.keys(r).forEach(function(e){t.style[e]=r[e]})})}},startAnimation:function(){return this._dequeueTransition(),this},_dequeueTransition:function(){var t=this.transitionQueue.shift();if(this._currentTransition)throw new Error("Current transition exists.");this._currentTransition=t;var e=this,n=!1,i=function(){if(n)throw new Error("Invalid state: This callback is called twice.");n=!0,e._currentTransition=void 0,e._dequeueTransition()};t&&t.call(this,i)}},it.runAll=function(){for(var t=0;t<arguments.length;t++)arguments[t].play()},it.Transition=function(t){this.options=t||{},this.options.duration=this.options.duration||0,this.options.timing=this.options.timing||"linear",this.options.css=this.options.css||{},this.options.property=this.options.property||"all"},it.Transition.prototype={build:function(){if(0===Object.keys(this.options.css).length)throw new Error("options.css is required.");var t=i(this.options.css);if(this.options.duration>0){var e=J.buildTransitionValue(this.options),n=this;return function(i){var r,o=this.elements,a=1e3*n.options.duration*Y,s=J.onceOnTransitionEnd(o[0],function(){clearTimeout(r),i()});r=setTimeout(function(){s(),i()},a),o.forEach(function(n){n.style[J.transitionPropertyName]=e,Object.keys(t).forEach(function(e){n.style[e]=t[e]})})}}if(this.options.duration<=0)return function(e){var n=this.elements;n.forEach(function(e){e.style[J.transitionPropertyName]="",Object.keys(t).forEach(function(n){e.style[n]=t[n]})}),n.length>0?J.forceLayoutAtOnce(n,function(){J.batchAnimationFrame(e)}):J.batchAnimationFrame(e)};function i(t){var e={};return Object.keys(t).forEach(function(n){var i=t[n];if(J.hasCssProperty(n))e[n]=i;else{var r=J.vendorPrefix+J.capitalize(n);J.hasCssProperty(r)?e[r]=i:(e[r]=i,e[n]=i)}}),e}}};var rt=function t(e,n){return new t.Instance(e,n||{})};rt.defaults={behavior:{touchAction:"pan-y",touchCallout:"none",contentZooming:"none",userDrag:"none",tapHighlightColor:"rgba(0,0,0,0)"}},rt.DOCUMENT=document,rt.HAS_POINTEREVENTS=navigator.pointerEnabled||navigator.msPointerEnabled,rt.HAS_TOUCHEVENTS="ontouchstart"in window,rt.IS_MOBILE=/mobile|tablet|ip(ad|hone|od)|android|silk/i.test(navigator.userAgent),rt.NO_MOUSEEVENTS=rt.HAS_TOUCHEVENTS&&rt.IS_MOBILE||rt.HAS_POINTEREVENTS,rt.CALCULATE_INTERVAL=25;var ot={},at=rt.DIRECTION_DOWN="down",st=rt.DIRECTION_LEFT="left",ut=rt.DIRECTION_UP="up",ct=rt.DIRECTION_RIGHT="right",lt=rt.POINTER_MOUSE="mouse",ht=rt.POINTER_TOUCH="touch",ft=rt.POINTER_PEN="pen",dt=rt.EVENT_START="start",pt=rt.EVENT_MOVE="move",vt=rt.EVENT_END="end",mt=rt.EVENT_RELEASE="release",gt=rt.EVENT_TOUCH="touch";function _t(t){rt.READY||(Z.determineEventTypes(),tt.each(rt.gestures,function(t){et.register(t)}),Z.onTouch(rt.DOCUMENT,pt,et.detect,t),Z.onTouch(rt.DOCUMENT,vt,et.detect,t),rt.READY=!0)}rt.READY=!1,rt.plugins=rt.plugins||{},rt.gestures=rt.gestures||{},tt=rt.utils={extend:function(t,e,n){for(var i in e)!e.hasOwnProperty(i)||void 0!==t[i]&&n||(t[i]=e[i]);return t},on:function(t,e,n,i){G.addEventListener(t,e,n,i,!0)},off:function(t,e,n,i){G.removeEventListener(t,e,n,i,!0)},each:function(t,e,n){var i,r;if("forEach"in t)t.forEach(e,n);else if(void 0!==t.length){for(i=0,r=t.length;i<r;i++)if(!1===e.call(n,t[i],i,t))return}else for(i in t)if(t.hasOwnProperty(i)&&!1===e.call(n,t[i],i,t))return},inStr:function(t,e){return t.indexOf(e)>-1},inArray:function(t,e,n){if(n){for(var i=0,r=t.length;i<r;i++)if(Object.keys(e).every(function(n){return t[i][n]===e[n]}))return i;return-1}if(t.indexOf)return t.indexOf(e);for(i=0,r=t.length;i<r;i++)if(t[i]===e)return i;return-1},toArray:function(t){return Array.prototype.slice.call(t,0)},hasParent:function(t,e){while(t){if(t==e)return!0;t=t.parentNode}return!1},getCenter:function(t){var e=[],n=[],i=[],r=[],o=Math.min,a=Math.max;return 1===t.length?{pageX:t[0].pageX,pageY:t[0].pageY,clientX:t[0].clientX,clientY:t[0].clientY}:(tt.each(t,function(t){e.push(t.pageX),n.push(t.pageY),i.push(t.clientX),r.push(t.clientY)}),{pageX:(o.apply(Math,e)+a.apply(Math,e))/2,pageY:(o.apply(Math,n)+a.apply(Math,n))/2,clientX:(o.apply(Math,i)+a.apply(Math,i))/2,clientY:(o.apply(Math,r)+a.apply(Math,r))/2})},getVelocity:function(t,e,n){return{x:Math.abs(e/t)||0,y:Math.abs(n/t)||0}},getAngle:function(t,e){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return 180*Math.atan2(i,n)/Math.PI},getDirection:function(t,e){var n=Math.abs(t.clientX-e.clientX),i=Math.abs(t.clientY-e.clientY);return n>=i?t.clientX-e.clientX>0?st:ct:t.clientY-e.clientY>0?ut:at},getDistance:function(t,e){var n=e.clientX-t.clientX,i=e.clientY-t.clientY;return Math.sqrt(n*n+i*i)},getScale:function(t,e){return t.length>=2&&e.length>=2?this.getDistance(e[0],e[1])/this.getDistance(t[0],t[1]):1},getRotation:function(t,e){return t.length>=2&&e.length>=2?this.getAngle(e[1],e[0])-this.getAngle(t[1],t[0]):0},isVertical:function(t){return t==ut||t==at},setPrefixedCss:function(t,e,n,i){var r=["","Webkit","Moz","O","ms"];e=tt.toCamelCase(e);for(var o=0;o<r.length;o++){var a=e;if(r[o]&&(a=r[o]+a.slice(0,1).toUpperCase()+a.slice(1)),a in t.style){t.style[a]=(null===i||i)&&n||"";break}}},toggleBehavior:function(t,e,n){if(e&&t&&t.style){tt.each(e,function(e,i){tt.setPrefixedCss(t,i,e,n)});var i=n&&function(){return!1};"none"==e.userSelect&&(t.onselectstart=i),"none"==e.userDrag&&(t.ondragstart=i)}},toCamelCase:function(t){return t.replace(/[_-]([a-z])/g,function(t){return t[1].toUpperCase()})}},Z=rt.event={preventMouseEvents:!1,started:!1,shouldDetect:!1,on:function(t,e,n,i,r){var o=e.split(" ");tt.each(o,function(e){tt.on(t,e,n,i),r&&r(e)})},off:function(t,e,n,i,r){var o=e.split(" ");tt.each(o,function(e){tt.off(t,e,n,i),r&&r(e)})},onTouch:function(t,e,n,i){var r=this,o=function(i){var o,a=i.type.toLowerCase(),s=rt.HAS_POINTEREVENTS,u=tt.inStr(a,"mouse");u&&r.preventMouseEvents||(u&&e==dt&&0===i.button?(r.preventMouseEvents=!1,r.shouldDetect=!0):s&&e==dt?r.shouldDetect=1===i.buttons||nt.matchType(ht,i):u||e!=dt||(r.preventMouseEvents=!0,r.shouldDetect=!0),s&&e!=vt&&nt.updatePointer(e,i),r.shouldDetect&&(o=r.doDetect.call(r,i,e,t,n)),o==vt&&(r.preventMouseEvents=!1,r.shouldDetect=!1,nt.reset()),s&&e==vt&&nt.updatePointer(e,i))};return this.on(t,ot[e],o,i),o},doDetect:function(t,e,n,i){var r=this.getTouchList(t,e),o=r.length,a=e,s=r.trigger,u=o;e==dt?s=gt:e==vt&&(s=mt,u=r.length-(t.changedTouches?t.changedTouches.length:1)),u>0&&this.started&&(a=pt),this.started=!0;var c=this.collectEventData(n,a,r,t);return e!=vt&&i.call(et,c),s&&(c.changedLength=u,c.eventType=s,i.call(et,c),c.eventType=a,delete c.changedLength),a==vt&&(i.call(et,c),this.started=!1),a},determineEventTypes:function(){var t;return t=rt.HAS_POINTEREVENTS?window.PointerEvent?["pointerdown","pointermove","pointerup pointercancel lostpointercapture"]:["MSPointerDown","MSPointerMove","MSPointerUp MSPointerCancel MSLostPointerCapture"]:rt.NO_MOUSEEVENTS?["touchstart","touchmove","touchend touchcancel"]:["touchstart mousedown","touchmove mousemove","touchend touchcancel mouseup"],ot[dt]=t[0],ot[pt]=t[1],ot[vt]=t[2],ot},getTouchList:function(t,e){if(rt.HAS_POINTEREVENTS)return nt.getTouchList();if(t.touches){if(e==pt)return t.touches;var n=[],i=[].concat(tt.toArray(t.touches),tt.toArray(t.changedTouches)),r=[];return tt.each(i,function(t){-1===tt.inArray(n,t.identifier)&&r.push(t),n.push(t.identifier)}),r}return t.identifier=1,[t]},collectEventData:function(t,e,n,i){var r=ht;return tt.inStr(i.type,"mouse")||nt.matchType(lt,i)?r=lt:nt.matchType(ft,i)&&(r=ft),{center:tt.getCenter(n),timeStamp:Date.now(),target:i.target,touches:n,eventType:e,pointerType:r,srcEvent:i,preventDefault:function(){var t=this.srcEvent;t.preventManipulation&&t.preventManipulation(),t.preventDefault&&t.preventDefault()},stopPropagation:function(){this.srcEvent.stopPropagation()},stopDetect:function(){return et.stopDetect()}}}},nt=rt.PointerEvent={pointers:{},getTouchList:function(){var t=[];return tt.each(this.pointers,function(e){t.push(e)}),t},updatePointer:function(t,e){t==vt||t!=vt&&1!==e.buttons?delete this.pointers[e.pointerId]:(e.identifier=e.pointerId,this.pointers[e.pointerId]=e)},matchType:function(t,e){if(!e.pointerType)return!1;var n=e.pointerType,i={};return i[lt]=n===(e.MSPOINTER_TYPE_MOUSE||lt),i[ht]=n===(e.MSPOINTER_TYPE_TOUCH||ht),i[ft]=n===(e.MSPOINTER_TYPE_PEN||ft),i[t]},reset:function(){this.pointers={}}},et=rt.detection={gestures:[],current:null,previous:null,stopped:!1,startDetect:function(t,e){this.current||(this.stopped=!1,this.current={inst:t,startEvent:tt.extend({},e),lastEvent:!1,lastCalcEvent:!1,futureCalcEvent:!1,lastCalcData:{},name:""},this.detect(e))},detect:function(t){if(this.current&&!this.stopped){t=this.extendEventData(t);var e=this.current.inst,n=e.options;return tt.each(this.gestures,function(i){!this.stopped&&e.enabled&&n[i.name]&&i.handler.call(i,t,e)},this),this.current&&(this.current.lastEvent=t),t.eventType==vt&&this.stopDetect(),t}},stopDetect:function(){this.previous=tt.extend({},this.current),this.current=null,this.stopped=!0},getCalculatedData:function(t,e,n,i,r){var o=this.current,a=!1,s=o.lastCalcEvent,u=o.lastCalcData;s&&t.timeStamp-s.timeStamp>rt.CALCULATE_INTERVAL&&(e=s.center,n=t.timeStamp-s.timeStamp,i=t.center.clientX-s.center.clientX,r=t.center.clientY-s.center.clientY,a=!0),t.eventType!=gt&&t.eventType!=mt||(o.futureCalcEvent=t),o.lastCalcEvent&&!a||(u.velocity=tt.getVelocity(n,i,r),u.angle=tt.getAngle(e,t.center),u.direction=tt.getDirection(e,t.center),o.lastCalcEvent=o.futureCalcEvent||t,o.futureCalcEvent=t),t.velocityX=u.velocity.x,t.velocityY=u.velocity.y,t.interimAngle=u.angle,t.interimDirection=u.direction},extendEventData:function(t){var e=this.current,n=e.startEvent,i=e.lastEvent||n;t.eventType!=gt&&t.eventType!=mt||(n.touches=[],tt.each(t.touches,function(t){n.touches.push({clientX:t.clientX,clientY:t.clientY})}));var r=t.timeStamp-n.timeStamp,o=t.center.clientX-n.center.clientX,a=t.center.clientY-n.center.clientY;return this.getCalculatedData(t,i.center,r,o,a),tt.extend(t,{startEvent:n,deltaTime:r,deltaX:o,deltaY:a,distance:tt.getDistance(n.center,t.center),angle:tt.getAngle(n.center,t.center),direction:tt.getDirection(n.center,t.center),scale:tt.getScale(n.touches,t.touches),rotation:tt.getRotation(n.touches,t.touches)}),t},register:function(t){var e=t.defaults||{};return void 0===e[t.name]&&(e[t.name]=!0),tt.extend(rt.defaults,e,!0),t.index=t.index||1e3,this.gestures.push(t),this.gestures.sort(function(t,e){return t.index<e.index?-1:t.index>e.index?1:0}),this.gestures}},rt.Instance=function(t,e){var n=this,i=e&&e.passive?{passive:!0}:void 0;_t(i),this.element=t,this.enabled=!0,tt.each(e,function(t,n){delete e[n],e[tt.toCamelCase(n)]=t}),this.options=tt.extend(tt.extend({},rt.defaults),e||{}),this.options.listenerOptions=i,this.options.behavior&&tt.toggleBehavior(this.element,this.options.behavior,!0),this.eventStartHandler=Z.onTouch(t,dt,function(t){n.enabled&&t.eventType==dt?et.startDetect(n,t):t.eventType==gt&&et.detect(t)},i),this.eventHandlers=[]},rt.Instance.prototype={on:function(t,e,n){var i=this;return Z.on(i.element,t,e,G.extend({},i.options.listenerOptions,n),function(t){i.eventHandlers.push({gesture:t,handler:e})}),i},off:function(t,e,n){var i=this;return Z.off(i.element,t,e,G.extend({},i.options.listenerOptions,n),function(t){var n=tt.inArray(i.eventHandlers,{gesture:t,handler:e},!0);n>=0&&i.eventHandlers.splice(n,1)}),i},trigger:function(t,e){e||(e={});var n=rt.DOCUMENT.createEvent("Event");n.initEvent(t,!0,!0),n.gesture=e;var i=this.element;return tt.hasParent(e.target,i)&&(i=e.target),i.dispatchEvent(n),this},enable:function(t){return this.enabled=t,this},dispose:function(){var t,e;for(tt.toggleBehavior(this.element,this.options.behavior,!1),t=-1;e=this.eventHandlers[++t];)tt.off(this.element,e.gesture,e.handler);return this.eventHandlers=[],Z.off(this.element,ot[dt],this.eventStartHandler),null}},function(t){var e=!1;function n(n,i){var r=et.current;if(!(i.options.dragMaxTouches>0&&n.touches.length>i.options.dragMaxTouches))switch(n.eventType){case dt:e=!1;break;case pt:if(n.distance<i.options.dragMinDistance&&r.name!=t)return;var o=r.startEvent.center;if(r.name!=t&&(r.name=t,i.options.dragDistanceCorrection&&n.distance>0)){var a=Math.abs(i.options.dragMinDistance/n.distance);o.pageX+=n.deltaX*a,o.pageY+=n.deltaY*a,o.clientX+=n.deltaX*a,o.clientY+=n.deltaY*a,n=et.extendEventData(n)}(r.lastEvent.dragLockToAxis||i.options.dragLockToAxis&&i.options.dragLockMinDistance<=n.distance)&&(n.dragLockToAxis=!0);var s=r.lastEvent.direction;n.dragLockToAxis&&s!==n.direction&&(tt.isVertical(s)?n.direction=n.deltaY<0?ut:at:n.direction=n.deltaX<0?st:ct),e||(i.trigger(t+"start",n),e=!0),i.trigger(t,n),i.trigger(t+n.direction,n);var u=tt.isVertical(n.direction);(i.options.dragBlockVertical&&u||i.options.dragBlockHorizontal&&!u)&&n.preventDefault();break;case mt:e&&n.changedLength<=i.options.dragMaxTouches&&(i.trigger(t+"end",n),e=!1);break;case vt:e=!1;break}}rt.gestures.Drag={name:t,index:50,handler:n,defaults:{dragMinDistance:10,dragDistanceCorrection:!0,dragMaxTouches:1,dragBlockHorizontal:!1,dragBlockVertical:!1,dragLockToAxis:!1,dragLockMinDistance:25}}}("drag"),rt.gestures.Gesture={name:"gesture",index:1337,handler:function(t,e){e.trigger(this.name,t)}},function(t){var e;function n(n,i){var r=i.options,o=et.current;switch(n.eventType){case dt:clearTimeout(e),o.name=t,e=setTimeout(function(){o&&o.name==t&&i.trigger(t,n)},r.holdTimeout);break;case pt:n.distance>r.holdThreshold&&clearTimeout(e);break;case mt:clearTimeout(e);break}}rt.gestures.Hold={name:t,index:10,defaults:{holdTimeout:500,holdThreshold:2},handler:n}}("hold"),rt.gestures.Release={name:"release",index:1/0,handler:function(t,e){t.eventType==mt&&e.trigger(this.name,t)}},rt.gestures.Swipe={name:"swipe",index:40,defaults:{swipeMinTouches:1,swipeMaxTouches:1,swipeVelocityX:.6,swipeVelocityY:.6},handler:function(t,e){if(t.eventType==mt){var n=t.touches.length,i=e.options;if(n<i.swipeMinTouches||n>i.swipeMaxTouches)return;(t.velocityX>i.swipeVelocityX||t.velocityY>i.swipeVelocityY)&&(e.trigger(this.name,t),e.trigger(this.name+t.direction,t))}}},function(t){var e=!1;function n(n,i){var r,o,a=i.options,s=et.current,u=et.previous;switch(n.eventType){case dt:e=!1;break;case pt:e=e||n.distance>a.tapMaxDistance;break;case vt:!tt.inStr(n.srcEvent.type,"cancel")&&n.deltaTime<a.tapMaxTime&&!e&&(r=u&&u.lastEvent&&n.timeStamp-u.lastEvent.timeStamp,o=!1,u&&u.name==t&&r&&r<a.doubleTapInterval&&n.distance<a.doubleTapDistance&&(i.trigger("doubletap",n),o=!0),o&&!a.tapAlways||(s.name=t,i.trigger(s.name,n)));break}}rt.gestures.Tap={name:t,index:100,handler:n,defaults:{tapMaxTime:250,tapMaxDistance:10,tapAlways:!0,doubleTapDistance:20,doubleTapInterval:300}}}("tap"),rt.gestures.Touch={name:"touch",index:-1/0,defaults:{preventDefault:!1,preventMouse:!1},handler:function(t,e){e.options.preventMouse&&t.pointerType==lt?t.stopDetect():(e.options.preventDefault&&t.preventDefault(),t.eventType==gt&&e.trigger("touch",t))}},function(t){var e=!1;function n(n,i){switch(n.eventType){case dt:e=!1;break;case pt:if(n.touches.length<2)return;var r=Math.abs(1-n.scale),o=Math.abs(n.rotation);if(r<i.options.transformMinScale&&o<i.options.transformMinRotation)return;et.current.name=t,e||(i.trigger(t+"start",n),e=!0),i.trigger(t,n),o>i.options.transformMinRotation&&i.trigger("rotate",n),r>i.options.transformMinScale&&(i.trigger("pinch",n),i.trigger("pinch"+(n.scale<1?"in":"out"),n));break;case mt:e&&n.changedLength<2&&(i.trigger(t+"end",n),e=!1);break}}rt.gestures.Transform={name:t,index:45,defaults:{transformMinScale:.01,transformMinRotation:1},handler:n}}("transform");var yt=void 0,bt=void 0;function wt(t){return t.childNodes.length>0&&kt(t),yt.has(t)}function kt(t){yt.set(t,!0)}function Et(t,e){bt.has(t)||bt.set(t,[]),bt.get(t).push(e)}function Ct(t){var e=bt.get(t,[])||[];bt.delete(t),e.forEach(function(t){return t()})}function St(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){};if(void 0===yt&&(yt=new WeakMap,bt=new WeakMap),Et(t,e),wt(t))Ct(t);else{var n=new MutationObserver(function(e){kt(t),Ct(t)});n.observe(t,{childList:!0,characterData:!0}),setImmediate(function(){kt(t),Ct(t)})}}var At=function(){function t(){o(this,t),this.queue=[]}return a(t,[{key:"add",value:function(t,e){var n=this;this.queue.push(t),1===this.queue.length&&setImmediate(this.queue[0]),e.then(function(){n.queue.shift(),n.queue.length>0&&setTimeout(n.queue[0],1e3/30)})}}]),t}(),Tt=new At,Ot=function(t,e){["id","class","animation"].forEach(function(n){return e.hasOwnProperty(n)&&t.setAttribute(n,e[n])}),e.modifier&&G.addModifier(t,e.modifier)},xt=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return e=u({},e),"string"===typeof t?e.message=t:e=t,e&&(e.message||e.messageHTML)||G.throw("Notifications must contain a message"),(e.hasOwnProperty("buttonLabels")||e.hasOwnProperty("buttonLabel"))&&(e.buttonLabels=e.buttonLabels||e.buttonLabel,Array.isArray(e.buttonLabels)||(e.buttonLabels=[e.buttonLabels||""])),G.extend({compile:function(t){return t},callback:function(t){return t},animation:"default",cancelable:!1,primaryButtonIndex:(e.buttonLabels||n.buttonLabels||[]).length-1},n,e)},Pt={_createAlertDialog:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return new Promise(function(t){var n=xt.apply(void 0,e);G.checkMissingImport("AlertDialog","AlertDialogButton");var i="";n.isPrompt&&(i='\n      <input\n        class="text-input text-input--underbar"\n        type="'+(n.inputType||"text")+'"\n        placeholder="'+(n.placeholder||"")+'"\n        value="'+(n.defaultValue||"")+'"\n        style="width: 100%; margin-top: 10px;"\n      />\n    ');var r="";n.buttonLabels.forEach(function(t,e){r+='\n      <ons-alert-dialog-button\n        class="\n          '+(e===n.primaryButtonIndex?" alert-dialog-button--primal":"")+"\n          "+(n.buttonLabels.length<=2?" alert-dialog-button--rowfooter":"")+'\n        "\n        style="position: relative;">\n        '+t+"\n      </ons-alert-dialog-button>\n    "});var o={},a=function(){o.dialog.onDialogCancel&&o.dialog.removeEventListener("dialog-cancel",o.dialog.onDialogCancel),Object.keys(o).forEach(function(t){return delete o[t]}),o=null,n.destroy instanceof Function&&n.destroy()};o.dialog=document.createElement("ons-alert-dialog"),o.dialog.innerHTML='\n    <div class="alert-dialog-mask"\n      style="\n        '+(n.maskColor?"background-color: "+n.maskColor:"")+'\n      "></div>\n    <div class="alert-dialog">\n      <div class="alert-dialog-container">\n        <div class="alert-dialog-title">\n          '+(n.title||"")+'\n        </div>\n        <div class="alert-dialog-content">\n          '+(n.message||n.messageHTML)+"\n          "+i+'\n        </div>\n        <div class="\n          alert-dialog-footer\n          '+(n.buttonLabels.length<=2?" alert-dialog-footer--rowfooter":"")+'\n        ">\n          '+r+"\n        </div>\n      </div>\n    </div>\n  ",St(o.dialog),Ot(o.dialog,n),n.isPrompt&&n.submitOnEnter&&(o.input=o.dialog.querySelector(".text-input"),o.input.onkeypress=function(e){13===e.keyCode&&o.dialog.hide().then(function(){if(o){var e=o.input.value;a(),n.callback(e),t(e)}})}),o.footer=o.dialog.querySelector(".alert-dialog-footer"),G.arrayFrom(o.dialog.querySelectorAll(".alert-dialog-button")).forEach(function(e,i){e.onclick=function(){o.dialog.hide().then(function(){if(o){var e=i;n.isPrompt&&(e=i===n.primaryButtonIndex?o.input.value:null),o.dialog.remove(),a(),n.callback(e),t(e)}})},o.footer.appendChild(e)}),n.cancelable&&(o.dialog.cancelable=!0,o.dialog.onDialogCancel=function(){setImmediate(function(){o.dialog.remove(),a()});var e=n.isPrompt?null:-1;n.callback(e),t(e)},o.dialog.addEventListener("dialog-cancel",o.dialog.onDialogCancel,!1)),document.body.appendChild(o.dialog),n.compile(o.dialog),setImmediate(function(){o.dialog.show().then(function(){if(o.input&&n.isPrompt&&n.autofocus){var t=o.input.value.length;o.input.focus(),o.input.setSelectionRange(t,t)}})})})},alert:function(t,e){return Pt._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert"})},confirm:function(t,e){return Pt._createAlertDialog(t,e,{buttonLabels:["Cancel","OK"],title:"Confirm"})},prompt:function(t,e){return Pt._createAlertDialog(t,e,{buttonLabels:["OK"],title:"Alert",isPrompt:!0,autofocus:!0,submitOnEnter:!0})},toast:function(t,e){var n=new Promise(function(i){G.checkMissingImport("Toast"),e=xt(t,e,{timeout:0,force:!1});var r=G.createElement("\n      <ons-toast>\n        "+e.message+"\n        "+(e.buttonLabels?"<button>"+e.buttonLabels[0]+"</button>":"")+"\n      </ons-toast>\n    ");Ot(r,e);var o=function(t){r&&r.hide().then(function(){r&&(r.remove(),r=null,e.callback(t),i(t))})};e.buttonLabels&&(G.findChild(r._toast,"button").onclick=function(){return o(0)}),document.body.appendChild(r),e.compile(r);var a=function(){r.parentElement&&r.show(e).then(function(){e.timeout&&setTimeout(function(){return o(-1)},e.timeout)})};setImmediate(function(){return e.force?a():Tt.add(a,n)})});return n}},It=function(t){var e=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Function";return G.throw('"options.'+t+'" must be an instance of '+e)},n=function(e){return Object.hasOwnProperty.call(t,e)},i=function(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Function;return t[e]instanceof n},r="buttons",o="callback",a="compile",s="destroy";(!n(r)||!i(r,Array))&&e(r,"Array"),n(o)&&!i(o)&&e(o),n(a)&&!i(a)&&e(a),n(s)&&!i(s)&&e(s)},Nt=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Promise(function(e){G.checkMissingImport("ActionSheet"),It(t);var n=G.createElement("\n    <ons-action-sheet\n      "+(t.title?'title="'+t.title+'"':"")+"\n      "+(t.cancelable?"cancelable":"")+"\n      "+(t.modifier?'modifier="'+t.modifier+'"':"")+"\n      "+(t.maskColor?'mask-color="'+t.maskColor+'"':"")+"\n      "+(t.id?'id="'+t.id+'"':"")+"\n      "+(t.class?'class="'+t.class+'"':"")+'\n    >\n      <div class="action-sheet"></div>\n    </ons-action-sheet>\n  '),i=function i(r){var o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:-1;n&&(t.destroy&&t.destroy(n),n.removeEventListener("dialog-cancel",i,!1),n.remove(),n=null,t.callback&&t.callback(o),e(o))};n.addEventListener("dialog-cancel",i,!1);var r=document.createDocumentFragment();t.buttons.forEach(function(e,o){var a="string"===typeof e?{label:e}:u({},e);t.destructive===o&&(a.modifier=(a.modifier||"")+" destructive");var s=G.createElement("\n      <ons-action-sheet-button\n        "+(a.icon?'icon="'+a.icon+'"':"")+"\n        "+(a.modifier?'modifier="'+a.modifier+'"':"")+"\n      >\n        "+a.label+"\n      </ons-action-sheet-button>\n    ");s.onclick=function(t){return n.hide().then(function(){return i(t,o)})},r.appendChild(s)}),G.findChild(n,".action-sheet").appendChild(r),document.body.appendChild(n),t.compile&&t.compile(el.dialog),setImmediate(function(){return n.show({animation:t.animation,animationOptions:t.animationOptions})})})},Lt=function(){};Lt.prototype={on:function(t,e){this._events=this._events||{},this._events[t]=this._events[t]||[],this._events[t].push(e)},once:function(t,e){var n=this,i=function i(){return n.off(t,i),e.apply(null,arguments)};this.on(t,i)},off:function(t,e){this._events=this._events||{},t in this._events!==!1&&(this._events[t]=this._events[t].filter(function(t){return!!e&&e!==t}))},emit:function(t){if(this._events=this._events||{},t in this._events!==!1)for(var e=0;e<this._events[t].length;e++)this._events[t][e].apply(this,Array.prototype.slice.call(arguments,1))}},Lt.mixin=function(t){for(var e=["on","once","off","emit"],n=0;n<e.length;n++)"function"===typeof t?t.prototype[e[n]]=Lt.prototype[e[n]]:t[e[n]]=Lt.prototype[e[n]]},window.MicroEvent=Lt;var Dt=function(){var t={_isPortrait:!1,isPortrait:function(){return this._isPortrait()},isLandscape:function(){return!this.isPortrait()},_init:function(){return document.addEventListener("DOMContentLoaded",this._onDOMContentLoaded.bind(this),!1),"orientation"in window?window.addEventListener("orientationchange",this._onOrientationChange.bind(this),!1):window.addEventListener("resize",this._onResize.bind(this),!1),this._isPortrait=function(){return window.innerHeight>window.innerWidth},this},_onDOMContentLoaded:function(){this._installIsPortraitImplementation(),this.emit("change",{isPortrait:this.isPortrait()})},_installIsPortraitImplementation:function(){var t=window.innerWidth<window.innerHeight;"orientation"in window?window.orientation%180===0?this._isPortrait=function(){return 0===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return 90===Math.abs(window.orientation%180)?t:!t}:this._isPortrait=function(){return window.innerHeight>window.innerWidth}},_onOrientationChange:function(){var t=this,e=this._isPortrait(),n=0,i=setInterval(function(){n++;var r=window.innerWidth,o=window.innerHeight;e&&r<=o||!e&&r>=o?(t.emit("change",{isPortrait:e}),clearInterval(i)):50===n&&(t.emit("change",{isPortrait:e}),clearInterval(i))},20)},_onResize:function(){this.emit("change",{isPortrait:this.isPortrait()})}};return Lt.mixin(t),t},Rt=Dt()._init(),Mt={add:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){return G.addModifier(t,e)})},remove:function(t){for(var e=arguments.length,n=Array(e>1?e-1:0),i=1;i<e;i++)n[i-1]=arguments[i];return n.forEach(function(e){return G.removeModifier(t,e)})},contains:G.hasModifier,toggle:G.toggleModifier},jt=new Lt;jt._visible=!1;var Ft=function(){jt._visible=!0,jt.emit("show")},Bt=function(){jt._visible=!1,jt.emit("hide")},qt=function(){return"undefined"!==typeof Keyboard?(Keyboard.onshow=Ft,Keyboard.onhide=Bt,jt.emit("init",{visible:Keyboard.isVisible}),!0):"undefined"!==typeof cordova.plugins&&"undefined"!==typeof cordova.plugins.Keyboard&&(window.addEventListener("native.keyboardshow",Ft),window.addEventListener("native.keyboardhide",Bt),jt.emit("init",{visible:cordova.plugins.Keyboard.isVisible}),!0)},Ut=function(){G.warn("ons-keyboard: Cordova Keyboard plugin is not present.")};document.addEventListener("deviceready",function(){qt()||((document.querySelector("[ons-keyboard-active]")||document.querySelector("[ons-keyboard-inactive]"))&&Ut(),jt.on=Ut)});var $t=function(){var t=0;return function(){return t++}}(),Vt=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this._lockList=[],this._waitList=[],this._log=e.log||function(){}}return a(t,[{key:"lock",value:function(){var t=this,e=function e(){t._unlock(e)};return e.id=$t(),this._lockList.push(e),this._log("lock: "+e.id),e}},{key:"_unlock",value:function(t){var e=this._lockList.indexOf(t);if(-1===e)throw new Error("This function is not registered in the lock list.");this._lockList.splice(e,1),this._log("unlock: "+t.id),this._tryToFreeWaitList()}},{key:"_tryToFreeWaitList",value:function(){while(!this.isLocked()&&this._waitList.length>0)this._waitList.shift()()}},{key:"waitUnlock",value:function(t){if(!(t instanceof Function))throw new Error("The callback param must be a function.");this.isLocked()?this._waitList.push(t):t()}},{key:"isLocked",value:function(){return this._lockList.length>0}}]),t}();function Ht(t,e){var n=t.page,i=t.parent;t.params;y.getPageHTMLAsync(n).then(function(t){var n=G.createElement(t);i.appendChild(n),e(n)})}function Wt(t){t._destroy instanceof Function?t._destroy():t.remove()}var zt=function(){function t(e,n){o(this,t),this._loader=e instanceof Function?e:Ht,this._unloader=n instanceof Function?n:Wt}return a(t,[{key:"load",value:function(t,e){var n=t.page,i=t.parent,r=t.params,o=void 0===r?{}:r;this._loader({page:n,parent:i,params:o},function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");e(t)})}},{key:"unload",value:function(t){if(!(t instanceof Element))throw Error("pageElement must be an instance of Element.");this._unloader(t)}},{key:"internalLoader",set:function(t){if(!(t instanceof Function))throw Error("First parameter must be an instance of Function");this._loader=t},get:function(){return this._loader}}]),t}(),Gt=new zt,Kt=new zt(function(t,e){var n=t.page,i=t.parent,r=(t.params,G.createElement(n.trim()));i.appendChild(r),e(r)},Wt),Qt={animit:it,defaultPageLoader:Gt,elements:t,GestureDetector:rt,modifier:Mt,notification:Pt,orientation:Rt,pageAttributeExpression:_,PageLoader:zt,platform:m,softwareKeyboard:jt,_autoStyle:x,_internal:y,_readyLock:new Vt,_util:G};Qt.platform.select((window.location.search.match(/platform=([\w-]+)/)||[])[1]),Yt();var Xt=function(t){return G.throw("This method must be called "+(t?"after":"before")+" ons.isReady() is true")};function Yt(){var t=Qt._readyLock.lock();window.addEventListener("DOMContentLoaded",function(){Qt.isWebView()?window.document.addEventListener("deviceready",t,!1):t()},!1)}Qt.isReady=function(){return!Qt._readyLock.isLocked()},Qt.isWebView=Qt.platform.isWebView,Qt.ready=function(t){Qt.isReady()?t():Qt._readyLock.waitUnlock(t)},Qt.setDefaultDeviceBackButtonListener=function(t){Qt.isReady()||Xt(!0),Qt._defaultDeviceBackButtonHandler.setListener(t)},Qt.disableDeviceBackButtonHandler=function(){Qt.isReady()||Xt(!0),y.dbbDispatcher.disable()},Qt.enableDeviceBackButtonHandler=function(){Qt.isReady()||Xt(!0),y.dbbDispatcher.enable()},Qt.fireDeviceBackButtonEvent=function(){y.dbbDispatcher.fireDeviceBackButtonEvent()},Qt.enableAutoStatusBarFill=function(){Qt.isReady()&&Xt(!1),y.config.autoStatusBarFill=!0},Qt.disableAutoStatusBarFill=function(){Qt.isReady()&&Xt(!1),y.config.autoStatusBarFill=!1},Qt.mockStatusBar=function(){Qt.isReady()&&Xt(!1);var t=function(){if(!document.body.children[0]||!document.body.children[0].classList.contains("ons-status-bar-mock")){var t=m.isAndroid(),e=function(t){return'<i class="'+t.split("-")[0]+" "+t+'"></i>'},n=t?e("zmdi-twitter")+" "+e("zmdi-google-play"):"No SIM "+e("fa-wifi"),i=t?"":"12:28 PM",r=t?e("zmdi-network")+" "+e("zmdi-wifi")+" "+e("zmdi-battery")+" 12:28 PM":"80% "+e("fa-battery-three-quarters");document.body.insertBefore(G.createElement('<div class="ons-status-bar-mock '+(t?"android":"ios")+'"><div>'+n+"</div><div>"+i+"</div><div>"+r+"</div></div>"),document.body.firstChild)}};document.body?t():y.waitDOMContentLoaded(t)},Qt.disableAnimations=function(){y.config.animationsDisabled=!0},Qt.enableAnimations=function(){y.config.animationsDisabled=!1},Qt._disableWarnings=function(){y.config.warningsDisabled=!0},Qt._enableWarnings=function(){y.config.warningsDisabled=!1},Qt.disableAutoStyling=x.disable,Qt.enableAutoStyling=x.enable,Qt.disableIconAutoPrefix=function(){G.checkMissingImport("Icon"),t.Icon.setAutoPrefix(!1)},Qt.forceUIWebViewScrollFix=function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];y.config.forceUIWebViewScrollFix=t},Qt.forcePlatformStyling=function(t){Qt.enableAutoStyling(),Qt.platform.select(t||"ios"),Qt._util.arrayFrom(document.querySelectorAll("*")).forEach(function(t){"ons-if"===t.tagName.toLowerCase()?t._platformUpdate():t.tagName.match(/^ons-/i)&&(x.prepare(t,!0),"ons-tabbar"===t.tagName.toLowerCase()&&t._updatePosition())})},Qt.preload=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return Promise.all((t instanceof Array?t:[t]).map(function(t){return"string"!==typeof t&&G.throw("Expected string arguments but got "+("undefined"===typeof t?"undefined":r(t))),y.getTemplateHTMLAsync(t)}))},Qt.createElement=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t=t.trim();var n=function(t){var n=Qt._util.createElement(t);if(n.remove(),e.append){var i=e.append instanceof HTMLElement?e.append:document.body;i.insertBefore(n,e.insertBefore||null),e.link instanceof Function&&e.link(n)}return n};return"<"===t.charAt(0)?n(t):y.getPageHTMLAsync(t).then(n)},Qt.createPopover=Qt.createDialog=Qt.createAlertDialog=function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return Qt.createElement(t,u({append:!0},e))},Qt.openActionSheet=Nt,Qt.resolveLoadingPlaceholder=function(t,e){var n=Qt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));0===n.length&&G.throw("No ons-loading-placeholder exists"),n.filter(function(t){return!t.getAttribute("page")}).forEach(function(n){n.setAttribute("ons-loading-placeholder",t),Qt._resolveLoadingPlaceholder(n,t,e)})},Qt._setupLoadingPlaceHolders=function(){Qt.ready(function(){var t=Qt._util.arrayFrom(window.document.querySelectorAll("[ons-loading-placeholder]"));t.forEach(function(t){var e=t.getAttribute("ons-loading-placeholder");"string"===typeof e&&Qt._resolveLoadingPlaceholder(t,e)})})},Qt._resolveLoadingPlaceholder=function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:function(t,e){return e()};e&&Qt.createElement(e).then(function(e){e.style.display="none",t.appendChild(e),n(e,function(){while(t.firstChild&&t.firstChild!==e)t.removeChild(t.firstChild);e.style.display=""})}).catch(function(t){return Promise.reject("Unabled to resolve placeholder: "+t)})};var Jt="currentScript"in document?function(){return document.currentScript}:function(){return document.scripts[document.scripts.length-1]};function Zt(t,e){return e={exports:{}},t(e,e.exports),e.exports}Qt.getScriptPage=function(){return Jt()&&/ons-page/i.test(Jt().parentElement.tagName)&&Jt().parentElement||null};var te=Zt(function(t){(function(){function e(t,n){var r;if(n=n||{},this.trackingClick=!1,this.trackingClickStart=0,this.targetElement=null,this.touchStartX=0,this.touchStartY=0,this.lastTouchIdentifier=0,this.touchBoundary=n.touchBoundary||10,this.layer=t,this.tapDelay=n.tapDelay||200,this.tapTimeout=n.tapTimeout||700,!e.notNeeded(t)){for(var o=["onMouse","onClick","onTouchStart","onTouchMove","onTouchEnd","onTouchCancel"],a=this,s=0,u=o.length;s<u;s++)a[o[s]]=c(a[o[s]],a);i&&(t.addEventListener("mouseover",this.onMouse,!0),t.addEventListener("mousedown",this.onMouse,!0),t.addEventListener("mouseup",this.onMouse,!0)),t.addEventListener("click",this.onClick,!0),t.addEventListener("touchstart",this.onTouchStart,!1),t.addEventListener("touchmove",this.onTouchMove,!1),t.addEventListener("touchend",this.onTouchEnd,!1),t.addEventListener("touchcancel",this.onTouchCancel,!1),Event.prototype.stopImmediatePropagation||(t.removeEventListener=function(e,n,i){var r=Node.prototype.removeEventListener;"click"===e?r.call(t,e,n.hijacked||n,i):r.call(t,e,n,i)},t.addEventListener=function(e,n,i){var r=Node.prototype.addEventListener;"click"===e?r.call(t,e,n.hijacked||(n.hijacked=function(t){t.propagationStopped||n(t)}),i):r.call(t,e,n,i)}),"function"===typeof t.onclick&&(r=t.onclick,t.addEventListener("click",function(t){r(t)},!1),t.onclick=null)}function c(t,e){return function(){return t.apply(e,arguments)}}}var n=navigator.userAgent.indexOf("Windows Phone")>=0,i=navigator.userAgent.indexOf("Android")>0&&!n,r=/iP(ad|hone|od)/.test(navigator.userAgent)&&!n,o=r&&/OS 4_\d(_\d)?/.test(navigator.userAgent),a=r&&/OS [6-7]_\d/.test(navigator.userAgent),s=navigator.userAgent.indexOf("BB10")>0,u=["email","number","password","search","tel","text","url"];e.prototype.needsClick=function(t){switch(t.nodeName.toLowerCase()){case"button":case"select":case"textarea":if(t.disabled)return!0;break;case"input":if(r&&"file"===t.type||t.disabled)return!0;break;case"label":case"iframe":case"video":return!0}return/\bneedsclick\b/.test(t.className)},e.prototype.needsFocus=function(t){switch(t.nodeName.toLowerCase()){case"textarea":return!0;case"select":return!i;case"input":switch(t.type){case"button":case"checkbox":case"file":case"image":case"radio":case"submit":return!1}return!t.disabled&&!t.readOnly;default:return/\bneedsfocus\b/.test(t.className)}},e.prototype.sendClick=function(t,e){var n,i;document.activeElement&&document.activeElement!==t&&document.activeElement.blur(),i=e.changedTouches[0],n=document.createEvent("MouseEvents"),n.initMouseEvent(this.determineEventType(t),!0,!0,window,1,i.screenX,i.screenY,i.clientX,i.clientY,!1,!1,!1,!1,0,null),n.forwardedTouchEvent=!0,t.dispatchEvent(n)},e.prototype.determineEventType=function(t){return i&&"select"===t.tagName.toLowerCase()?"mousedown":"click"},e.prototype.focus=function(t){var e;r&&t.setSelectionRange&&0!==t.type.indexOf("date")&&"time"!==t.type&&"month"!==t.type&&"email"!==t.type&&"number"!==t.type?(e=t.value.length,t.setSelectionRange(e,e)):t.focus()},e.prototype.updateScrollParent=function(t){var e,n;if(e=t.fastClickScrollParent,!e||!e.contains(t)){n=t;do{if(n.scrollHeight>n.offsetHeight){e=n,t.fastClickScrollParent=n;break}n=n.parentElement}while(n)}e&&(e.fastClickLastScrollTop=e.scrollTop)},e.prototype.getTargetElementFromEventTarget=function(t){return t.nodeType===Node.TEXT_NODE?t.parentNode:t},e.prototype.isTextField=function(t){return"textarea"===t.tagName.toLowerCase()||-1!==u.indexOf(t.type)},e.prototype.onTouchStart=function(t){var e,n;if(t.targetTouches.length>1)return!0;if(e=this.getTargetElementFromEventTarget(t.target),n=t.targetTouches[0],e.isContentEditable)return!0;if(r){if(e===document.activeElement&&this.isTextField(e))return!0;if(!o){if(n.identifier&&n.identifier===this.lastTouchIdentifier)return t.preventDefault(),!1;this.lastTouchIdentifier=n.identifier,this.updateScrollParent(e)}}return this.trackingClick=!0,this.trackingClickStart=t.timeStamp,this.targetElement=e,this.touchStartX=n.pageX,this.touchStartY=n.pageY,t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1&&t.preventDefault(),!0},e.prototype.touchHasMoved=function(t){var e=t.changedTouches[0],n=this.touchBoundary;return Math.abs(e.pageX-this.touchStartX)>n||Math.abs(e.pageY-this.touchStartY)>n},e.prototype.onTouchMove=function(t){return!this.trackingClick||((this.targetElement!==this.getTargetElementFromEventTarget(t.target)||this.touchHasMoved(t))&&(this.trackingClick=!1,this.targetElement=null),!0)},e.prototype.findControl=function(t){return void 0!==t.control?t.control:t.htmlFor?document.getElementById(t.htmlFor):t.querySelector("button, input:not([type=hidden]), keygen, meter, output, progress, select, textarea")},e.prototype.onTouchEnd=function(t){var e,n,s,u,c,l=this.targetElement;if(!this.trackingClick)return!0;if(t.timeStamp-this.lastClickTime<this.tapDelay&&t.timeStamp-this.lastClickTime>-1)return this.cancelNextClick=!0,!0;if(t.timeStamp-this.trackingClickStart>this.tapTimeout)return!0;if(this.cancelNextClick=!1,this.lastClickTime=t.timeStamp,n=this.trackingClickStart,this.trackingClick=!1,this.trackingClickStart=0,a&&(c=t.changedTouches[0],l=document.elementFromPoint(c.pageX-window.pageXOffset,c.pageY-window.pageYOffset)||l,l.fastClickScrollParent=this.targetElement.fastClickScrollParent),s=l.tagName.toLowerCase(),"label"===s){if(e=this.findControl(l),e){if(this.focus(l),i)return!1;l=e}}else if(this.needsFocus(l))return t.timeStamp-n>100||r&&window.top!==window&&"input"===s?(this.targetElement=null,!1):(this.focus(l),this.sendClick(l,t),o&&"select"===s||(this.targetElement=null,t.preventDefault()),!1);return!(!r||o||(u=l.fastClickScrollParent,!u||u.fastClickLastScrollTop===u.scrollTop))||(this.needsClick(l)||(t.preventDefault(),this.sendClick(l,t)),!1)},e.prototype.onTouchCancel=function(){this.trackingClick=!1,this.targetElement=null},e.prototype.onMouse=function(t){return!this.targetElement||(!!t.forwardedTouchEvent||(!t.cancelable||(!(!this.needsClick(this.targetElement)||this.cancelNextClick)||(t.stopImmediatePropagation?t.stopImmediatePropagation():t.propagationStopped=!0,t.stopPropagation(),t.preventDefault(),!1))))},e.prototype.onClick=function(t){var e;return this.trackingClick?(this.targetElement=null,this.trackingClick=!1,!0):"submit"===t.target.type&&0===t.detail||(e=this.onMouse(t),e||(this.targetElement=null),e)},e.prototype.destroy=function(){var t=this.layer;i&&(t.removeEventListener("mouseover",this.onMouse,!0),t.removeEventListener("mousedown",this.onMouse,!0),t.removeEventListener("mouseup",this.onMouse,!0)),t.removeEventListener("click",this.onClick,!0),t.removeEventListener("touchstart",this.onTouchStart,!1),t.removeEventListener("touchmove",this.onTouchMove,!1),t.removeEventListener("touchend",this.onTouchEnd,!1),t.removeEventListener("touchcancel",this.onTouchCancel,!1)},e.notNeeded=function(t){var e,n,r,o;if("undefined"===typeof window.ontouchstart)return!0;if(n=+(/Chrome\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],n){if(!i)return!0;if(e=document.querySelector("meta[name=viewport]"),e){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(n>31&&document.documentElement.scrollWidth<=window.outerWidth)return!0}}if(s&&(r=navigator.userAgent.match(/Version\/([0-9]*)\.([0-9]*)/),r[1]>=10&&r[2]>=3&&(e=document.querySelector("meta[name=viewport]"),e))){if(-1!==e.content.indexOf("user-scalable=no"))return!0;if(document.documentElement.scrollWidth<=window.outerWidth)return!0}return"none"===t.style.msTouchAction||"manipulation"===t.style.touchAction||(o=+(/Firefox\/([0-9]+)/.exec(navigator.userAgent)||[,0])[1],!!(o>=27&&(e=document.querySelector("meta[name=viewport]"),e&&(-1!==e.content.indexOf("user-scalable=no")||document.documentElement.scrollWidth<=window.outerWidth)))||("none"===t.style.touchAction||"manipulation"===t.style.touchAction))},e.attach=function(t,n){return new e(t,n)},t.exports?(t.exports=e.attach,t.exports.FastClick=e):window.FastClick=e})()}),ee=te.FastClick;window.customElements&&(window.customElements.forcePolyfill=!0);var ne=Zt(function(t){var e=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=e)}),ie=Zt(function(t){var e=t.exports={version:"2.5.1"};"number"==typeof __e&&(__e=e)}),re=(ie.version,function(t){return"object"===("undefined"===typeof t?"undefined":r(t))?null!==t:"function"===typeof t}),oe=function(t){if(!re(t))throw TypeError(t+" is not an object!");return t},ae=function(t){try{return!!t()}catch(tu){return!0}},se=!ae(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a}),ue=ne.document,ce=re(ue)&&re(ue.createElement),le=function(t){return ce?ue.createElement(t):{}},he=!se&&!ae(function(){return 7!=Object.defineProperty(le("div"),"a",{get:function(){return 7}}).a}),fe=function(t,e){if(!re(t))return t;var n,i;if(e&&"function"==typeof(n=t.toString)&&!re(i=n.call(t)))return i;if("function"==typeof(n=t.valueOf)&&!re(i=n.call(t)))return i;if(!e&&"function"==typeof(n=t.toString)&&!re(i=n.call(t)))return i;throw TypeError("Can't convert object to primitive value")},de=Object.defineProperty,pe=se?Object.defineProperty:function(t,e,n){if(oe(t),e=fe(e,!0),oe(n),he)try{return de(t,e,n)}catch(tu){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t},ve={f:pe},me=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}},ge=se?function(t,e,n){return ve.f(t,e,me(1,n))}:function(t,e,n){return t[e]=n,t},_e={}.hasOwnProperty,ye=function(t,e){return _e.call(t,e)},be=0,we=Math.random(),ke=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++be+we).toString(36))},Ee=Zt(function(t){var e=ke("src"),n="toString",i=Function[n],r=(""+i).split(n);ie.inspectSource=function(t){return i.call(t)},(t.exports=function(t,n,i,o){var a="function"==typeof i;a&&(ye(i,"name")||ge(i,"name",n)),t[n]!==i&&(a&&(ye(i,e)||ge(i,e,t[n]?""+t[n]:r.join(String(n)))),t===ne?t[n]=i:o?t[n]?t[n]=i:ge(t,n,i):(delete t[n],ge(t,n,i)))})(Function.prototype,n,function(){return"function"==typeof this&&this[e]||i.call(this)})}),Ce=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t},Se=function(t,e,n){if(Ce(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}},Ae="prototype",Te=function t(e,n,i){var r,o,a,s,u=e&t.F,c=e&t.G,l=e&t.S,h=e&t.P,f=e&t.B,d=c?ne:l?ne[n]||(ne[n]={}):(ne[n]||{})[Ae],p=c?ie:ie[n]||(ie[n]={}),v=p[Ae]||(p[Ae]={});for(r in c&&(i=n),i)o=!u&&d&&void 0!==d[r],a=(o?d:i)[r],s=f&&o?Se(a,ne):h&&"function"==typeof a?Se(Function.call,a):a,d&&Ee(d,r,a,e&t.U),p[r]!=a&&ge(p,r,s),h&&v[r]!=a&&(v[r]=a)};ne.core=ie,Te.F=1,Te.G=2,Te.S=4,Te.P=8,Te.B=16,Te.W=32,Te.U=64,Te.R=128;var Oe=Te,xe={}.propertyIsEnumerable,Pe={f:xe},Ie={}.toString,Ne=function(t){return Ie.call(t).slice(8,-1)},Le=Object("z").propertyIsEnumerable(0)?Object:function(t){return"String"==Ne(t)?t.split(""):Object(t)},De=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t},Re=function(t){return Le(De(t))},Me=Object.getOwnPropertyDescriptor,je=se?Me:function(t,e){if(t=Re(t),e=fe(e,!0),he)try{return Me(t,e)}catch(tu){}if(ye(t,e))return me(!Pe.f.call(t,e),t[e])},Fe={f:je},Be=function(t,e){if(oe(t),!re(e)&&null!==e)throw TypeError(e+": can't set as prototype!")},qe={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,n){try{n=Se(Function.call,Fe.f(Object.prototype,"__proto__").set,2),n(t,[]),e=!(t instanceof Array)}catch(tu){e=!0}return function(t,i){return Be(t,i),e?t.__proto__=i:n(t,i),t}}({},!1):void 0),check:Be};Oe(Oe.S,"Object",{setPrototypeOf:qe.set});ie.Object.setPrototypeOf;var Ue="__core-js_shared__",$e=ne[Ue]||(ne[Ue]={}),Ve=function(t){return $e[t]||($e[t]={})},He=Zt(function(t){var e=Ve("wks"),n=ne.Symbol,i="function"==typeof n,r=t.exports=function(t){return e[t]||(e[t]=i&&n[t]||(i?n:ke)("Symbol."+t))};r.store=e}),We=He("toStringTag"),ze="Arguments"==Ne(function(){return arguments}()),Ge=function(t,e){try{return t[e]}catch(tu){}},Ke=function(t){var e,n,i;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=Ge(e=Object(t),We))?n:ze?Ne(e):"Object"==(i=Ne(e))&&"function"==typeof e.callee?"Arguments":i},Qe={};Qe[He("toStringTag")]="z",Qe+""!="[object z]"&&Ee(Object.prototype,"toString",function(){return"[object "+Ke(this)+"]"},!0);var Xe=Math.ceil,Ye=Math.floor,Je=function(t){return isNaN(t=+t)?0:(t>0?Ye:Xe)(t)},Ze=function(t){return function(e,n){var i,r,o=String(De(e)),a=Je(n),s=o.length;return a<0||a>=s?t?"":void 0:(i=o.charCodeAt(a),i<55296||i>56319||a+1===s||(r=o.charCodeAt(a+1))<56320||r>57343?t?o.charAt(a):i:t?o.slice(a,a+2):r-56320+(i-55296<<10)+65536)}},tn=!1,en={},nn=Math.min,rn=function(t){return t>0?nn(Je(t),9007199254740991):0},on=Math.max,an=Math.min,sn=function(t,e){return t=Je(t),t<0?on(t+e,0):an(t,e)},un=function(t){return function(e,n,i){var r,o=Re(e),a=rn(o.length),s=sn(i,a);if(t&&n!=n){while(a>s)if(r=o[s++],r!=r)return!0}else for(;a>s;s++)if((t||s in o)&&o[s]===n)return t||s||0;return!t&&-1}},cn=Ve("keys"),ln=function(t){return cn[t]||(cn[t]=ke(t))},hn=un(!1),fn=ln("IE_PROTO"),dn=function(t,e){var n,i=Re(t),r=0,o=[];for(n in i)n!=fn&&ye(i,n)&&o.push(n);while(e.length>r)ye(i,n=e[r++])&&(~hn(o,n)||o.push(n));return o},pn="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(","),vn=Object.keys||function(t){return dn(t,pn)},mn=se?Object.defineProperties:function(t,e){oe(t);var n,i=vn(e),r=i.length,o=0;while(r>o)ve.f(t,n=i[o++],e[n]);return t},gn=ne.document,_n=gn&&gn.documentElement,yn=ln("IE_PROTO"),bn=function(){},wn="prototype",kn=function(){var t,e=le("iframe"),n=pn.length,i="<",r=">";e.style.display="none",_n.appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(i+"script"+r+"document.F=Object"+i+"/script"+r),t.close(),kn=t.F;while(n--)delete kn[wn][pn[n]];return kn()},En=Object.create||function(t,e){var n;return null!==t?(bn[wn]=oe(t),n=new bn,bn[wn]=null,n[yn]=t):n=kn(),void 0===e?n:mn(n,e)},Cn=ve.f,Sn=He("toStringTag"),An=function(t,e,n){t&&!ye(t=n?t:t.prototype,Sn)&&Cn(t,Sn,{configurable:!0,value:e})},Tn={};ge(Tn,He("iterator"),function(){return this});var On=function(t,e,n){t.prototype=En(Tn,{next:me(1,n)}),An(t,e+" Iterator")},xn=function(t){return Object(De(t))},Pn=ln("IE_PROTO"),In=Object.prototype,Nn=Object.getPrototypeOf||function(t){return t=xn(t),ye(t,Pn)?t[Pn]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?In:null},Ln=He("iterator"),Dn=!([].keys&&"next"in[].keys()),Rn="@@iterator",Mn="keys",jn="values",Fn=function(){return this},Bn=function(t,e,n,i,r,o,a){On(n,e,i);var s,u,c,l=function(t){if(!Dn&&t in p)return p[t];switch(t){case Mn:return function(){return new n(this,t)};case jn:return function(){return new n(this,t)}}return function(){return new n(this,t)}},h=e+" Iterator",f=r==jn,d=!1,p=t.prototype,v=p[Ln]||p[Rn]||r&&p[r],m=v||l(r),g=r?f?l("entries"):m:void 0,_="Array"==e&&p.entries||v;if(_&&(c=Nn(_.call(new t)),c!==Object.prototype&&c.next&&(An(c,h,!0),tn||ye(c,Ln)||ge(c,Ln,Fn))),f&&v&&v.name!==jn&&(d=!0,m=function(){return v.call(this)}),tn&&!a||!Dn&&!d&&p[Ln]||ge(p,Ln,m),en[e]=m,en[h]=Fn,r)if(s={values:f?m:l(jn),keys:o?m:l(Mn),entries:g},a)for(u in s)u in p||Ee(p,u,s[u]);else Oe(Oe.P+Oe.F*(Dn||d),e,s);return s},qn=Ze(!0);Bn(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=qn(e,n),this._i+=t.length,{value:t,done:!1})});var Un=He("unscopables"),$n=Array.prototype;void 0==$n[Un]&&ge($n,Un,{});var Vn=function(t){$n[Un][t]=!0},Hn=function(t,e){return{value:e,done:!!t}},Wn=Bn(Array,"Array",function(t,e){this._t=Re(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,Hn(1)):Hn(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values");en.Arguments=en.Array,Vn("keys"),Vn("values"),Vn("entries");for(var zn=He("iterator"),Gn=He("toStringTag"),Kn=en.Array,Qn={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},Xn=vn(Qn),Yn=0;Yn<Xn.length;Yn++){var Jn,Zn=Xn[Yn],ti=Qn[Zn],ei=ne[Zn],ni=ei&&ei.prototype;if(ni&&(ni[zn]||ge(ni,zn,Kn),ni[Gn]||ge(ni,Gn,Zn),en[Zn]=Kn,ti))for(Jn in Wn)ni[Jn]||Ee(ni,Jn,Wn[Jn],!0)}var ii=function(t,e,n){for(var i in e)Ee(t,i,e[i],n);return t},ri=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t},oi=function(t,e,n,i){try{return i?e(oe(n)[0],n[1]):e(n)}catch(tu){var r=t["return"];throw void 0!==r&&oe(r.call(t)),tu}},ai=He("iterator"),si=Array.prototype,ui=function(t){return void 0!==t&&(en.Array===t||si[ai]===t)},ci=He("iterator"),li=ie.getIteratorMethod=function(t){if(void 0!=t)return t[ci]||t["@@iterator"]||en[Ke(t)]},hi=Zt(function(t){var e={},n={},i=t.exports=function(t,i,r,o,a){var s,u,c,l,h=a?function(){return t}:li(t),f=Se(r,o,i?2:1),d=0;if("function"!=typeof h)throw TypeError(t+" is not iterable!");if(ui(h)){for(s=rn(t.length);s>d;d++)if(l=i?f(oe(u=t[d])[0],u[1]):f(t[d]),l===e||l===n)return l}else for(c=h.call(t);!(u=c.next()).done;)if(l=oi(c,f,u.value,i),l===e||l===n)return l};i.BREAK=e,i.RETURN=n}),fi=He("species"),di=function(t){var e=ne[t];se&&e&&!e[fi]&&ve.f(e,fi,{configurable:!0,get:function(){return this}})},pi=Zt(function(t){var e=ke("meta"),n=ve.f,i=0,o=Object.isExtensible||function(){return!0},a=!ae(function(){return o(Object.preventExtensions({}))}),s=function(t){n(t,e,{value:{i:"O"+ ++i,w:{}}})},u=function(t,n){if(!re(t))return"symbol"==("undefined"===typeof t?"undefined":r(t))?t:("string"==typeof t?"S":"P")+t;if(!ye(t,e)){if(!o(t))return"F";if(!n)return"E";s(t)}return t[e].i},c=function(t,n){if(!ye(t,e)){if(!o(t))return!0;if(!n)return!1;s(t)}return t[e].w},l=function(t){return a&&h.NEED&&o(t)&&!ye(t,e)&&s(t),t},h=t.exports={KEY:e,NEED:!1,fastKey:u,getWeak:c,onFreeze:l}}),vi=(pi.KEY,pi.NEED,pi.fastKey,pi.getWeak,pi.onFreeze,function(t,e){if(!re(t)||t._t!==e)throw TypeError("Incompatible receiver, "+e+" required!");return t}),mi=ve.f,gi=pi.fastKey,_i=se?"_s":"size",yi=function(t,e){var n,i=gi(e);if("F"!==i)return t._i[i];for(n=t._f;n;n=n.n)if(n.k==e)return n},bi={getConstructor:function(t,e,n,i){var r=t(function(t,o){ri(t,r,e,"_i"),t._t=e,t._i=En(null),t._f=void 0,t._l=void 0,t[_i]=0,void 0!=o&&hi(o,n,t[i],t)});return ii(r.prototype,{clear:function(){for(var t=vi(this,e),n=t._i,i=t._f;i;i=i.n)i.r=!0,i.p&&(i.p=i.p.n=void 0),delete n[i.i];t._f=t._l=void 0,t[_i]=0},delete:function(t){var n=vi(this,e),i=yi(n,t);if(i){var r=i.n,o=i.p;delete n._i[i.i],i.r=!0,o&&(o.n=r),r&&(r.p=o),n._f==i&&(n._f=r),n._l==i&&(n._l=o),n[_i]--}return!!i},forEach:function(t){vi(this,e);var n,i=Se(t,arguments.length>1?arguments[1]:void 0,3);while(n=n?n.n:this._f){i(n.v,n.k,this);while(n&&n.r)n=n.p}},has:function(t){return!!yi(vi(this,e),t)}}),se&&mi(r.prototype,"size",{get:function(){return vi(this,e)[_i]}}),r},def:function(t,e,n){var i,r,o=yi(t,e);return o?o.v=n:(t._l=o={i:r=gi(e,!0),k:e,v:n,p:i=t._l,n:void 0,r:!1},t._f||(t._f=o),i&&(i.n=o),t[_i]++,"F"!==r&&(t._i[r]=o)),t},getEntry:yi,setStrong:function(t,e,n){Bn(t,e,function(t,n){this._t=vi(t,e),this._k=n,this._l=void 0},function(){var t=this,e=t._k,n=t._l;while(n&&n.r)n=n.p;return t._t&&(t._l=n=n?n.n:t._t._f)?Hn(0,"keys"==e?n.k:"values"==e?n.v:[n.k,n.v]):(t._t=void 0,Hn(1))},n?"entries":"values",!n,!0),di(e)}},wi=He("iterator"),ki=!1;try{var Ei=[7][wi]();Ei["return"]=function(){ki=!0}}catch(tu){}var Ci=function(t,e){if(!e&&!ki)return!1;var n=!1;try{var i=[7],r=i[wi]();r.next=function(){return{done:n=!0}},i[wi]=function(){return r},t(i)}catch(tu){}return n},Si=qe.set,Ai=function(t,e,n){var i,r=e.constructor;return r!==n&&"function"==typeof r&&(i=r.prototype)!==n.prototype&&re(i)&&Si&&Si(t,i),t},Ti=function(t,e,n,i,r,o){var a=ne[t],s=a,u=r?"set":"add",c=s&&s.prototype,l={},h=function(t){var e=c[t];Ee(c,t,"delete"==t?function(t){return!(o&&!re(t))&&e.call(this,0===t?0:t)}:"has"==t?function(t){return!(o&&!re(t))&&e.call(this,0===t?0:t)}:"get"==t?function(t){return o&&!re(t)?void 0:e.call(this,0===t?0:t)}:"add"==t?function(t){return e.call(this,0===t?0:t),this}:function(t,n){return e.call(this,0===t?0:t,n),this})};if("function"==typeof s&&(o||c.forEach&&!ae(function(){(new s).entries().next()}))){var f=new s,d=f[u](o?{}:-0,1)!=f,p=ae(function(){f.has(1)}),v=Ci(function(t){new s(t)}),m=!o&&ae(function(){var t=new s,e=5;while(e--)t[u](e,e);return!t.has(-0)});v||(s=e(function(e,n){ri(e,s,t);var i=Ai(new a,e,s);return void 0!=n&&hi(n,r,i[u],i),i}),s.prototype=c,c.constructor=s),(p||m)&&(h("delete"),h("has"),r&&h("get")),(m||d)&&h(u),o&&c.clear&&delete c.clear}else s=i.getConstructor(e,t,r,u),ii(s.prototype,n),pi.NEED=!0;return An(s,t),l[t]=s,Oe(Oe.G+Oe.W+Oe.F*(s!=a),l),o||i.setStrong(s,t,r),s},Oi="Set",xi=(Ti(Oi,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{add:function(t){return bi.def(vi(this,Oi),t=0===t?0:t,t)}},bi),function(t,e){var n=[];return hi(t,!1,n.push,n,e),n}),Pi=function(t){return function(){if(Ke(this)!=t)throw TypeError(t+"#toJSON isn't generic");return xi(this)}};Oe(Oe.P+Oe.R,"Set",{toJSON:Pi("Set")});var Ii=function(t){Oe(Oe.S,t,{of:function(){var t=arguments.length,e=Array(t);while(t--)e[t]=arguments[t];return new this(e)}})};Ii("Set");var Ni=function(t){Oe(Oe.S,t,{from:function(t){var e,n,i,r,o=arguments[1];return Ce(this),e=void 0!==o,e&&Ce(o),void 0==t?new this:(n=[],e?(i=0,r=Se(o,arguments[2],2),hi(t,!1,function(t){n.push(r(t,i++))})):hi(t,!1,n.push,n),new this(n))}})};Ni("Set");ie.Set;var Li="Map";Ti(Li,function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},{get:function(t){var e=bi.getEntry(vi(this,Li),t);return e&&e.v},set:function(t,e){return bi.def(vi(this,Li),0===t?0:t,e)}},bi,!0);Oe(Oe.P+Oe.R,"Map",{toJSON:Pi("Map")}),Ii("Map"),Ni("Map");ie.Map;var Di=Array.isArray||function(t){return"Array"==Ne(t)},Ri=He("species"),Mi=function(t){var e;return Di(t)&&(e=t.constructor,"function"!=typeof e||e!==Array&&!Di(e.prototype)||(e=void 0),re(e)&&(e=e[Ri],null===e&&(e=void 0))),void 0===e?Array:e},ji=function(t,e){return new(Mi(t))(e)},Fi=function(t,e){var n=1==t,i=2==t,r=3==t,o=4==t,a=6==t,s=5==t||a,u=e||ji;return function(e,c,l){for(var h,f,d=xn(e),p=Le(d),v=Se(c,l,3),m=rn(p.length),g=0,_=n?u(e,m):i?u(e,0):void 0;m>g;g++)if((s||g in p)&&(h=p[g],f=v(h,g,d),t))if(n)_[g]=f;else if(f)switch(t){case 3:return!0;case 5:return h;case 6:return g;case 2:_.push(h)}else if(o)return!1;return a?-1:r||o?o:_}},Bi=Object.getOwnPropertySymbols,qi={f:Bi},Ui=Object.assign,$i=!Ui||ae(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=Ui({},t)[n]||Object.keys(Ui({},e)).join("")!=i})?function(t,e){var n=xn(t),i=arguments.length,r=1,o=qi.f,a=Pe.f;while(i>r){var s,u=Le(arguments[r++]),c=o?vn(u).concat(o(u)):vn(u),l=c.length,h=0;while(l>h)a.call(u,s=c[h++])&&(n[s]=u[s])}return n}:Ui,Vi=pi.getWeak,Hi=Fi(5),Wi=Fi(6),zi=0,Gi=function(t){return t._l||(t._l=new Ki)},Ki=function(){this.a=[]},Qi=function(t,e){return Hi(t.a,function(t){return t[0]===e})};Ki.prototype={get:function(t){var e=Qi(this,t);if(e)return e[1]},has:function(t){return!!Qi(this,t)},set:function(t,e){var n=Qi(this,t);n?n[1]=e:this.a.push([t,e])},delete:function(t){var e=Wi(this.a,function(e){return e[0]===t});return~e&&this.a.splice(e,1),!!~e}};var Xi={getConstructor:function(t,e,n,i){var r=t(function(t,o){ri(t,r,e,"_i"),t._t=e,t._i=zi++,t._l=void 0,void 0!=o&&hi(o,n,t[i],t)});return ii(r.prototype,{delete:function(t){if(!re(t))return!1;var n=Vi(t);return!0===n?Gi(vi(this,e))["delete"](t):n&&ye(n,this._i)&&delete n[this._i]},has:function(t){if(!re(t))return!1;var n=Vi(t);return!0===n?Gi(vi(this,e)).has(t):n&&ye(n,this._i)}}),r},def:function(t,e,n){var i=Vi(oe(e),!0);return!0===i?Gi(t).set(e,n):i[t._i]=n,t},ufstore:Gi};Zt(function(t){var e,n=Fi(0),i="WeakMap",r=pi.getWeak,o=Object.isExtensible,a=Xi.ufstore,s={},u=function(t){return function(){return t(this,arguments.length>0?arguments[0]:void 0)}},c={get:function(t){if(re(t)){var e=r(t);return!0===e?a(vi(this,i)).get(t):e?e[this._i]:void 0}},set:function(t,e){return Xi.def(vi(this,i),t,e)}},l=t.exports=Ti(i,u,c,Xi,!0,!0);ae(function(){return 7!=(new l).set((Object.freeze||Object)(s),7).get(s)})&&(e=Xi.getConstructor(u,i),$i(e.prototype,c),pi.NEED=!0,n(["delete","has","get","set"],function(t){var n=l.prototype,i=n[t];Ee(n,t,function(n,r){if(re(n)&&!o(n)){this._f||(this._f=new e);var a=this._f[t](n,r);return"set"==t?this:a}return i.call(this,n,r)})}))});Ii("WeakMap"),Ni("WeakMap");ie.WeakMap;var Yi=function(t,e,n){e in t?ve.f(t,e,me(0,n)):t[e]=n};Oe(Oe.S+Oe.F*!Ci(function(t){}),"Array",{from:function(t){var e,n,i,r,o=xn(t),a="function"==typeof this?this:Array,s=arguments.length,u=s>1?arguments[1]:void 0,c=void 0!==u,l=0,h=li(o);if(c&&(u=Se(u,s>2?arguments[2]:void 0,2)),void 0==h||a==Array&&ui(h))for(e=rn(o.length),n=new a(e);e>l;l++)Yi(n,l,c?u(o[l],l):o[l]);else for(r=h.call(o),n=new a;!(i=r.next()).done;l++)Yi(n,l,c?oi(r,u,[i.value,l],!0):i.value);return n.length=l,n}});ie.Array.from;var Ji=new Set(["annotation-xml","color-profile","font-face","font-face-src","font-face-uri","font-face-format","font-face-name","missing-glyph"]);function Zi(t){var e=Ji.has(t),n=/^[a-z][.0-9_a-z]*-[\-.0-9_a-z]*$/.test(t);return!e&&n}function tr(t){var e=t.isConnected;if(void 0!==e)return e;var n=t;while(n&&!(n.__CE_isImportDocument||n instanceof Document))n=n.parentNode||(window.ShadowRoot&&n instanceof ShadowRoot?n.host:void 0);return!(!n||!(n.__CE_isImportDocument||n instanceof Document))}function er(t,e){var n=e;while(n&&n!==t&&!n.nextSibling)n=n.parentNode;return n&&n!==t?n.nextSibling:null}function nr(t,e){return e.firstChild?e.firstChild:er(t,e)}function ir(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:new Set,i=t;while(i){if(i.nodeType===Node.ELEMENT_NODE){var r=i;e(r);var o=r.localName;if("link"===o&&"import"===r.getAttribute("rel")){var a=r.import;if(a instanceof Node&&!n.has(a)){n.add(a);for(var s=a.firstChild;s;s=s.nextSibling)ir(s,e,n)}i=er(t,r);continue}if("template"===o){i=er(t,r);continue}var u=r.__CE_shadowRoot;if(u)for(var c=u.firstChild;c;c=c.nextSibling)ir(c,e,n)}i=nr(t,i)}}function rr(t,e,n){t[e]=n}var or={custom:1,failed:2},ar=function(){function t(){o(this,t),this._localNameToDefinition=new Map,this._constructorToDefinition=new Map,this._patches=[],this._hasPatches=!1}return a(t,[{key:"setDefinition",value:function(t,e){this._localNameToDefinition.set(t,e),this._constructorToDefinition.set(e.constructor,e)}},{key:"localNameToDefinition",value:function(t){return this._localNameToDefinition.get(t)}},{key:"constructorToDefinition",value:function(t){return this._constructorToDefinition.get(t)}},{key:"addPatch",value:function(t){this._hasPatches=!0,this._patches.push(t)}},{key:"patchTree",value:function(t){var e=this;this._hasPatches&&ir(t,function(t){return e.patch(t)})}},{key:"patch",value:function(t){if(this._hasPatches&&!t.__CE_patched){t.__CE_patched=!0;for(var e=0;e<this._patches.length;e++)this._patches[e](t)}}},{key:"connectTree",value:function(t){var e=[];ir(t,function(t){return e.push(t)});for(var n=0;n<e.length;n++){var i=e[n];i.__CE_state===or.custom?tr(i)&&this.connectedCallback(i):this.upgradeElement(i)}}},{key:"disconnectTree",value:function(t){var e=[];ir(t,function(t){return e.push(t)});for(var n=0;n<e.length;n++){var i=e[n];i.__CE_state===or.custom&&this.disconnectedCallback(i)}}},{key:"patchAndUpgradeTree",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:new Set,i=[],r=function(t){if("link"===t.localName&&"import"===t.getAttribute("rel")){var r=t.import;r instanceof Node&&"complete"===r.readyState?(r.__CE_isImportDocument=!0,r.__CE_hasRegistry=!0):t.addEventListener("load",function(){var i=t.import;i.__CE_documentLoadHandled||(i.__CE_documentLoadHandled=!0,i.__CE_isImportDocument=!0,i.__CE_hasRegistry=!0,n.delete(i),e.patchAndUpgradeTree(i,n))})}else i.push(t)};if(ir(t,r,n),this._hasPatches)for(var o=0;o<i.length;o++)this.patch(i[o]);for(var a=0;a<i.length;a++)this.upgradeElement(i[a])}},{key:"upgradeElement",value:function(t){var e=t.__CE_state;if(void 0===e){var n=this.localNameToDefinition(t.localName);if(n){n.constructionStack.push(t);var i=n.constructor;try{try{var r=new i;if(r!==t)throw new Error("The custom element constructor did not produce the element being upgraded.")}finally{n.constructionStack.pop()}}catch(tu){throw t.__CE_state=or.failed,tu}if(t.__CE_state=or.custom,t.__CE_definition=n,n.attributeChangedCallback)for(var o=n.observedAttributes,a=0;a<o.length;a++){var s=o[a],u=t.getAttribute(s);null!==u&&this.attributeChangedCallback(t,s,null,u,null)}tr(t)&&this.connectedCallback(t)}}}},{key:"connectedCallback",value:function(t){var e=t.__CE_definition;e.connectedCallback&&e.connectedCallback.call(t),t.__CE_isConnectedCallbackCalled=!0}},{key:"disconnectedCallback",value:function(t){t.__CE_isConnectedCallbackCalled||this.connectedCallback(t);var e=t.__CE_definition;e.disconnectedCallback&&e.disconnectedCallback.call(t),t.__CE_isConnectedCallbackCalled=void 0}},{key:"attributeChangedCallback",value:function(t,e,n,i,r){var o=t.__CE_definition;o.attributeChangedCallback&&o.observedAttributes.indexOf(e)>-1&&o.attributeChangedCallback.call(t,e,n,i,r)}}]),t}(),sr=function(){function t(e,n){o(this,t),this._internals=e,this._document=n,this._observer=void 0,this._internals.patchAndUpgradeTree(this._document),"loading"===this._document.readyState&&(this._observer=new MutationObserver(this._handleMutations.bind(this)),this._observer.observe(this._document,{childList:!0,subtree:!0}))}return a(t,[{key:"disconnect",value:function(){this._observer&&this._observer.disconnect()}},{key:"_handleMutations",value:function(t){var e=this._document.readyState;"interactive"!==e&&"complete"!==e||this.disconnect();for(var n=0;n<t.length;n++)for(var i=t[n].addedNodes,r=0;r<i.length;r++){var o=i[r];this._internals.patchAndUpgradeTree(o)}}}]),t}(),ur=function(){function t(){var e=this;o(this,t),this._value=void 0,this._resolve=void 0,this._promise=new Promise(function(t){e._resolve=t,e._value&&t(e._value)})}return a(t,[{key:"resolve",value:function(t){if(this._value)throw new Error("Already resolved.");this._value=t,this._resolve&&this._resolve(t)}},{key:"toPromise",value:function(){return this._promise}}]),t}(),cr=function(){function t(e){o(this,t),this._elementDefinitionIsRunning=!1,this._internals=e,this._whenDefinedDeferred=new Map,this._flushCallback=function(t){return t()},this._flushPending=!1,this._unflushedLocalNames=[],this._documentConstructionObserver=new sr(e,document)}return a(t,[{key:"define",value:function(t,e){var n=this;if(!(e instanceof Function))throw new TypeError("Custom element constructors must be functions.");if(!Zi(t))throw new SyntaxError("The element name '"+t+"' is not valid.");if(this._internals.localNameToDefinition(t))throw new Error("A custom element with name '"+t+"' has already been defined.");if(this._elementDefinitionIsRunning)throw new Error("A custom element is already being defined.");this._elementDefinitionIsRunning=!0;var i=void 0,r=void 0,o=void 0,a=void 0,s=void 0;try{var u=function(t){var e=c[t];if(void 0!==e&&!(e instanceof Function))throw new Error("The '"+t+"' callback must be a function.");return e},c=e.prototype;if(!(c instanceof Object))throw new TypeError("The custom element constructor's prototype is not an object.");i=u("connectedCallback"),r=u("disconnectedCallback"),o=u("adoptedCallback"),a=u("attributeChangedCallback"),s=e["observedAttributes"]||[]}catch(tu){return}finally{this._elementDefinitionIsRunning=!1}var l={localName:t,constructor:e,connectedCallback:i,disconnectedCallback:r,adoptedCallback:o,attributeChangedCallback:a,observedAttributes:s,constructionStack:[]};this._internals.setDefinition(t,l),this._unflushedLocalNames.push(t),this._flushPending||(this._flushPending=!0,this._flushCallback(function(){return n._flush()}))}},{key:"_flush",value:function(){if(!1!==this._flushPending){this._flushPending=!1,this._internals.patchAndUpgradeTree(document);while(this._unflushedLocalNames.length>0){var t=this._unflushedLocalNames.shift(),e=this._whenDefinedDeferred.get(t);e&&e.resolve(void 0)}}}},{key:"get",value:function(t){var e=this._internals.localNameToDefinition(t);if(e)return e.constructor}},{key:"whenDefined",value:function(t){if(!Zi(t))return Promise.reject(new SyntaxError("'"+t+"' is not a valid custom element name."));var e=this._whenDefinedDeferred.get(t);if(e)return e.toPromise();var n=new ur;this._whenDefinedDeferred.set(t,n);var i=this._internals.localNameToDefinition(t);return i&&-1===this._unflushedLocalNames.indexOf(t)&&n.resolve(void 0),n.toPromise()}},{key:"polyfillWrapFlushCallback",value:function(t){this._documentConstructionObserver.disconnect();var e=this._flushCallback;this._flushCallback=function(n){return t(function(){return e(n)})}}}]),t}();window["CustomElementRegistry"]=cr,cr.prototype["define"]=cr.prototype.define,cr.prototype["get"]=cr.prototype.get,cr.prototype["whenDefined"]=cr.prototype.whenDefined,cr.prototype["polyfillWrapFlushCallback"]=cr.prototype.polyfillWrapFlushCallback;var lr={Document_createElement:window.Document.prototype.createElement,Document_createElementNS:window.Document.prototype.createElementNS,Document_importNode:window.Document.prototype.importNode,Document_prepend:window.Document.prototype["prepend"],Document_append:window.Document.prototype["append"],Node_cloneNode:window.Node.prototype.cloneNode,Node_appendChild:window.Node.prototype.appendChild,Node_insertBefore:window.Node.prototype.insertBefore,Node_removeChild:window.Node.prototype.removeChild,Node_replaceChild:window.Node.prototype.replaceChild,Node_textContent:Object.getOwnPropertyDescriptor(window.Node.prototype,"textContent"),Element_attachShadow:window.Element.prototype["attachShadow"],Element_innerHTML:Object.getOwnPropertyDescriptor(window.Element.prototype,"innerHTML"),Element_getAttribute:window.Element.prototype.getAttribute,Element_setAttribute:window.Element.prototype.setAttribute,Element_removeAttribute:window.Element.prototype.removeAttribute,Element_getAttributeNS:window.Element.prototype.getAttributeNS,Element_setAttributeNS:window.Element.prototype.setAttributeNS,Element_removeAttributeNS:window.Element.prototype.removeAttributeNS,Element_insertAdjacentElement:window.Element.prototype["insertAdjacentElement"],Element_prepend:window.Element.prototype["prepend"],Element_append:window.Element.prototype["append"],Element_before:window.Element.prototype["before"],Element_after:window.Element.prototype["after"],Element_replaceWith:window.Element.prototype["replaceWith"],Element_remove:window.Element.prototype["remove"],HTMLElement:window.HTMLElement,HTMLElement_innerHTML:Object.getOwnPropertyDescriptor(window.HTMLElement.prototype,"innerHTML"),HTMLElement_insertAdjacentElement:window.HTMLElement.prototype["insertAdjacentElement"]},hr=function t(){o(this,t)},fr=new hr,dr=function(t){window["HTMLElement"]=function(){function e(){var e=this.constructor,n=t.constructorToDefinition(e);if(!n)throw new Error("The custom element being constructed was not registered with `customElements`.");var i=n.constructionStack;if(0===i.length){var r=lr.Document_createElement.call(document,n.localName);return Object.setPrototypeOf(r,e.prototype),r.__CE_state=or.custom,r.__CE_definition=n,t.patch(r),r}var o=i.length-1,a=i[o];if(a===fr)throw new Error("The HTMLElement constructor was either called reentrantly for this constructor or called multiple times.");return i[o]=fr,Object.setPrototypeOf(a,e.prototype),t.patch(a),a}return e.prototype=lr.HTMLElement.prototype,e}()},pr=function(t,e,n){e["prepend"]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=i.filter(function(t){return t instanceof Node&&tr(t)});n.prepend.apply(this,i);for(var a=0;a<o.length;a++)t.disconnectTree(o[a]);if(tr(this))for(var s=0;s<i.length;s++){var u=i[s];u instanceof Element&&t.connectTree(u)}},e["append"]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=i.filter(function(t){return t instanceof Node&&tr(t)});n.append.apply(this,i);for(var a=0;a<o.length;a++)t.disconnectTree(o[a]);if(tr(this))for(var s=0;s<i.length;s++){var u=i[s];u instanceof Element&&t.connectTree(u)}}},vr=function(t){rr(Document.prototype,"createElement",function(e){if(this.__CE_hasRegistry){var n=t.localNameToDefinition(e);if(n)return new n.constructor}var i=lr.Document_createElement.call(this,e);return t.patch(i),i}),rr(Document.prototype,"importNode",function(e,n){var i=lr.Document_importNode.call(this,e,n);return this.__CE_hasRegistry?t.patchAndUpgradeTree(i):t.patchTree(i),i});var e="http://www.w3.org/1999/xhtml";rr(Document.prototype,"createElementNS",function(n,i){if(this.__CE_hasRegistry&&(null===n||n===e)){var r=t.localNameToDefinition(i);if(r)return new r.constructor}var o=lr.Document_createElementNS.call(this,n,i);return t.patch(o),o}),pr(t,Document.prototype,{prepend:lr.Document_prepend,append:lr.Document_append})},mr=function(t){function e(e,n){Object.defineProperty(e,"textContent",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){if(this.nodeType!==Node.TEXT_NODE){var i=void 0;if(this.firstChild){var r=this.childNodes,o=r.length;if(o>0&&tr(this)){i=new Array(o);for(var a=0;a<o;a++)i[a]=r[a]}}if(n.set.call(this,e),i)for(var s=0;s<i.length;s++)t.disconnectTree(i[s])}else n.set.call(this,e)}})}rr(Node.prototype,"insertBefore",function(e,n){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes),r=lr.Node_insertBefore.call(this,e,n);if(tr(this))for(var o=0;o<i.length;o++)t.connectTree(i[o]);return r}var a=tr(e),s=lr.Node_insertBefore.call(this,e,n);return a&&t.disconnectTree(e),tr(this)&&t.connectTree(e),s}),rr(Node.prototype,"appendChild",function(e){if(e instanceof DocumentFragment){var n=Array.prototype.slice.apply(e.childNodes),i=lr.Node_appendChild.call(this,e);if(tr(this))for(var r=0;r<n.length;r++)t.connectTree(n[r]);return i}var o=tr(e),a=lr.Node_appendChild.call(this,e);return o&&t.disconnectTree(e),tr(this)&&t.connectTree(e),a}),rr(Node.prototype,"cloneNode",function(e){var n=lr.Node_cloneNode.call(this,e);return this.ownerDocument.__CE_hasRegistry?t.patchAndUpgradeTree(n):t.patchTree(n),n}),rr(Node.prototype,"removeChild",function(e){var n=tr(e),i=lr.Node_removeChild.call(this,e);return n&&t.disconnectTree(e),i}),rr(Node.prototype,"replaceChild",function(e,n){if(e instanceof DocumentFragment){var i=Array.prototype.slice.apply(e.childNodes),r=lr.Node_replaceChild.call(this,e,n);if(tr(this)){t.disconnectTree(n);for(var o=0;o<i.length;o++)t.connectTree(i[o])}return r}var a=tr(e),s=lr.Node_replaceChild.call(this,e,n),u=tr(this);return u&&t.disconnectTree(n),a&&t.disconnectTree(e),u&&t.connectTree(e),s}),lr.Node_textContent&&lr.Node_textContent.get?e(Node.prototype,lr.Node_textContent):t.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){for(var t=[],e=0;e<this.childNodes.length;e++)t.push(this.childNodes[e].textContent);return t.join("")},set:function(t){while(this.firstChild)lr.Node_removeChild.call(this,this.firstChild);lr.Node_appendChild.call(this,document.createTextNode(t))}})})},gr=function(t,e,n){e["before"]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=i.filter(function(t){return t instanceof Node&&tr(t)});n.before.apply(this,i);for(var a=0;a<o.length;a++)t.disconnectTree(o[a]);if(tr(this))for(var s=0;s<i.length;s++){var u=i[s];u instanceof Element&&t.connectTree(u)}},e["after"]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=i.filter(function(t){return t instanceof Node&&tr(t)});n.after.apply(this,i);for(var a=0;a<o.length;a++)t.disconnectTree(o[a]);if(tr(this))for(var s=0;s<i.length;s++){var u=i[s];u instanceof Element&&t.connectTree(u)}},e["replaceWith"]=function(){for(var e=arguments.length,i=Array(e),r=0;r<e;r++)i[r]=arguments[r];var o=i.filter(function(t){return t instanceof Node&&tr(t)}),a=tr(this);n.replaceWith.apply(this,i);for(var s=0;s<o.length;s++)t.disconnectTree(o[s]);if(a){t.disconnectTree(this);for(var u=0;u<i.length;u++){var c=i[u];c instanceof Element&&t.connectTree(c)}}},e["remove"]=function(){var e=tr(this);n.remove.call(this),e&&t.disconnectTree(this)}},_r=function(t){function e(e,n){Object.defineProperty(e,"innerHTML",{enumerable:n.enumerable,configurable:!0,get:n.get,set:function(e){var i=this,r=tr(this),o=void 0;if(r&&(o=[],ir(this,function(t){t!==i&&o.push(t)})),n.set.call(this,e),o)for(var a=0;a<o.length;a++){var s=o[a];s.__CE_state===or.custom&&t.disconnectedCallback(s)}return this.ownerDocument.__CE_hasRegistry?t.patchAndUpgradeTree(this):t.patchTree(this),e}})}if(lr.Element_attachShadow?rr(Element.prototype,"attachShadow",function(t){var e=lr.Element_attachShadow.call(this,t);return this.__CE_shadowRoot=e,e}):console.warn("Custom Elements: `Element#attachShadow` was not patched."),lr.Element_innerHTML&&lr.Element_innerHTML.get)e(Element.prototype,lr.Element_innerHTML);else if(lr.HTMLElement_innerHTML&&lr.HTMLElement_innerHTML.get)e(HTMLElement.prototype,lr.HTMLElement_innerHTML);else{var n=lr.Document_createElement.call(document,"div");t.addPatch(function(t){e(t,{enumerable:!0,configurable:!0,get:function(){return lr.Node_cloneNode.call(this,!0).innerHTML},set:function(t){var e="template"===this.localName?this.content:this;n.innerHTML=t;while(e.childNodes.length>0)lr.Node_removeChild.call(e,e.childNodes[0]);while(n.childNodes.length>0)lr.Node_appendChild.call(e,n.childNodes[0])}})})}function i(e,n){rr(e,"insertAdjacentElement",function(e,i){var r=tr(i),o=n.call(this,e,i);return r&&t.disconnectTree(i),tr(o)&&t.connectTree(i),o})}rr(Element.prototype,"setAttribute",function(e,n){if(this.__CE_state!==or.custom)return lr.Element_setAttribute.call(this,e,n);var i=lr.Element_getAttribute.call(this,e);lr.Element_setAttribute.call(this,e,n),n=lr.Element_getAttribute.call(this,e),t.attributeChangedCallback(this,e,i,n,null)}),rr(Element.prototype,"setAttributeNS",function(e,n,i){if(this.__CE_state!==or.custom)return lr.Element_setAttributeNS.call(this,e,n,i);var r=lr.Element_getAttributeNS.call(this,e,n);lr.Element_setAttributeNS.call(this,e,n,i),i=lr.Element_getAttributeNS.call(this,e,n),t.attributeChangedCallback(this,n,r,i,e)}),rr(Element.prototype,"removeAttribute",function(e){if(this.__CE_state!==or.custom)return lr.Element_removeAttribute.call(this,e);var n=lr.Element_getAttribute.call(this,e);lr.Element_removeAttribute.call(this,e),null!==n&&t.attributeChangedCallback(this,e,n,null,null)}),rr(Element.prototype,"removeAttributeNS",function(e,n){if(this.__CE_state!==or.custom)return lr.Element_removeAttributeNS.call(this,e,n);var i=lr.Element_getAttributeNS.call(this,e,n);lr.Element_removeAttributeNS.call(this,e,n);var r=lr.Element_getAttributeNS.call(this,e,n);i!==r&&t.attributeChangedCallback(this,n,i,r,e)}),lr.HTMLElement_insertAdjacentElement?i(HTMLElement.prototype,lr.HTMLElement_insertAdjacentElement):lr.Element_insertAdjacentElement?i(Element.prototype,lr.Element_insertAdjacentElement):console.warn("Custom Elements: `Element#insertAdjacentElement` was not patched."),pr(t,Element.prototype,{prepend:lr.Element_prepend,append:lr.Element_append}),gr(t,Element.prototype,{before:lr.Element_before,after:lr.Element_after,replaceWith:lr.Element_replaceWith,remove:lr.Element_remove})},yr=window["customElements"];if(!yr||yr["forcePolyfill"]||"function"!=typeof yr["define"]||"function"!=typeof yr["get"]){var br=new ar;dr(br),vr(br),mr(br),_r(br),document.__CE_hasRegistry=!0;var wr=new cr(br);Object.defineProperty(window,"customElements",{configurable:!0,enumerable:!0,value:wr})}
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */function kr(t){window._onsLoaded&&t._util.warn("Onsen UI is loaded more than once."),window._onsLoaded=!0,window.addEventListener("load",function(){t.fastClick=ee.attach(document.body);var e="touch-action"in document.body.style;t.platform._runOnActualPlatform(function(){t.platform.isAndroid()?t.fastClick.destroy():t.platform.isIOS()&&e&&(t.platform.isIOSSafari()||t.platform.isWKWebView())&&t.fastClick.destroy()})},!1),t.ready(function(){t.enableDeviceBackButtonHandler(),t._defaultDeviceBackButtonHandler=t._internal.dbbDispatcher.createHandler(window.document.body,function(){Object.hasOwnProperty.call(navigator,"app")?navigator.app.exitApp():console.warn("Could not close the app. Is 'cordova.js' included?\nError: 'window.navigator.app' is undefined.")}),document.body._gestureDetector=new t.GestureDetector(document.body,{passive:!0}),t.platform.isWebView()||document.body.addEventListener("keydown",function(e){27===e.keyCode&&t.fireDeviceBackButtonEvent()}),t._setupLoadingPlaceHolders()}),Viewport.setup()}function Er(){if("function"!==typeof HTMLElement){var t=function(){};return t.prototype=document.createElement("div"),t}return HTMLElement}
/**
 * @license
 * Copyright (c) 2014 The Polymer Project Authors. All rights reserved.
 * This code may only be used under the BSD style license found at http://polymer.github.io/LICENSE.txt
 * The complete set of authors may be found at http://polymer.github.io/AUTHORS.txt
 * The complete set of contributors may be found at http://polymer.github.io/CONTRIBUTORS.txt
 * Code distributed by Google as part of the polymer project is also
 * subject to an additional IP rights grant found at http://polymer.github.io/PATENTS.txt
 */
(function(t){if(!t.JsMutationObserver){var e,n=new WeakMap;if(/Trident|Edge/.test(navigator.userAgent))e=setTimeout;else if(window.setImmediate)e=window.setImmediate;else{var i=[],r=String(Math.random());window.addEventListener("message",function(t){if(t.data===r){var e=i;i=[],e.forEach(function(t){t()})}}),e=function(t){i.push(t),window.postMessage(r,"*")}}var o,a,s=!1,u=[],c=0;v.prototype={observe:function(t,e){if(t=h(t),!e.childList&&!e.attributes&&!e.characterData||e.attributeOldValue&&!e.attributes||e.attributeFilter&&e.attributeFilter.length&&!e.attributes||e.characterDataOldValue&&!e.characterData)throw new SyntaxError;var i,r=n.get(t);r||n.set(t,r=[]);for(var o=0;o<r.length;o++)if(r[o].observer===this){i=r[o],i.removeListeners(),i.options=e;break}i||(i=new E(this,t,e),r.push(i),this.nodes_.push(t)),i.addListeners()},disconnect:function(){this.nodes_.forEach(function(t){for(var e=n.get(t),i=0;i<e.length;i++){var r=e[i];if(r.observer===this){r.removeListeners(),e.splice(i,1);break}}},this),this.records_=[]},takeRecords:function(){var t=this.records_;return this.records_=[],t}},E.prototype={enqueue:function(t){var e=this.observer.records_,n=e.length;if(e.length>0){var i=e[n-1],r=k(i,t);if(r)return void(e[n-1]=r)}else l(this.observer);e[n]=t},addListeners:function(){this.addListeners_(this.target)},addListeners_:function(t){var e=this.options;e.attributes&&t.addEventListener("DOMAttrModified",this,!0),e.characterData&&t.addEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.addEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.addEventListener("DOMNodeRemoved",this,!0)},removeListeners:function(){this.removeListeners_(this.target)},removeListeners_:function(t){var e=this.options;e.attributes&&t.removeEventListener("DOMAttrModified",this,!0),e.characterData&&t.removeEventListener("DOMCharacterDataModified",this,!0),e.childList&&t.removeEventListener("DOMNodeInserted",this,!0),(e.childList||e.subtree)&&t.removeEventListener("DOMNodeRemoved",this,!0)},addTransientObserver:function(t){if(t!==this.target){this.addListeners_(t),this.transientObservedNodes.push(t);var e=n.get(t);e||n.set(t,e=[]),e.push(this)}},removeTransientObservers:function(){var t=this.transientObservedNodes;this.transientObservedNodes=[],t.forEach(function(t){this.removeListeners_(t);for(var e=n.get(t),i=0;i<e.length;i++)if(e[i]===this){e.splice(i,1);break}},this)},handleEvent:function(t){switch(t.stopImmediatePropagation(),t.type){case"DOMAttrModified":var e=t.attrName,n=t.relatedNode.namespaceURI,i=t.target,r=new _("attributes",i);r.attributeName=e,r.attributeNamespace=n;var o=t.attrChange===MutationEvent.ADDITION?null:t.prevValue;p(i,function(t){if(t.attributes&&(!t.attributeFilter||!t.attributeFilter.length||-1!==t.attributeFilter.indexOf(e)||-1!==t.attributeFilter.indexOf(n)))return t.attributeOldValue?y(o):r});break;case"DOMCharacterDataModified":i=t.target,r=_("characterData",i),o=t.prevValue;p(i,function(t){if(t.characterData)return t.characterDataOldValue?y(o):r});break;case"DOMNodeRemoved":this.addTransientObserver(t.target);case"DOMNodeInserted":var a,s,u=t.target;"DOMNodeInserted"===t.type?(a=[u],s=[]):(a=[],s=[u]);var c=u.previousSibling,l=u.nextSibling;r=_("childList",t.target.parentNode);r.addedNodes=a,r.removedNodes=s,r.previousSibling=c,r.nextSibling=l,p(t.relatedNode,function(t){if(t.childList)return r})}b()}},t.JsMutationObserver=v,t.MutationObserver||(t.MutationObserver=v,v._isPolyfilled=!0)}function l(t){u.push(t),s||(s=!0,e(f))}function h(t){return window.ShadowDOMPolyfill&&window.ShadowDOMPolyfill.wrapIfNeeded(t)||t}function f(){s=!1;var t=u;u=[],t.sort(function(t,e){return t.uid_-e.uid_});var e=!1;t.forEach(function(t){var n=t.takeRecords();d(t),n.length&&(t.callback_(n,t),e=!0)}),e&&f()}function d(t){t.nodes_.forEach(function(e){var i=n.get(e);i&&i.forEach(function(e){e.observer===t&&e.removeTransientObservers()})})}function p(t,e){for(var i=t;i;i=i.parentNode){var r=n.get(i);if(r)for(var o=0;o<r.length;o++){var a=r[o],s=a.options;if(i===t||s.subtree){var u=e(s);u&&a.enqueue(u)}}}}function v(t){this.callback_=t,this.nodes_=[],this.records_=[],this.uid_=++c}function m(t,e){this.type=t,this.target=e,this.addedNodes=[],this.removedNodes=[],this.previousSibling=null,this.nextSibling=null,this.attributeName=null,this.attributeNamespace=null,this.oldValue=null}function g(t){var e=new m(t.type,t.target);return e.addedNodes=t.addedNodes.slice(),e.removedNodes=t.removedNodes.slice(),e.previousSibling=t.previousSibling,e.nextSibling=t.nextSibling,e.attributeName=t.attributeName,e.attributeNamespace=t.attributeNamespace,e.oldValue=t.oldValue,e}function _(t,e){return o=new m(t,e)}function y(t){return a||(a=g(o),a.oldValue=t,a)}function b(){o=a=void 0}function w(t){return t===a||t===o}function k(t,e){return t===e?t:a&&w(t)?a:null}function E(t,e,n){this.observer=t,this.target=e,this.options=n,this.transientObservedNodes=[]}})(self),function(t,n){if(!t.setImmediate){var i,r=1,o={},a=!1,s=t.document,u=Object.getPrototypeOf&&Object.getPrototypeOf(t);u=u&&u.setTimeout?u:t,"[object process]"==={}.toString.call(t.process)?d():p()?v():t.MessageChannel?m():s&&"onreadystatechange"in s.createElement("script")?g():_(),u.setImmediate=i,u.clearImmediate=f}function c(t){return o[r]=l.apply(n,t),r++}function l(t){var e=[].slice.call(arguments,1);return function(){"function"===typeof t?t.apply(n,e):new Function(""+t)()}}function h(t){if(a)setTimeout(l(h,t),0);else{var e=o[t];if(e){a=!0;try{e()}finally{f(t),a=!1}}}}function f(t){delete o[t]}function d(){i=function(){var t=c(arguments);return e.nextTick(l(h,t)),t}}function p(){if(t.postMessage&&!t.importScripts){var e=!0,n=t.onmessage;return t.onmessage=function(){e=!1},t.postMessage("","*"),t.onmessage=n,e}}function v(){var e="setImmediate$"+Math.random()+"$",n=function(n){n.source===t&&"string"===typeof n.data&&0===n.data.indexOf(e)&&h(+n.data.slice(e.length))};t.addEventListener?t.addEventListener("message",n,!1):t.attachEvent("onmessage",n),i=function(){var n=c(arguments);return t.postMessage(e+n,"*"),n}}function m(){var t=new MessageChannel;t.port1.onmessage=function(t){var e=t.data;h(e)},i=function(){var e=c(arguments);return t.port2.postMessage(e),e}}function g(){var t=s.documentElement;i=function(){var e=c(arguments),n=s.createElement("script");return n.onreadystatechange=function(){h(e),n.onreadystatechange=null,t.removeChild(n),n=null},t.appendChild(n),e}}function _(){i=function(){var t=c(arguments);return setTimeout(l(h,t),0),t}}}(self),function(){var t="width=device-width,initial-scale=1,maximum-scale=1,minimum-scale=1,user-scalable=no",e={ensureViewportElement:function(){var t=document.querySelector("meta[name=viewport]");return t||(t=document.createElement("meta"),t.name="viewport",document.head.appendChild(t)),t},setup:function(){var n=e.ensureViewportElement();n&&(n.hasAttribute("content")||n.setAttribute("content",t))}};window.Viewport=e}();var Cr=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this))}return l(e,t),e}(Er()),Sr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t.template=t.innerHTML;while(t.firstChild)t.removeChild(t.firstChild);return t}return l(e,t),a(e,[{key:"connectedCallback",value:function(){this.parentNode&&this.parentNode!==document.body&&G.warn("ons-template (id = "+this.getAttribute("id")+") must be located just under document.body"+(this.parentNode.outerHTML?":\n\n"+this.parentNode.outerHTML:"."));var t=new CustomEvent("_templateloaded",{bubbles:!0,cancelable:!0});t.template=this.template,t.templateId=this.getAttribute("id"),this.dispatchEvent(t)}}]),e}(Cr);t.Template=Sr,customElements.define("ons-template",Sr);var Ar=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){if(null!==m._getSelectedPlatform())t._platformUpdate();else if(!t._isAllowedPlatform()){while(t.childNodes[0])t.childNodes[0].remove();t._platformUpdate()}}),t._onOrientationChange(),t}return l(e,t),a(e,[{key:"connectedCallback",value:function(){Rt.on("change",this._onOrientationChange.bind(this))}},{key:"attributeChangedCallback",value:function(t){"orientation"===t&&this._onOrientationChange()}},{key:"disconnectedCallback",value:function(){Rt.off("change",this._onOrientationChange)}},{key:"_platformUpdate",value:function(){this.style.display=this._isAllowedPlatform()?"":"none"}},{key:"_isAllowedPlatform",value:function(){return!this.getAttribute("platform")||this.getAttribute("platform").split(/\s+/).indexOf(m.getMobileOS())>=0}},{key:"_onOrientationChange",value:function(){if(this.hasAttribute("orientation")&&this._isAllowedPlatform()){var t=this.getAttribute("orientation").toLowerCase(),e=Rt.isPortrait()?"portrait":"landscape";this.style.display=t===e?"":"none"}}}],[{key:"observedAttributes",get:function(){return["orientation"]}}]),e}(Cr);t.If=Ar,customElements.define("ons-if",Ar);var Tr=function(){function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};o(this,t),this.timing=e.timing||"linear",this.duration=e.duration||0,this.delay=e.delay||0,this.def={timing:this.timing,duration:this.duration,delay:this.delay}}return a(t,null,[{key:"extend",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},e=this,n=function(){e.apply(this,arguments),G.extend(this,t)};return n.prototype=this.prototype,n}}]),t}(),Or={isIPhoneXPortraitPatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-portrait")&&window.innerWidth<window.innerHeight},isIPhoneXLandscapePatchActive:function(){return null!=document.documentElement.getAttribute("onsflag-iphonex-landscape")&&window.innerWidth>=window.innerHeight},getSafeAreaLengths:function(){var t=void 0;return t=Or.isIPhoneXPortraitPatchActive()?{top:44,right:0,bottom:34,left:0}:Or.isIPhoneXLandscapePatchActive()?{top:0,right:44,bottom:21,left:44}:{top:0,right:0,bottom:0,left:0},t},getSafeAreaDOMRect:function(){var t=void 0;return t=Or.isIPhoneXPortraitPatchActive()?{x:0,y:44,width:window.innerWidth,height:window.innerHeight-78}:Or.isIPhoneXLandscapePatchActive()?{x:44,y:0,width:window.innerWidth-88,height:window.innerHeight-21}:{x:0,y:0,width:window.innerWidth,height:window.innerHeight},u({},t,{left:t.x,top:t.y,right:t.x+t.width,bottom:t.y+t.height})}},xr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Tr),Pr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.4:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.maskTiming="linear",c.maskDuration=.2,c}return l(e,t),a(e,[{key:"show",value:function(t,e){it.runAll(it(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),it(t._sheet,this.def).default({transform:"translate3d(0, 80%, 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){it.runAll(it(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),it(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, 80%, 0)",opacity:0}).queue(function(t){e&&e(),t()}))}}]),e}(xr),Ir=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.3:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.maskTiming="linear",c.maskDuration=.2,Or.isIPhoneXPortraitPatchActive()?c.liftAmount="calc(100% + 48px)":Or.isIPhoneXLandscapePatchActive()?c.liftAmount="calc(100% + 33px)":c.liftAmount=document.body.clientHeight/2-1+"px",c}return l(e,t),a(e,[{key:"show",value:function(t,e){it.runAll(it(t._mask).queue({opacity:0}).wait(this.delay).queue({opacity:1},{duration:this.maskDuration,timing:this.maskTiming}),it(t._sheet,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){it.runAll(it(t._mask).queue({opacity:1}).wait(this.delay).queue({opacity:0},{duration:this.maskDuration,timing:this.maskTiming}),it(t._sheet,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.liftAmount+", 0)"}).queue(function(t){e&&e(),t()}))}}]),e}(xr),Nr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&G.throwAbstract(),t._visible=!1,t._doorLock=new Vt,t._cancel=t._cancel.bind(t),t._selfCamelName=G.camelize(t.tagName.slice(4)),t._defaultDBB=function(e){return t.cancelable?t._cancel():e.callParentHandler()},t._animatorFactory=t._updateAnimatorFactory(),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){G.throwMember()}},{key:"_toggleStyle",value:function(t){this.style.display=t?"block":"none"}},{key:"_scheme",get:function(){G.throwMember()}}]),a(e,[{key:"_cancel",value:function(){var t=this;this.cancelable&&!this._running&&(this._running=!0,this.hide().then(function(){t._running=!1,G.triggerElementEvent(t,"dialog-cancel")},function(){return t._running=!1}))}},{key:"show",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._setVisible.apply(this,[!0].concat(e))}},{key:"hide",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._setVisible.apply(this,[!1].concat(e))}},{key:"toggle",value:function(){for(var t=arguments.length,e=Array(t),n=0;n<t;n++)e[n]=arguments[n];return this._setVisible.apply(this,[!this.visible].concat(e))}},{key:"_setVisible",value:function(t){var e,n=this,i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},r=t?"show":"hide";i=u({},i),i.animationOptions=G.extend(i.animationOptions||{},b.parseAnimationOptionsString(this.getAttribute("animation-options")));var o=!1;return G.triggerElementEvent(this,"pre"+r,(e={},s(e,this._selfCamelName,this),s(e,"cancel",function(){return o=!0}),e)),o?Promise.reject("Canceled in pre"+r+" event."):new Promise(function(e){n._doorLock.waitUnlock(function(){var o=n._doorLock.lock(),a=n._animatorFactory.newAnimator(i);t&&n._toggleStyle(!0,i),n._visible=t,G.iosPageScrollFix(t),St(n,function(){a[r](n,function(){!t&&n._toggleStyle(!1,i),o(),G.propagateAction(n,"_"+r),G.triggerElementEvent(n,"post"+r,s({},n._selfCamelName,n)),i.callback instanceof Function&&i.callback(n),e(n)})})})})}},{key:"_updateMask",value:function(){var t=this;St(this,function(){t._mask&&t.getAttribute("mask-color")&&(t._mask.style.backgroundColor=t.getAttribute("mask-color"))})}},{key:"connectedCallback",value:function(){var t=this;"function"===typeof this._defaultDBB&&(this.onDeviceBackButton=this._defaultDBB.bind(this)),St(this,function(){t._mask&&(t._mask.addEventListener("click",t._cancel,!1),G.iosMaskScrollFix(t._mask,!0))})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler&&(this._backButtonHandler.destroy(),this._backButtonHandler=null),this._mask&&(this._mask.removeEventListener("click",this._cancel,!1),G.iosMaskScrollFix(this._mask,!1))}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"modifier":P.onModifierChanged(e,n,this,this._scheme);break;case"animation":this._animatorFactory=this._updateAnimatorFactory();break;case"mask-color":this._updateMask();break}}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=D.createHandler(this,t)}},{key:"visible",get:function(){return this._visible}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"cancelable",set:function(t){return G.toggleAttribute(this,"cancelable",t)},get:function(){return this.hasAttribute("cancelable")}}],[{key:"observedAttributes",get:function(){return["modifier","animation","mask-color"]}},{key:"events",get:function(){return["preshow","postshow","prehide","posthide","dialog-cancel"]}}]),e}(Cr),Lr={".action-sheet":"action-sheet--*",".action-sheet-mask":"action-sheet-mask--*",".action-sheet-title":"action-sheet-title--*"},Dr={default:function(){return m.isAndroid()?Pr:Ir},none:xr},Rr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:Dr,baseClass:xr,baseClassName:"ActionSheetAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(x.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._sheet){var t=document.createElement("div");t.classList.add("action-sheet");while(this.firstChild)t.appendChild(this.firstChild);this.appendChild(t)}if(!this._title&&this.hasAttribute("title")){var e=document.createElement("div");e.innerHTML=this.getAttribute("title"),e.classList.add("action-sheet-title"),this._sheet.insertBefore(e,this._sheet.firstChild)}if(!this._mask){var n=document.createElement("div");n.classList.add("action-sheet-mask"),this.insertBefore(n,this.firstChild)}this._sheet.style.zIndex=20001,this._mask.style.zIndex=2e4,P.initModifier(this,this._scheme)}},{key:"_updateTitle",value:function(){this._title&&(this._title.innerHTML=this.getAttribute("title"))}},{key:"attributeChangedCallback",value:function(t,n,i){"title"===t?this._updateTitle():c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}},{key:"_scheme",get:function(){return Lr}},{key:"_mask",get:function(){return G.findChild(this,".action-sheet-mask")}},{key:"_sheet",get:function(){return G.findChild(this,".action-sheet")}},{key:"_title",get:function(){return this.querySelector(".action-sheet-title")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof xr||G.throwAnimator("ActionSheet"),Dr[t]=e}},{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["title"])}},{key:"animators",get:function(){return Dr}},{key:"ActionSheetAnimator",get:function(){return xr}}]),e}(Nr);t.ActionSheet=Rr,customElements.define("ons-action-sheet",Rr);var Mr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&G.throwAbstract(),St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_scheme",get:function(){G.throwMember()}},{key:"_defaultClassName",get:function(){G.throwMember()}},{key:"_rippleOpt",get:function(){return[this]}}]),a(e,[{key:"_compile",value:function(){if(x.prepare(this),this.classList.add(this._defaultClassName),!this._icon&&this.hasAttribute("icon")){G.checkMissingImport("Icon");var t=G.createElement('<ons-icon icon="'+this.getAttribute("icon")+'"></ons-icon>');t.classList.add(this._defaultClassName.replace("button","icon")),this.insertBefore(t,this.firstChild)}this._updateRipple(),P.initModifier(this,this._scheme)}},{key:"_updateIcon",value:function(){this._icon&&this._icon.setAttribute("icon",this.getAttribute("icon"))}},{key:"_updateRipple",value:function(){this._rippleOpt&&G.updateRipple.apply(G,d(this._rippleOpt))}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,this._defaultClassName,this._scheme);break;case"modifier":P.onModifierChanged(e,n,this,this._scheme);break;case"icon":this._updateIcon();break;case"ripple":this.classList.contains(this._defaultClassName)&&this._updateRipple();break}}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"_icon",get:function(){return G.findChild(this,"ons-icon")}}],[{key:"observedAttributes",get:function(){return["modifier","class","icon","ripple"]}}]),e}(Cr),jr=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return{"":"action-sheet-button--*",".action-sheet-icon":"action-sheet-icon--*"}}},{key:"_defaultClassName",get:function(){return"action-sheet-button"}},{key:"_rippleOpt",get:function(){}}]),e}(Mr);t.ActionSheetButton=jr,customElements.define("ons-action-sheet-button",jr);var Fr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Tr),Br=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .4, 1)":n,r=t.duration,a=void 0===r?.2:r,s=t.delay,u=void 0===s?0:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:a,timing:i,delay:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:0},{opacity:1}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:1},{opacity:0}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1},{transform:"translate3d(-50%, -50%, 0) scale3d(.9, .9, 1)",opacity:0}).queue(function(t){e(),t()}))}}]),e}(Fr),qr=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .4, 1)":n,r=t.duration,a=void 0===r?.2:r,s=t.delay,u=void 0===s?0:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{duration:a,timing:i,delay:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:0},{opacity:1}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0) scale3d(1.3, 1.3, 1)",opacity:0},{transform:"translate3d(-50%, -50%, 0) scale3d(1, 1, 1)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:1},{opacity:0}),it(t._dialog,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}))}}]),e}(Fr),Ur={".alert-dialog":"alert-dialog--*",".alert-dialog-container":"alert-dialog-container--*",".alert-dialog-title":"alert-dialog-title--*",".alert-dialog-content":"alert-dialog-content--*",".alert-dialog-footer":"alert-dialog-footer--*",".alert-dialog-footer--rowfooter":"alert-dialog-footer--rowfooter--*",".alert-dialog-button--rowfooter":"alert-dialog-button--rowfooter--*",".alert-dialog-button--primal":"alert-dialog-button--primal--*",".alert-dialog-button":"alert-dialog-button--*","ons-alert-dialog-button":"alert-dialog-button--*",".alert-dialog-mask":"alert-dialog-mask--*",".text-input":"text-input--*"},$r={none:Fr,default:function(){return m.isAndroid()?Br:qr},fade:function(){return m.isAndroid()?Br:qr}},Vr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:$r,baseClass:Fr,baseClassName:"AlertDialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){x.prepare(this),this.style.display="none",this.style.zIndex=10001;var t=document.createDocumentFragment();if(!this._mask&&!this._dialog)while(this.firstChild)t.appendChild(this.firstChild);if(!this._mask){var e=document.createElement("div");e.classList.add("alert-dialog-mask"),this.insertBefore(e,this.children[0])}if(!this._dialog){var n=document.createElement("div");n.classList.add("alert-dialog"),this.insertBefore(n,null)}if(!G.findChild(this._dialog,".alert-dialog-container")){var i=document.createElement("div");i.classList.add("alert-dialog-container"),this._dialog.appendChild(i)}this._dialog.children[0].appendChild(t),this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Ur}},{key:"_mask",get:function(){return G.findChild(this,".alert-dialog-mask")}},{key:"_dialog",get:function(){return G.findChild(this,".alert-dialog")}},{key:"_titleElement",get:function(){return G.findChild(this._dialog.children[0],".alert-dialog-title")}},{key:"_contentElement",get:function(){return G.findChild(this._dialog.children[0],".alert-dialog-content")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Fr||G.throwAnimator("AlertDialog"),$r[t]=e}},{key:"animators",get:function(){return $r}},{key:"AlertDialogAnimator",get:function(){return Fr}}]),e}(Nr);t.AlertDialog=Vr,customElements.define("ons-alert-dialog",Vr);var Hr=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return{"":"alert-dialog-button--*"}}},{key:"_defaultClassName",get:function(){return"alert-dialog-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{modifier:"light-gray"}]}}]),e}(Mr);t.AlertDialogButton=Hr,customElements.define("ons-alert-dialog-button",Hr);var Wr='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="13px" height="21px" viewBox="0 0 13 21" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>ios-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="ios" transform="translate(-34.000000, -30.000000)">\n            <polygon id="ios-back-button-icon" points="34 40.5 44.5 30 46.5 32 38 40.5 46.5 49 44.5 51"></polygon>\n        </g>\n    </g>\n</svg>\n',zr='<?xml version="1.0" encoding="UTF-8"?>\n<svg width="16px" height="16px" viewBox="0 0 16 16" version="1.1" xmlns="http://www.w3.org/2000/svg" xmlns:xlink="http://www.w3.org/1999/xlink">\n    <title>md-back-button-icon</title>\n    <desc>Created with Sketch.</desc>\n    <defs></defs>\n    <g id="toolbar-back-button" stroke="none" stroke-width="1" fill-rule="evenodd">\n        <g id="android" transform="translate(-32.000000, -32.000000)" fill-rule="nonzero">\n            <polygon id="md-back-button-icon" points="48 39 35.83 39 41.42 33.41 40 32 32 40 40 48 41.41 46.59 35.83 41 48 41"></polygon>\n        </g>\n    </g>\n</svg>\n',Gr="back-button",Kr={"":"back-button--*",".back-button__icon":"back-button--*__icon",".back-button__label":"back-button--*__label"},Qr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){t._compile()}),t._options={},t._boundOnClick=t._onClick.bind(t),t}return l(e,t),a(e,[{key:"_updateIcon",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:G.findChild(this,".back-button__icon");t.innerHTML="android"===x.getPlatform(this)||G.hasModifier(this,"material")?zr:Wr}},{key:"_compile",value:function(){if(x.prepare(this),this.classList.add(Gr),!G.findChild(this,".back-button__label")){var t=G.create("span.back-button__label");while(this.childNodes[0])t.appendChild(this.childNodes[0]);this.appendChild(t)}if(!G.findChild(this,".back-button__icon")){var e=G.create("span.back-button__icon");this._updateIcon(e),this.insertBefore(e,this.children[0])}G.updateRipple(this,void 0,{center:"",size:"contain",background:"transparent"}),P.initModifier(this,Kr)}},{key:"_onClick",value:function(){if(this.onClick)this.onClick.apply(this);else{var t=G.findParent(this,"ons-navigator");t&&t.popPage(this.options)}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,Gr,Kr);break;case"modifier":P.onModifierChanged(e,n,this,Kr)&&this._updateIcon();break}}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"show",value:function(){this.style.display="inline-block"}},{key:"hide",value:function(){this.style.display="none"}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.BackButton=Qr,customElements.define("ons-back-button",Qr);var Xr="bottom-bar",Yr={"":"bottom-bar--*"},Jr=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.classList.add(Xr),P.initModifier(t,Yr),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,Xr,Yr);break;case"modifier":P.onModifierChanged(e,n,this,Yr);break}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.BottomToolbar=Jr,customElements.define("ons-bottom-toolbar",Jr);var Zr=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return{"":"button--*"}}},{key:"_defaultClassName",get:function(){return"button"}}]),e}(Mr);t.Button=Zr,customElements.define("ons-button",Zr);var to="card",eo={"":"card--*",".card__title":"card--*__title",".card__content":"card--*__content"},no=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){t._compile()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){for(var t=0;t<this.children.length;t++){var e=this.children[t];e.classList.contains("title")?e.classList.add("card__title"):e.classList.contains("content")&&e.classList.add("card__content")}x.prepare(this),this.classList.add(to),P.initModifier(this,eo)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,to,eo);break;case"modifier":P.onModifierChanged(e,n,this,eo);break}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.Card=no,customElements.define("ons-card",no);var io={"":"carousel-item--*"},ro=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.style.width="100%",P.initModifier(t,io),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t)return P.onModifierChanged(e,n,this,io)}}],[{key:"observedAttributes",get:function(){return["modifier"]}}]),e}(Cr);t.CarouselItem=ro,customElements.define("ons-carousel-item",ro);var oo={vertical:{axis:"Y",size:"Height",dir:["up","down"],t3d:["0px, ","px, 0px"]},horizontal:{axis:"X",size:"Width",dir:["left","right"],t3d:["","px, 0px, 0px"]}},ao=function(){function t(e){var n=this;o(this,t);var i=function(){return!1};"getInitialIndex getBubbleWidth isVertical isOverScrollable isCentered\n    isAutoScrollable refreshHook preChangeHook postChangeHook overScrollHook".split(/\s+/).forEach(function(t){return n[t]=e[t]||i}),this.getElement=e.getElement,this.scrollHook=e.scrollHook,this.itemSize=e.itemSize||"100%",this.getAutoScrollRatio=function(){var t=e.getAutoScrollRatio&&e.getAutoScrollRatio.apply(e,arguments);return t="number"===typeof t&&t===t?t:.5,(t<0||t>1)&&G.throw("Invalid auto-scroll-ratio "+t+". Must be between 0 and 1"),t},this.shouldBlock="other"===G.globals.actualMobileOS,this.onDragStart=this.onDragStart.bind(this),this.onDrag=this.onDrag.bind(this),this.onDragEnd=this.onDragEnd.bind(this),this.onResize=this.onResize.bind(this),this._shouldFixScroll="ios"===G.globals.actualMobileOS}return a(t,[{key:"init",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.swipeable,i=e.autoRefresh;this.initialized=!0,this.target=this.getElement().children[0],this.blocker=this.getElement().children[1],this.target&&this.blocker||G.throw('Expected "target" and "blocker" elements to exist before initializing Swiper'),this.shouldBlock||(this.blocker.style.display="none"),this.getElement().classList.add("ons-swiper"),this.target.classList.add("ons-swiper-target"),this.blocker.classList.add("ons-swiper-blocker"),this._gestureDetector=new rt(this.getElement(),{dragMinDistance:1,dragLockToAxis:!0,passive:!this._shouldFixScroll}),this._mutationObserver=new MutationObserver(function(){return t.refresh()}),this.updateSwipeable(n),this.updateAutoRefresh(i),this._scroll=this._offset=this._lastActiveIndex=0,this._updateLayout(),this._setupInitialIndex(),setImmediate(function(){return t.initialized&&t._setupInitialIndex()}),window===window.parent&&0!==this.offsetHeight||window.requestAnimationFrame(function(){return t.initialized&&t.onResize()})}},{key:"dispose",value:function(){this.initialized=!1,this.updateSwipeable(!1),this.updateAutoRefresh(!1),this._gestureDetector&&this._gestureDetector.dispose(),this.target=this.blocker=this._gestureDetector=this._mutationObserver=null,this.setupResize(!1)}},{key:"onResize",value:function(){var t=this._scroll/this.targetSize;this._reset(),this.setActiveIndex(t),this.refresh()}},{key:"_calculateItemSize",value:function(){var t=this.itemSize.match(/^(\d+)(px|%)/);t||G.throw("Invalid state: swiper's size unit must be '%' or 'px'");var e=parseInt(t[1],10);return"%"===t[2]?Math.round(e/100*this.targetSize):e}},{key:"_setupInitialIndex",value:function(){this._reset(),this._lastActiveIndex=Math.max(Math.min(Number(this.getInitialIndex()),this.itemCount),0),this._scroll=this._offset+this.itemNumSize*this._lastActiveIndex,this._scrollTo(this._scroll)}},{key:"_setSwiping",value:function(t){this.target.classList.toggle("swiping",t)}},{key:"setActiveIndex",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._setSwiping(!0),t=Math.max(0,Math.min(t,this.itemCount-1));var i=Math.max(0,Math.min(this.maxScroll,this._offset+this.itemNumSize*t));if(m.isUIWebView()){var r=function(t){return Array.prototype.concat.apply([],t)},o=r(G.arrayFrom(this.target.children).map(function(t){return G.arrayFrom(t.children).filter(function(t){return t.classList.contains("page__content")})})),a=new Map;return new Promise(function(t){o.forEach(function(t){a.set(t,t.getAttribute("class")),t.classList.add("page__content--suppress-layer-creation")}),requestAnimationFrame(t)}).then(function(){return e._changeTo(i,n)}).then(function(){return new Promise(function(t){o.forEach(function(t){t.setAttribute("class",a.get(t))}),requestAnimationFrame(t)})})}return this._changeTo(i,n)}},{key:"getActiveIndex",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._scroll;t-=this._offset;var e=this.itemCount,n=this.itemNumSize;if(0===this.itemNumSize||!G.isInteger(t))return this._lastActiveIndex;if(t<=0)return 0;for(var i=0;i<e;i++)if(n*i<=t&&n*(i+1)>t)return i;return e-1}},{key:"setupResize",value:function(t){window[(t?"add":"remove")+"EventListener"]("resize",this.onResize,!0)}},{key:"show",value:function(){var t=this;this.setupResize(!0),this.onResize(),setTimeout(function(){return t.target&&t.target.classList.add("active")},1e3/60)}},{key:"hide",value:function(){this.setupResize(!1),this.target.classList.remove("active")}},{key:"updateSwipeable",value:function(t){if(this._gestureDetector){var e=t?"on":"off";this._gestureDetector[e]("drag",this.onDrag),this._gestureDetector[e]("dragstart",this.onDragStart),this._gestureDetector[e]("dragend",this.onDragEnd)}}},{key:"updateAutoRefresh",value:function(t){this._mutationObserver&&(t?this._mutationObserver.observe(this.target,{childList:!0}):this._mutationObserver.disconnect())}},{key:"updateItemSize",value:function(t){this.itemSize=t||"100%",this.refresh()}},{key:"toggleBlocker",value:function(t){this.blocker.style.pointerEvents=t?"auto":"none"}},{key:"_canConsumeGesture",value:function(t){var e=t.direction,n=0===this._scroll&&!this.isOverScrollable(),i=this._scroll===this.maxScroll&&!this.isOverScrollable();return this.isVertical()?"down"===e&&!n||"up"===e&&!i:"right"===e&&!n||"left"===e&&!i}},{key:"onDragStart",value:function(t){var e=this;if(this._ignoreDrag=t.consumed||!G.isValidGesture(t),!this._ignoreDrag){var n=t.consume;if(t.consume=function(){n&&n(),e._ignoreDrag=!0},this._canConsumeGesture(t.gesture)){var i=t.gesture.center&&t.gesture.center.clientX||0,r=this.getBubbleWidth()||0,o=function(){n&&n(),t.consumed=!0,e._started=!0,e.shouldBlock&&e.toggleBlocker(!0),e._setSwiping(!0),G.iosPreventScroll(e._gestureDetector)};i<r||i>this.targetSize-r?setImmediate(function(){return!e._ignoreDrag&&o()}):o()}}}},{key:"onDrag",value:function(t){t.gesture&&!this._ignoreDrag&&this._started&&(this._continued=!0,t.stopPropagation(),this._scrollTo(this._scroll-this._getDelta(t),{throttle:!0}))}},{key:"onDragEnd",value:function(t){if(this._started=!1,t.gesture&&!this._ignoreDrag&&this._continued){this._continued=!1,t.stopPropagation();var e=this._scroll-this._getDelta(t),n=this._normalizeScroll(e);e===n?this._startMomentumScroll(e,t):this._killOverScroll(n),this.shouldBlock&&this.toggleBlocker(!1)}else this._ignoreDrag=!0}},{key:"_startMomentumScroll",value:function(t,e){var n=this._getVelocity(e),i=e.gesture.interimDirection===this.dM.dir[this._getDelta(e)<0?0:1],r=this._getAutoScroll(t,n,i),o=Math.abs(r-t)/(n+.01)/1e3;o=Math.min(.25,Math.max(.1,o)),this._changeTo(r,{swipe:!0,animationOptions:{duration:o,timing:"cubic-bezier(.4, .7, .5, 1)"}})}},{key:"_killOverScroll",value:function(t){var e=this;this._scroll=t;var n=this.dM.dir[Number(t>0)],i=function(){return e._changeTo(t,{animationOptions:{duration:.4,timing:"cubic-bezier(.1, .4, .1, 1)"}})};this.overScrollHook({direction:n,killOverScroll:i})||i()}},{key:"_changeTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i={activeIndex:this.getActiveIndex(t),lastActiveIndex:this._lastActiveIndex,swipe:n.swipe||!1},r=i.activeIndex!==i.lastActiveIndex,o=!!r&&this.preChangeHook(i);return this._scroll=o?this._offset+i.lastActiveIndex*this.itemNumSize:t,this._lastActiveIndex=o?i.lastActiveIndex:i.activeIndex,this._scrollTo(this._scroll,n).then(function(){if(t!==e._scroll||o){if(n.reject)return e._setSwiping(!1),Promise.reject("Canceled")}else e._setSwiping(!1),r&&e.postChangeHook(i)})}},{key:"_scrollTo",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(n.throttle){var i=.35;if(t<0)t=this.isOverScrollable()?Math.round(t*i):0;else{var r=this.maxScroll;r<t&&(t=this.isOverScrollable()?r+Math.round((t-r)*i):r)}}var o="none"===n.animation?{}:n.animationOptions;return this.scrollHook&&this.itemNumSize>0&&this.scrollHook((t/this.itemNumSize).toFixed(2),n.animationOptions||{}),new Promise(function(n){return it(e.target).queue({transform:e._getTransform(t)},o).play(n)})}},{key:"_getAutoScroll",value:function(t,e,n){var i=this.maxScroll,r=this._offset,o=this.itemNumSize;if(!this.isAutoScrollable())return Math.max(0,Math.min(i,t));for(var a=[],s=r;s<i;s+=o)a.push(s);a.push(i),a=a.sort(function(e,n){return Math.abs(e-t)-Math.abs(n-t)}).filter(function(t,e){return!e||t!==a[e-1]});var u=a[0],c=this._lastActiveIndex*o+r,l=Math.abs(t-c)/o;return l<=this.getAutoScrollRatio(n,e,o)?u=c:l<1&&a[0]===c&&a.length>1&&(u=a[1]),Math.max(0,Math.min(i,u))}},{key:"_reset",value:function(){this._targetSize=this._itemNumSize=void 0}},{key:"_normalizeScroll",value:function(t){return Math.max(Math.min(t,this.maxScroll),0)}},{key:"refresh",value:function(){if(this._reset(),this._updateLayout(),G.isInteger(this._scroll)){var t=this._normalizeScroll(this._scroll);t!==this._scroll?this._killOverScroll(t):this._changeTo(t)}else this._setupInitialIndex();this.refreshHook()}},{key:"_getDelta",value:function(t){return t.gesture["delta"+this.dM.axis]}},{key:"_getVelocity",value:function(t){return t.gesture["velocity"+this.dM.axis]}},{key:"_getTransform",value:function(t){return"translate3d("+this.dM.t3d[0]+-t+this.dM.t3d[1]+")"}},{key:"_updateLayout",value:function(){this.dM=oo[this.isVertical()?"vertical":"horizontal"],this.target.classList.toggle("ons-swiper-target--vertical",this.isVertical());for(var t=this.target.children[0];t;t=t.nextElementSibling)t.style[this.dM.size.toLowerCase()]=this.itemSize;this.isCentered()&&(this._offset=(this.targetSize-this.itemNumSize)/-2||0)}},{key:"itemCount",get:function(){return this.target.children.length}},{key:"itemNumSize",get:function(){return"number"===typeof this._itemNumSize&&this._itemNumSize===this._itemNumSize||(this._itemNumSize=this._calculateItemSize()),this._itemNumSize}},{key:"maxScroll",get:function(){var t=this.itemCount*this.itemNumSize-this.targetSize;return Math.ceil(t<0?0:t)}},{key:"targetSize",get:function(){return this._targetSize||(this._targetSize=this.target["offset"+this.dM.size]),this._targetSize}}]),t}(),so=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){var t=this.children[0]&&"ONS-CAROUSEL-ITEM"!==this.children[0].tagName&&this.children[0]||document.createElement("div");if(!t.parentNode){while(this.firstChild)t.appendChild(this.firstChild);this.appendChild(t)}!this.children[1]&&this.appendChild(document.createElement("div")),this.appendChild=this.appendChild.bind(t),this.insertBefore=this.insertBefore.bind(t)}},{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new ao({getElement:function(){return t},getInitialIndex:function(){return t.getAttribute("initial-index")},getAutoScrollRatio:function(){return t.autoScrollRatio},isVertical:function(){return t.vertical},isOverScrollable:function(){return t.overscrollable},isCentered:function(){return t.centered},isAutoScrollable:function(){return t.autoScroll},itemSize:this.itemSize,overScrollHook:this._onOverScroll.bind(this),preChangeHook:this._onChange.bind(this,"prechange"),postChangeHook:this._onChange.bind(this,"postchange"),refreshHook:this._onRefresh.bind(this),scrollHook:function(){return t._onSwipe&&t._onSwipe.apply(t,arguments)}}),St(this,function(){return t._swiper.init({swipeable:t.hasAttribute("swipeable"),autoRefresh:t.hasAttribute("auto-refresh")})}))}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null)}},{key:"attributeChangedCallback",value:function(t,e,n){if(this._swiper)switch(t){case"swipeable":this._swiper.updateSwipeable(this.hasAttribute("swipeable"));break;case"auto-refresh":this._swiper.updateAutoRefresh(this.hasAttribute("auto-refresh"));break;case"item-height":this.vertical&&this._swiper.updateItemSize(this.itemSize);break;case"item-width":this.vertical||this._swiper.updateItemSize(this.itemSize);break;case"direction":this._swiper.refresh()}}},{key:"_show",value:function(){this._swiper.show()}},{key:"_hide",value:function(){this._swiper.hide()}},{key:"_onOverScroll",value:function(t){var e=t.direction,n=t.killOverScroll,i=!1;return G.triggerElementEvent(this,"overscroll",{carousel:this,activeIndex:this.getActiveIndex(),direction:e,waitToReturn:function(t){i=!0,t.then(n)}}),i}},{key:"_onChange",value:function(t,e){var n=e.activeIndex,i=e.lastActiveIndex;G.triggerElementEvent(this,t,{carousel:this,activeIndex:n,lastActiveIndex:i})}},{key:"_onRefresh",value:function(){G.triggerElementEvent(this,"refresh",{carousel:this})}},{key:"setActiveIndex",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=u({animation:this.getAttribute("animation"),animationOptions:this.hasAttribute("animation-options")?G.animationOptionsParse(this.getAttribute("animation-options")):{duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"}},n),this._swiper.setActiveIndex(t,n).then(function(){return n.callback instanceof Function&&n.callback(e),Promise.resolve(e)})}},{key:"getActiveIndex",value:function(){return this._swiper.getActiveIndex()}},{key:"next",value:function(t){return this.setActiveIndex(this.getActiveIndex()+1,t)}},{key:"prev",value:function(t){return this.setActiveIndex(this.getActiveIndex()-1,t)}},{key:"first",value:function(t){return this.setActiveIndex(0,t)}},{key:"last",value:function(t){this.setActiveIndex(Math.max(this.itemCount-1,0),t)}},{key:"refresh",value:function(){this._swiper.refresh()}},{key:"itemCount",get:function(){return this._swiper.itemCount}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return G.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||G.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"autoScroll",get:function(){return this.hasAttribute("auto-scroll")},set:function(t){return G.toggleAttribute(this,"auto-scroll",t)}},{key:"vertical",get:function(){return"vertical"===this.getAttribute("direction")}},{key:"itemSize",get:function(){var t=(this.getAttribute("item-"+(this.vertical?"height":"width"))||"").trim();return t.match(/^\d+(px|%)$/)?t:"100%"}},{key:"autoScrollRatio",get:function(){return parseFloat(this.getAttribute("auto-scroll-ratio"))},set:function(t){this.setAttribute("auto-scroll-ratio",t)}},{key:"disabled",get:function(){return this.hasAttribute("disabled")},set:function(t){return G.toggleAttribute(this,"disabled",t)}},{key:"overscrollable",get:function(){return this.hasAttribute("overscrollable")},set:function(t){return G.toggleAttribute(this,"overscrollable",t)}},{key:"centered",get:function(){return this.hasAttribute("centered")},set:function(t){return G.toggleAttribute(this,"centered",t)}}],[{key:"observedAttributes",get:function(){return["swipeable","auto-refresh","direction","item-height","item-width"]}},{key:"events",get:function(){return["postchange","refresh","overscroll"]}}]),e}(Cr);t.Carousel=so,customElements.define("ons-carousel",so);var uo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.getAttribute("width")&&t._updateWidth(),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){"width"===t&&this._updateWidth()}},{key:"_updateWidth",value:function(){var t=this.getAttribute("width");t?(t=t.trim().match(/^\d+$/)?t+"%":t,i(this,{flex:"0 0 "+t,maxWidth:t})):i.clear(this,"flex maxWidth")}}],[{key:"observedAttributes",get:function(){return["width"]}}]),e}(Cr);t.Col=uo,customElements.define("ons-col",uo);var co=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Tr),lo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease-in-out":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.3:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:0},{opacity:1}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -60%, 0)",opacity:0},{transform:"translate3d(-50%, -50%, 0)",opacity:1}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:1},{opacity:0}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)",opacity:1},{transform:"translate3d(-50%, -60%, 0)",opacity:0}).queue(function(t){e(),t()}))}}]),e}(co),ho=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease-in-out":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.bodyHeight=document.body.clientHeight,c}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:0},{opacity:1}),it(t._dialog,this.def).default({transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:1},{opacity:0}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(this.bodyHeight/2-1)+"px, 0)"}).queue(function(t){e(),t()}))}}]),e}(co),fo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .4, 1)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.bodyHeight=document.body.clientHeight,c}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:0},{opacity:1}),it(t._dialog,this.def).default({transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"},{transform:"translate3d(-50%, -50%, 0)"}).queue(function(t){e(),t()}))}},{key:"hide",value:function(t,e){e=e||function(){},it.runAll(it(t._mask,this.def).default({opacity:1},{opacity:0}),it(t._dialog,this.def).default({transform:"translate3d(-50%, -50%, 0)"},{transform:"translate3d(-50%, "+(-this.bodyHeight/2+1-t._dialog.clientHeight)+"px, 0)"}).queue(function(t){e(),t()}))}}]),e}(co),po={".dialog":"dialog--*",".dialog-container":"dialog-container--*",".dialog-mask":"dialog-mask--*"},vo={default:function(){return m.isAndroid()?lo:ho},slide:fo,none:co},mo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:vo,baseClass:co,baseClassName:"DialogAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(x.prepare(this),this.style.display="none",this.style.zIndex=10001,!this._dialog){var t=document.createElement("div");t.classList.add("dialog");var e=document.createElement("div");e.classList.add("dialog-container");while(this.firstChild)e.appendChild(this.firstChild);t.appendChild(e),this.appendChild(t)}if(!this._mask){var n=document.createElement("div");n.classList.add("dialog-mask"),this.insertBefore(n,this.firstChild)}this._dialog.style.zIndex=20001,this._mask.style.zIndex=2e4,this.setAttribute("status-bar-fill",""),P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return po}},{key:"_mask",get:function(){return G.findChild(this,".dialog-mask")}},{key:"_dialog",get:function(){return G.findChild(this,".dialog")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof co||G.throwAnimator("Dialog"),vo[t]=e}},{key:"animators",get:function(){return vo}},{key:"DialogAnimator",get:function(){return co}}]),e}(Nr);t.Dialog=mo,customElements.define("ons-dialog",mo);var go="fab",_o={"":"fab--*",".fab__icon":"fab--*__icon"},yo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.hide(),t.classList.add(go),St(t,function(){t._compile()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){if(x.prepare(this),!G.findChild(this,".fab__icon")){var t=document.createElement("span");t.classList.add("fab__icon"),G.arrayFrom(this.childNodes).forEach(function(e){e.tagName&&"ons-ripple"===e.tagName.toLowerCase()||t.appendChild(e)}),this.appendChild(t)}this._updateRipple(),P.initModifier(this,_o),this._updatePosition()}},{key:"connectedCallback",value:function(){var t=this;setImmediate(function(){return t.show()})}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,go,_o);break;case"modifier":P.onModifierChanged(e,n,this,_o);break;case"ripple":this._updateRipple();break;case"position":this._updatePosition();break}}},{key:"_show",value:function(){this.show()}},{key:"_hide",value:function(){var t=this;setImmediate(function(){return t.hide()})}},{key:"_updateRipple",value:function(){G.updateRipple(this)}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center");break;default:break}}},{key:"show",value:function(){this.toggle(!0)}},{key:"hide",value:function(){this.toggle(!1)}},{key:"toggle",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:!this.visible,e=(this.getAttribute("position")||"").indexOf("bottom")>=0,n=e?"translate3d(0px, -"+(G.globals.fabOffset||0)+"px, 0px)":"";i(this,{transform:n+" scale("+Number(t)+")"})}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"visible",get:function(){return-1===this.style.transform.indexOf("scale(0)")&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","position","class"]}}]),e}(Cr);t.Fab=yo,customElements.define("ons-fab",yo);var bo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._gestureDetector=new rt(t,{passive:!0}),t}return l(e,t),e}(Cr);t.GestureDetector=bo,customElements.define("ons-gesture-detector",bo);var wo="fa",ko=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){this._cleanClassAttribute("icon"===t?e:this.getAttribute("icon"),"modifier"===t?e:void 0),this._update()}},{key:"_compile",value:function(){x.prepare(this),this._update()}},{key:"_update",value:function(){var t=this,e=this._buildClassAndStyle(this._parseAttr("icon"),this._parseAttr("size")),n=e.classList,i=e.style;G.extend(this.style,i),n.forEach(function(e){return t.classList.add(e)})}},{key:"_parseAttr",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.getAttribute("modifier")||"",n=this.getAttribute(t)||t||"",i=n.split(/\s*,\s*/),r=i[0],o=i[1];return o=(o||"").split(/\s*:\s*/),(e&&RegExp("(^|\\s+)"+o[0]+"($|\\s+)","i").test(e)?o[1]:r)||""}},{key:"_cleanClassAttribute",value:function(t,e){var n=this,i=this._prefixIcon(this._parseAttr(t,e)),r=i.className,o=i.prefix,a=r!==o?"|"+o+"$|"+o+"-":"|"+r+"$"||!1,s=new RegExp("^(fa$|fa-|ion-|zmdi$|zmdi-|ons-icon--"+a+")");G.arrayFrom(this.classList).filter(function(t){return s.test(t)}).forEach(function(t){return n.classList.remove(t)})}},{key:"_prefixIcon",value:function(t){var e=wo+(wo?"-":"")+t;return{className:e,prefix:e.split("-")[0]}}},{key:"_buildClassAndStyle",value:function(t,e){var n=["ons-icon"],i={};if(0===t.indexOf("ion-"))n.push(t),n.push("ons-icon--ion");else if(0===t.indexOf("fa-"))n.push(t),n.push("fa");else if(0===t.indexOf("md-"))n.push("zmdi"),n.push("zmdi-"+t.split(/-(.+)?/)[1]);else{var r=this._prefixIcon(t),o=r.className,a=r.prefix;a&&n.push(a),o&&n.push(o)}return e.match(/^[1-5]x|lg$/)?(n.push("ons-icon--"+e),this.style.removeProperty("font-size")):i.fontSize=e,{classList:n,style:i}}}],[{key:"setAutoPrefix",value:function(t){wo=t?"string"===typeof t&&t||"fa":""}},{key:"observedAttributes",get:function(){return["icon","size","modifier","class"]}}]),e}(Cr);t.Icon=ko,customElements.define("ons-icon",ko);var Eo=function(){function t(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;o(this,t),"object"===("undefined"===typeof e?"undefined":r(e))&&null!==e||G.throw('"delegate" parameter must be an object'),this._userDelegate=e,n instanceof Element||null===n||G.throw('"templateElement" parameter must be an instance of Element or null'),this._templateElement=n}return a(t,[{key:"hasRenderFunction",value:function(){return this._userDelegate._render instanceof Function}},{key:"_render",value:function(){this._userDelegate._render.apply(this._userDelegate,arguments)}},{key:"loadItemElement",value:function(t,e){if(this._userDelegate.loadItemElement instanceof Function)this._userDelegate.loadItemElement(t,e);else{var n=this._userDelegate.createItemContent(t,this._templateElement);n instanceof Element||G.throw('"createItemContent" must return an instance of Element'),e({element:n})}}},{key:"countItems",value:function(){var t=this._userDelegate.countItems();return"number"!==typeof t&&G.throw('"countItems" must return a number'),t}},{key:"updateItem",value:function(t,e){this._userDelegate.updateItemContent instanceof Function&&this._userDelegate.updateItemContent(t,e)}},{key:"calculateItemHeight",value:function(t){if(this._userDelegate.calculateItemHeight instanceof Function){var e=this._userDelegate.calculateItemHeight(t);return"number"!==typeof e&&G.throw('"calculateItemHeight" must return a number'),e}return 0}},{key:"destroyItem",value:function(t,e){this._userDelegate.destroyItem instanceof Function&&this._userDelegate.destroyItem(t,e)}},{key:"destroy",value:function(){this._userDelegate.destroy instanceof Function&&this._userDelegate.destroy(),this._userDelegate=this._templateElement=null}},{key:"itemHeight",get:function(){return this._userDelegate.itemHeight}}]),t}(),Co=function(){function t(e,n){o(this,t),n instanceof Eo||G.throw('"delegate" parameter must be an instance of LazyRepeatDelegate'),this._wrapperElement=e,this._delegate=n,this._insertIndex=this._wrapperElement.children[0]&&"ONS-LAZY-REPEAT"===this._wrapperElement.children[0].tagName?1:0,"ons-list"===e.tagName.toLowerCase()&&e.classList.add("lazy-list"),this._pageContent=this._findPageContentElement(e),this._pageContent||G.throw("LazyRepeat must be descendant of a Page element"),this.lastScrollTop=this._pageContent.scrollTop,this.padding=0,this._topPositions=[0],this._renderedItems={},this._delegate.itemHeight||this._delegate.calculateItemHeight(0)||(this._unknownItemHeight=!0),this._addEventListeners(),this._onChange()}return a(t,[{key:"_findPageContentElement",value:function(t){var e=G.findParent(t,".page__content");if(e)return e;var n=G.findParent(t,"ons-page");if(n){var i=G.findChild(n,".content");if(i)return i}return null}},{key:"_checkItemHeight",value:function(t){var e=this;this._delegate.loadItemElement(0,function(n){e._unknownItemHeight||G.throw("Invalid state"),e._wrapperElement.appendChild(n.element);var i=function(){e._delegate.destroyItem(0,n),n.element&&n.element.remove(),delete e._unknownItemHeight,t()};e._itemHeight=n.element.offsetHeight,e._itemHeight>0?i():(e._wrapperElement.style.visibility="hidden",n.element.style.visibility="hidden",setImmediate(function(){e._itemHeight=n.element.offsetHeight,0==e._itemHeight&&G.throw('Invalid state: "itemHeight" must be greater than zero'),e._wrapperElement.style.visibility="",i()}))})}},{key:"_countItems",value:function(){return this._delegate.countItems()}},{key:"_getItemHeight",value:function(t){return this._renderedItems.hasOwnProperty(t)?(this._renderedItems[t].hasOwnProperty("height")||(this._renderedItems[t].height=this._renderedItems[t].element.offsetHeight),this._renderedItems[t].height):this._topPositions[t+1]&&this._topPositions[t]?this._topPositions[t+1]-this._topPositions[t]:this.staticItemHeight||this._delegate.calculateItemHeight(t)}},{key:"_calculateRenderedHeight",value:function(){var t=this;return Object.keys(this._renderedItems).reduce(function(e,n){return e+t._getItemHeight(+n)},0)}},{key:"_onChange",value:function(){this._render()}},{key:"_lastItemRendered",value:function(){return Math.max.apply(Math,d(Object.keys(this._renderedItems)))}},{key:"_firstItemRendered",value:function(){return Math.min.apply(Math,d(Object.keys(this._renderedItems)))}},{key:"refresh",value:function(){var t={forceScrollDown:!0},e=this._firstItemRendered();G.isInteger(e)&&(this._wrapperElement.style.height=this._topPositions[e]+this._calculateRenderedHeight()+"px",this.padding=this._topPositions[e],t.forceFirstIndex=e),this._removeAllElements(),this._render(t),this._wrapperElement.style.height="inherit"}},{key:"_render",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=e.forceScrollDown,i=void 0!==n&&n,r=e.forceFirstIndex,o=e.forceLastIndex;if(this._unknownItemHeight)return this._checkItemHeight(this._render.bind(this,arguments[0]));var a=!i&&this.lastScrollTop>this._pageContent.scrollTop;this.lastScrollTop=this._pageContent.scrollTop;for(var s={},u=this._wrapperElement.getBoundingClientRect().top,c=4*window.innerHeight-u,l=this._countItems(),h=r||Math.max(0,this._calculateStartIndex(u)-30),f=h,p=this._topPositions[f];f<l&&p<c;f++)f>=this._topPositions.length&&(this._topPositions.length+=100),this._topPositions[f]=p,p+=this._getItemHeight(f);if(this._delegate.hasRenderFunction&&this._delegate.hasRenderFunction())return this._delegate._render(h,f,function(){t.padding=t._topPositions[h]});if(a)for(var v=f-1;v>=h;v--)s[v]=!0,this._renderElement(v,a);else for(var m=o||Math.max.apply(Math,[f-1].concat(d(Object.keys(this._renderedItems)))),g=h;g<=m;g++)s[g]=!0,this._renderElement(g,a);Object.keys(this._renderedItems).forEach(function(e){return s[e]||t._removeElement(e,a)})}},{key:"_renderElement",value:function(t,e){var n=this,i=this._renderedItems[t];i?this._delegate.updateItem(t,i):this._delegate.loadItemElement(t,function(i){e?(n._wrapperElement.insertBefore(i.element,n._wrapperElement.children[n._insertIndex]),n.padding=n._topPositions[t],i.height=n._topPositions[t+1]-n._topPositions[t]):n._wrapperElement.appendChild(i.element),n._renderedItems[t]=i})}},{key:"_removeElement",value:function(t){var e=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];t=+t;var n=this._renderedItems[t];this._delegate.destroyItem(t,n),e?this._topPositions[t+1]=void 0:this.padding=this.padding+this._getItemHeight(t),n.element.parentElement&&n.element.parentElement.removeChild(n.element),delete this._renderedItems[t]}},{key:"_removeAllElements",value:function(){var t=this;Object.keys(this._renderedItems).forEach(function(e){return t._removeElement(e)})}},{key:"_recalculateTopPositions",value:function(t,e){for(var n=t;n<=e;n++)this._topPositions[n+1]=this._topPositions[n]+this._getItemHeight(n)}},{key:"_calculateStartIndex",value:function(t){var e=this._firstItemRendered(),n=this._lastItemRendered();this._recalculateTopPositions(e,n);for(var i=0,r=this._countItems()-1;;){var o=Math.floor((i+r)/2),a=t+this._topPositions[o];if(r<i)return 0;if(a<=0&&a+this._getItemHeight(o)>0)return o;isNaN(a)||a>=0?r=o-1:i=o+1}}},{key:"_debounce",value:function(t,e,n){var i=void 0;return function(){var r=this,o=arguments,a=n&&!i;clearTimeout(i),a?t.apply(this,arguments):i=setTimeout(function(){i=null,t.apply(r,o)},e)}}},{key:"_doubleFireOnTouchend",value:function(){this._render(),this._debounce(this._render.bind(this),100)}},{key:"_addEventListeners",value:function(){G.bindListeners(this,["_onChange","_doubleFireOnTouchend"]),m.isIOS()&&(this._boundOnChange=this._debounce(this._boundOnChange,30)),this._pageContent.addEventListener("scroll",this._boundOnChange,!0),m.isIOS()&&(G.addEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.addEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.addEventListener("resize",this._boundOnChange,!0)}},{key:"_removeEventListeners",value:function(){this._pageContent.removeEventListener("scroll",this._boundOnChange,!0),m.isIOS()&&(G.removeEventListener(this._pageContent,"touchmove",this._boundOnChange,{capture:!0,passive:!0}),this._pageContent.removeEventListener("touchend",this._boundDoubleFireOnTouchend,!0)),window.document.removeEventListener("resize",this._boundOnChange,!0)}},{key:"destroy",value:function(){this._removeAllElements(),this._delegate.destroy(),this._parentElement=this._delegate=this._renderedItems=null,this._removeEventListeners()}},{key:"padding",get:function(){return parseInt(this._wrapperElement.style.paddingTop,10)},set:function(t){this._wrapperElement.style.paddingTop=t+"px"}},{key:"staticItemHeight",get:function(){return this._delegate.itemHeight||this._itemHeight}}]),t}(),So=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"connectedCallback",value:function(){this.hasAttribute("delegate")&&(this.delegate=window[this.getAttribute("delegate")])}},{key:"refresh",value:function(){this._lazyRepeatProvider&&this._lazyRepeatProvider.refresh()}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"disconnectedCallback",value:function(){this._lazyRepeatProvider&&(this._lazyRepeatProvider.destroy(),this._lazyRepeatProvider=null)}},{key:"delegate",set:function(t){this._lazyRepeatProvider&&this._lazyRepeatProvider.destroy(),!this._templateElement&&this.children[0]&&(this._templateElement=this.removeChild(this.children[0]));var e=new Eo(t,this._templateElement||null);this._lazyRepeatProvider=new Co(this.parentElement,e)},get:function(){G.throw("No delegate getter")}}]),e}(Cr);y.LazyRepeatDelegate=Eo,y.LazyRepeatProvider=Co,t.LazyRepeat=So,customElements.define("ons-lazy-repeat",So);var Ao="list-header",To={"":"list-header--*"},Oo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return l(e,t),a(e,[{key:"_compile",value:function(){x.prepare(this),this.classList.add(Ao),P.initModifier(this,To)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,Ao,To);break;case"modifier":P.onModifierChanged(e,n,this,To);break}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.ListHeader=Oo,customElements.define("ons-list-header",Oo);var xo="list-title",Po={"":"list-title--*"},Io=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return l(e,t),a(e,[{key:"_compile",value:function(){x.prepare(this),this.classList.add(xo),P.initModifier(this,Po)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,xo,Po);break;case"modifier":P.onModifierChanged(e,n,this,Po);break}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.ListTitle=Io,customElements.define("ons-list-title",Io);var No=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"showExpansion",value:function(t,e){e()}},{key:"hideExpansion",value:function(t,e){e()}}]),e}(Tr),Lo=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"showExpansion",value:function(t,e){this._animateExpansion(t,!0,e)}},{key:"hideExpansion",value:function(t,e){this._animateExpansion(t,!1,e)}},{key:"_animateExpansion",value:function(t,e,n){var i,r=t.expandableContent.style.height,o=t.expandableContent.style.display;t.expandableContent.style.height="auto",t.expandableContent.style.display="block";var a,s=window.getComputedStyle(t.expandableContent),u=[{height:0,paddingTop:0,paddingBottom:0},{height:s.height,paddingTop:s.paddingTop,paddingBottom:s.paddingBottom}],c=[{transform:"rotate(45deg)"},{transform:"rotate(225deg)"}];(t.expandableContent.style.height=r,(i=it(t.expandableContent,{duration:this.duration,property:"height padding-top padding-bottom"})).default.apply(i,d(e?u:u.reverse())).play(function(){t.expandableContent.style.display=o,n&&n()}),t.expandChevron)&&(a=it(t.expandChevron,{duration:this.duration,property:"transform"})).default.apply(a,d(e?c:c.reverse())).play()}}]),e}(No),Do="list-item",Ro={".list-item":"list-item--*",".list-item__left":"list-item--*__left",".list-item__center":"list-item--*__center",".list-item__right":"list-item--*__right",".list-item__label":"list-item--*__label",".list-item__title":"list-item--*__title",".list-item__subtitle":"list-item--*__subtitle",".list-item__thumbnail":"list-item--*__thumbnail",".list-item__icon":"list-item--*__icon"},Mo={default:Lo,none:No},jo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));t._animatorFactory=t._updateAnimatorFactory(),t.toggleExpansion=t.toggleExpansion.bind(t);var n=/^ons-(?!col$|row$|if$)/i;return t._shouldIgnoreTap=function(t){return t.hasAttribute("prevent-tap")||n.test(t.tagName)},t.show=t.showExpansion,t.hide=t.hideExpansion,St(t,function(){t._compile()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){x.prepare(this),this.classList.add(Do);var t=void 0,e=void 0,n=[];Array.from(this.childNodes).forEach(function(i){i.nodeType!==Node.ELEMENT_NODE?n.push(i):i.classList.contains("top")?t=i:i.classList.contains("expandable-content")?e=i:n.push(i),"ONS-RIPPLE"!==i.nodeName&&i.remove()}),n=t?Array.from(t.childNodes):n;var i=void 0,r=void 0,o=void 0,a=[];if(n.forEach(function(t){t.nodeType!==Node.ELEMENT_NODE?a.push(t):t.classList.contains("left")?i=t:t.classList.contains("right")?r=t:t.classList.contains("center")?o=t:a.push(t)}),this.hasAttribute("expandable")){if(this.classList.add("list-item--expandable"),t||(t=document.createElement("div"),t.classList.add("top")),t.classList.add("list-item__top"),this.appendChild(t),this._top=t,e&&(e.classList.add("list-item__expandable-content"),this.appendChild(e)),!r){r=document.createElement("div"),r.classList.add("list-item__right","right");var s=document.createElement("span");s.classList.add("list-item__expand-chevron"),r.appendChild(s)}}else t=this;o||(o=document.createElement("div"),o.classList.add("center"),a.forEach(function(t){return o.appendChild(t)})),o.classList.add("list-item__center"),t.appendChild(o),i&&(i.classList.add("list-item__left"),t.appendChild(i)),r&&(r.classList.add("list-item__right"),t.appendChild(r)),G.updateRipple(this),P.initModifier(this,Ro)}},{key:"showExpansion",value:function(){var t=this;if(this.hasAttribute("expandable")&&!this._expanding){this.expanded=!0,this._expanding=!0;var e=this._animatorFactory.newAnimator();e.showExpansion(this,function(){t.classList.add("expanded"),t._expanding=!1})}}},{key:"hideExpansion",value:function(){var t=this;if(this.hasAttribute("expandable")&&!this._expanding){this.expanded=!1,this._expanding=!0;var e=this._animatorFactory.newAnimator();e.hideExpansion(this,function(){t.classList.remove("expanded"),t._expanding=!1})}}},{key:"toggleExpansion",value:function(){this.classList.contains("expanded")?this.hideExpansion():this.showExpansion(),this.dispatchEvent(new Event("expansion"))}},{key:"_updateAnimatorFactory",value:function(){return new b({animators:Mo,baseClass:No,baseClassName:"ListItemAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,Do,Ro);break;case"modifier":P.onModifierChanged(e,n,this,Ro);break;case"ripple":G.updateRipple(this);break;case"animation":this._animatorFactory=this._updateAnimatorFactory();break}}},{key:"connectedCallback",value:function(){var t=this;St(this,function(){t._setupListeners(!0),t._originalBackgroundColor=t.style.backgroundColor,t.tapped=!1})}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";G[e](this,"touchstart",this._onTouch,{passive:!0}),G[e](this,"touchmove",this._onRelease,{passive:!0}),this[e]("touchcancel",this._onRelease),this[e]("touchend",this._onRelease),this[e]("touchleave",this._onRelease),this[e]("drag",this._onDrag),this[e]("mousedown",this._onTouch),this[e]("mouseup",this._onRelease),this[e]("mouseout",this._onRelease),this._top&&this._top[e]("click",this.toggleExpansion)}},{key:"_onDrag",value:function(t){var e=t.gesture;this.hasAttribute("lock-on-drag")&&["left","right"].indexOf(e.direction)>-1&&e.preventDefault()}},{key:"_onTouch",value:function(t){var e=this;if(!(this.tapped||this!==t.target&&(this._shouldIgnoreTap(t.target)||G.findParent(t.target,this._shouldIgnoreTap,function(t){return t===e})))){this.tapped=!0;var n={transition:"background-color 0.0s linear 0.02s, box-shadow 0.0s linear 0.02s"};this.hasAttribute("tappable")&&(this.style.backgroundColor&&(this._originalBackgroundColor=this.style.backgroundColor),n.backgroundColor=this.getAttribute("tap-background-color")||"#d9d9d9",n.boxShadow="0px -1px 0px 0px "+n.backgroundColor),i(this,n)}}},{key:"_onRelease",value:function(){this.tapped=!1,this.style.backgroundColor=this._originalBackgroundColor||"",i.clear(this,"transition boxShadow")}},{key:"expandableContent",get:function(){return this.querySelector(".list-item__expandable-content")}},{key:"expandChevron",get:function(){return this.querySelector(".list-item__expand-chevron")}}],[{key:"observedAttributes",get:function(){return["modifier","class","ripple","animation"]}}]),e}(Cr);t.ListItem=jo,customElements.define("ons-list-item",jo);var Fo="list",Bo={"":"list--*"},qo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t}return l(e,t),a(e,[{key:"_compile",value:function(){x.prepare(this),this.classList.add(Fo),P.initModifier(this,Bo)}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,Fo,Bo);break;case"modifier":P.onModifierChanged(e,n,this,Bo);break}}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.List=qo,customElements.define("ons-list",qo);var Uo=["autocapitalize","autocomplete","autocorrect","autofocus","disabled","inputmode","max","maxlength","min","minlength","name","pattern","placeholder","readonly","required","size","step","validator","value"],$o=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&G.throwAbstract(),St(t,function(){return t._compile()}),t._boundDelegateEvent=t._delegateEvent.bind(t),t}return l(e,t),a(e,[{key:"_update",value:function(){}},{key:"_scheme",get:function(){G.throwMember()}},{key:"_template",get:function(){G.throwMember()}},{key:"type",get:function(){G.throwMember()}}]),a(e,[{key:"_compile",value:function(){x.prepare(this),this._defaultClassName&&this.classList.add(this._defaultClassName),0===this.children.length&&(this.appendChild(G.createFragment(this._template)),this._setInputId(),this._updateBoundAttributes(),P.initModifier(this,this._scheme))}},{key:"_updateBoundAttributes",value:function(){var t=this;Uo.forEach(function(e){t.hasAttribute(e)?t._input.setAttribute(e,t.getAttribute(e)):t._input.removeAttribute(e)}),this._update()}},{key:"_delegateEvent",value:function(t){var e=new CustomEvent(t.type,{bubbles:!1,cancelable:!0});return this.dispatchEvent(e)}},{key:"_setInputId",value:function(){this.hasAttribute("input-id")&&(this._input.id=this.getAttribute("input-id"))}},{key:"connectedCallback",value:function(){var t=this;St(this,function(){t._input.addEventListener("focus",t._boundDelegateEvent),t._input.addEventListener("blur",t._boundDelegateEvent)})}},{key:"disconnectedCallback",value:function(){var t=this;St(this,function(){t._input.removeEventListener("focus",t._boundDelegateEvent),t._input.removeEventListener("blur",t._boundDelegateEvent)})}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"modifier":St(this,function(){return P.onModifierChanged(e,n,i,i._scheme)});break;case"input-id":St(this,function(){return i._setInputId()});break;case"class":G.restoreClass(this,this._defaultClassName,this._scheme);break}Uo.indexOf(t)>=0&&St(this,function(){return i._updateBoundAttributes()})}},{key:"_defaultClassName",get:function(){return""}},{key:"_input",get:function(){return this.querySelector("input")}},{key:"value",get:function(){return null===this._input?this.getAttribute("value"):this._input.value},set:function(t){var e=this;St(this,function(){t instanceof Date&&(t=t.toISOString().substring(0,10)),e._input.value=t,e._update()})}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["modifier","input-id","class"].concat(Uo)}}]),e}(Cr),Vo={".text-input":"text-input--*",".text-input__label":"text-input--*__label"},Ho=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._boundOnInput=t._update.bind(t),t._boundOnFocusin=t._update.bind(t),t}return l(e,t),a(e,[{key:"_update",value:function(){this._updateLabel(),this._updateLabelClass()}},{key:"_updateLabel",value:function(){var t=this.getAttribute("placeholder")||"";"undefined"!==typeof this._helper.textContent?this._helper.textContent=t:this._helper.innerText=t}},{key:"_updateLabelClass",value:function(){""===this.value?this._helper.classList.remove("text-input--material__label--active"):this._helper.classList.add("text-input--material__label--active")}},{key:"connectedCallback",value:function(){var t=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),St(this,function(){t._input.addEventListener("input",t._boundOnInput),t._input.addEventListener("focusin",t._boundOnFocusin)});var n=this.getAttribute("type");["checkbox","radio"].indexOf(n)>=0&&G.warn('Warn: <ons-input type="'+n+'"> is deprecated since v2.4.0. Use <ons-'+n+"> instead.")}},{key:"disconnectedCallback",value:function(){var t=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),St(this,function(){t._input.removeEventListener("input",t._boundOnInput),t._input.removeEventListener("focusin",t._boundOnFocusin)})}},{key:"attributeChangedCallback",value:function(t,n,i){var r=this;switch(t){case"type":St(this,function(){return r._input.setAttribute("type",r.type)});break;default:c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}}},{key:"_scheme",get:function(){return Vo}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="text-input">\n      <span class="text-input__label"></span>\n    '}},{key:"type",get:function(){var t=this.getAttribute("type");return["checkbox","radio"].indexOf(t)<0&&t||"text"}},{key:"_helper",get:function(){return this.querySelector("span")}}],[{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["type"])}}]),e}($o);t.Input=Ho,customElements.define("ons-input",Ho);var Wo=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t.constructor===e&&util.throwAbstract(),St(t,function(){t.attributeChangedCallback("checked",null,t.getAttribute("checked"))}),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,n,i){switch(t){case"checked":this.checked=null!==i;break;default:c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <span class="'+this._defaultClassName+'__checkmark"></span>\n    '}},{key:"_helper",get:function(){return this.querySelector("span")}},{key:"checked",get:function(){return this._input.checked},set:function(t){var e=this;St(this,function(){e._input.checked=t})}}],[{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["checked"])}}]),e}($o),zo={".checkbox":"checkbox--*",".checkbox__input":"checkbox--*__input",".checkbox__checkmark":"checkbox--*__checkmark"},Go=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return zo}},{key:"_defaultClassName",get:function(){return"checkbox"}},{key:"type",get:function(){return"checkbox"}}]),e}(Wo);t.Checkbox=Go,customElements.define("ons-checkbox",Go);var Ko={".radio-button":"radio-button--*",".radio-button__input":"radio-button--*__input",".radio-button__checkmark":"radio-button--*__checkmark"},Qo=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return Ko}},{key:"_defaultClassName",get:function(){return"radio-button"}},{key:"type",get:function(){return"radio"}}]),e}(Wo);t.Radio=Qo,customElements.define("ons-radio",Qo);var Xo={".search-input":"search-input--*"},Yo=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return Xo}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="search-input">\n    '}},{key:"type",get:function(){return"search"}}]),e}($o);t.SearchInput=Yo,customElements.define("ons-search-input",Yo);var Jo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Tr),Zo=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.3:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},it(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),e}(Jo),ta=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier( .1, .7, .1, 1)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.4:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},it(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}).queue(function(t){e(),t()}).play()}}]),e}(Jo),ea={"":"modal--*",modal__content:"modal--*__content"},na="modal",ia={default:Jo,fade:Zo,lift:ta,none:Jo},ra=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._defaultDBB=function(){},St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:ia,baseClass:Jo,baseClassName:"ModalAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){if(this.style.display="none",this.style.zIndex=10001,this.classList.add(na),!G.findChild(this,".modal__content")){var t=document.createElement("div");t.classList.add("modal__content");while(this.childNodes[0]){var e=this.childNodes[0];this.removeChild(e),t.insertBefore(e,null)}this.appendChild(t)}P.initModifier(this,this._scheme)}},{key:"_toggleStyle",value:function(t){this.style.display=t?"table":"none"}},{key:"connectedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this)}},{key:"disconnectedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this)}},{key:"attributeChangedCallback",value:function(t,n,i){"class"===t?G.restoreClass(this,na,ea):c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}},{key:"_scheme",get:function(){return ea}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Jo||G.throwAnimator("Modal"),ia[t]=e}},{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["class"])}},{key:"animators",get:function(){return ia}},{key:"ModalAnimator",get:function(){return Jo}}]),e}(Nr);t.Modal=ra,customElements.define("ons-modal",ra);var oa=function(t){var e=[parseInt(t,10),/px/.test(t)],n=e[0],i=e[1];return i?n:Math.round(document.body.offsetWidth*n/100)},aa=function(){function t(e){var n=this;o(this,t),"element ignoreSwipe isInitialState onDragCallback swipeMax swipeMin swipeMid".split(/\s+/).forEach(function(t){return n[t]=e[t]}),this.elementHandler=e.elementHandler||e.element,this.getThreshold=e.getThreshold||function(){return.5},this.getSide=e.getSide||function(){return"left"},this.handleGesture=this.handleGesture.bind(this),this._shouldFixScroll="ios"===G.globals.actualMobileOS}return a(t,[{key:"update",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.element.hasAttribute("swipeable");this.gestureDetector||(this.gestureDetector=new rt(this.elementHandler,{dragMinDistance:1,passive:!this._shouldFixScroll}));var e=t?"on":"off";this.gestureDetector[e]("drag dragstart dragend",this.handleGesture)}},{key:"handleGesture",value:function(t){t.gesture&&("dragstart"===t.type?this.onDragStart(t):this._ignoreDrag||("dragend"===t.type?this.onDragEnd(t):this.onDrag(t)))}},{key:"onDragStart",value:function(t){var e=this,n=function(){return"left"===e.getSide()?t.gesture.center.clientX:window.innerWidth-t.gesture.center.clientX};this._ignoreDrag=t.consumed||!G.isValidGesture(t)||this.ignoreSwipe(t,n()),this._ignoreDrag||(t.consume&&t.consume(),t.consumed=!0,this._width=oa(this.element.style.width||"100%"),this._startDistance=this._distance=this.isInitialState instanceof Function&&!this.isInitialState()?this._width:0,G.iosPreventScroll(this.gestureDetector))}},{key:"onDrag",value:function(t){t.stopPropagation();var e="left"===this.getSide()?t.gesture.deltaX:-t.gesture.deltaX,n=Math.max(0,Math.min(this._width,this._startDistance+e));n!==this._distance&&(this._distance=n,this.swipeMid(this._distance,this._width))}},{key:"onDragEnd",value:function(t){t.stopPropagation();var e=t.gesture.interimDirection,n=this.getSide()!==e&&this._distance>this._width*this.getThreshold();n?this.swipeMax():this.swipeMin()}},{key:"dispose",value:function(){this.gestureDetector&&this.gestureDetector.dispose(),this.gestureDetector=this.element=this.elementHandler=null}}]),t}(),sa=function(t){function e(t){return o(this,e),t=G.extend({timing:"linear",duration:"0.4",delay:"0"},t||{}),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return l(e,t),a(e,[{key:"push",value:function(t,e,n){n()}},{key:"pop",value:function(t,e,n){n()}},{key:"block",value:function(t){var e=G.createElement('\n      <div style="position: absolute; background-color: transparent; width: 100%; height: 100%; z-index: 100000"></div>\n    ');return t.parentNode.appendChild(e),function(){return e.remove()}}}]),e}(Tr),ua=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.durationRestore,i=void 0===n?.1:n,r=t.durationSwipe,a=void 0===r?.15:r,s=t.timingSwipe,c=void 0===s?"linear":s,l=h(t,["durationRestore","durationSwipe","timingSwipe"]);o(this,e);var d=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u({},l)));return d.constructor===e&&G.throwAbstract(),d.durationRestore=i,d.durationSwipe=a,d.timingSwipe=c,d.optSwipe={timing:c,duration:a},d.optRestore={timing:c,duration:i},d.swipeShadow=G.createElement('<div style="position: absolute; height: 100%; width: 12px; right: 100%; top: 0; bottom: 0; z-index: -1;background: linear-gradient(to right, transparent 0, rgba(0,0,0,.04) 40%, rgba(0,0,0,.12) 80%, rgba(0,0,0,.16) 100%);"></div>'),d.isDragStart=!0,d}return l(e,t),a(e,null,[{key:"swipeable",get:function(){return!0}}]),a(e,[{key:"_decompose",value:function(){G.throwMember()}},{key:"_shouldAnimateToolbar",value:function(){G.throwMember()}},{key:"_calculateDelta",value:function(){G.throwMember()}},{key:"_dragStartSetup",value:function(t,n){this.isDragStart=!1,this.unblock=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,n),t.parentElement.insertBefore(this.backgroundMask,t),this.target={enter:G.findToolbarPage(t)||t,leave:G.findToolbarPage(n)||n},this.decomp={enter:this._decompose(this.target.enter),leave:this._decompose(this.target.leave)},this.delta=this._calculateDelta(n,this.decomp.leave),this.shouldAnimateToolbar=this._shouldAnimateToolbar(this.target.enter,this.target.leave),this.shouldAnimateToolbar?(this.swipeShadow.style.top=this.decomp.leave.toolbar.offsetHeight+"px",this.target.leave.appendChild(this.swipeShadow),this._saveStyle(this.target.enter,this.target.leave)):(n.appendChild(this.swipeShadow),this._saveStyle(t,n)),n.classList.add("overflow-visible"),this.overflowElement=n,this.decomp.leave.content.classList.add("content-swiping")}},{key:"translate",value:function(t,e,n,i){this.isSwiping=!0,"none"===n.style.display&&(n.style.display=""),this.isDragStart&&(this.maxWidth=e,this._dragStartSetup(n,i));var r=(t-e)/e;this.shouldAnimateToolbar?it.runAll(it([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d("+25*r+"%, 0, 0)",opacity:1+10*r/100}),it(this.decomp.enter.toolbarCenter).queue({transform:"translate3d("+this.delta.title*r+"px, 0, 0)",opacity:1+r}),it(this.decomp.enter.backButtonLabel).queue({opacity:1+10*r/100,transform:"translate3d("+this.delta.label*r+"px, 0, 0)"}),it(this.decomp.enter.other).queue({opacity:1+r}),it([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d("+t+"px, 0, 0)"}),it(this.decomp.leave.toolbar).queue({opacity:-1*r}),it(this.decomp.leave.toolbarCenter).queue({transform:"translate3d("+125*(1+r)+"%, 0, 0)"}),it(this.decomp.leave.backButtonLabel).queue({opacity:-1*r,transform:"translate3d("+this.delta.title*(1+r)+"px, 0, 0)"}),it(this.swipeShadow).queue({opacity:-1*r})):it.runAll(it(i).queue({transform:"translate3d("+t+"px, 0, 0)"}),it(n).queue({transform:"translate3d("+25*r+"%, 0, 0)",opacity:1+10*r/100}),it(this.swipeShadow).queue({opacity:-1*r}))}},{key:"restore",value:function(t,e,n){var i=this;this.isDragStart||(this.shouldAnimateToolbar?it.runAll(it([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(-25%, 0, 0)",opacity:.9},this.optRestore),it(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(-"+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe,opacity:0}),it(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(-"+this.delta.label+"px, 0, 0)"},this.optRestore),it(this.decomp.enter.other).queue({opacity:0},this.optRestore),it([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background,this.swipeShadow]).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),it(this.decomp.leave.toolbar).queue({opacity:1},this.optRestore),it(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(0, 0, 0)"},this.optRestore),it(this.decomp.leave.backButtonLabel).queue({opacity:1,transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationRestore+"s linear, transform "+this.durationRestore+"s "+this.timingSwipe}),it(this.swipeShadow).queue({opacity:0},this.optRestore).queue(function(e){i._reset(i.target.enter,i.target.leave),t.style.display="none",n&&n(),e()})):it.runAll(it(t).queue({transform:"translate3D(-25%, 0, 0)",opacity:.9},this.optRestore),it(e).queue({transform:"translate3D(0, 0, 0)"},this.optRestore).queue(function(r){i._reset(t,e),t.style.display="none",n&&n(),r()})))}},{key:"popSwipe",value:function(t,e,n){var i=this;this.isDragStart||(this.shouldAnimateToolbar?it.runAll(it([this.decomp.enter.content,this.decomp.enter.bottomToolbar,this.decomp.enter.background]).queue({transform:"translate3d(0, 0, 0)",opacity:1},this.optSwipe),it(this.decomp.enter.toolbarCenter).queue({transform:"translate3d(0, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe,opacity:1}),it(this.decomp.enter.backButtonLabel).queue({transform:"translate3d(0, 0, 0)"},this.optSwipe),it(this.decomp.enter.other).queue({opacity:1},this.optSwipe),it([this.decomp.leave.content,this.decomp.leave.bottomToolbar,this.decomp.leave.background]).queue({transform:"translate3d(100%, 0, 0)"},this.optSwipe),it(this.decomp.leave.toolbar).queue({opacity:0},this.optSwipe),it(this.decomp.leave.toolbarCenter).queue({transform:"translate3d(125%, 0, 0)"},this.optSwipe),it(this.decomp.leave.backButtonLabel).queue({opacity:0,transform:"translate3d("+this.delta.title+"px, 0, 0)",transition:"opacity "+this.durationSwipe+"s linear, transform "+this.durationSwipe+"s "+this.timingSwipe}),it(this.swipeShadow).queue({opacity:0,transform:"translate3d("+this.maxWidth+"px, 0, 0)"},this.optSwipe).queue(function(t){i._reset(i.target.enter,i.target.leave),n&&n(),t()})):it.runAll(it(t).queue({transform:"translate3D(0, 0, 0)",opacity:1},this.optSwipe),it(e).queue({transform:"translate3D(100%, 0, 0)"},this.optSwipe).queue(function(r){i._reset(t,e),n&&n(),r()})))}},{key:"_saveStyle",value:function(){var t=this;this._savedStyle=new WeakMap;for(var e=function(e){return t._savedStyle.set(e,e.getAttribute("style"))},n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach(e),Object.keys(this.decomp).forEach(function(n){Object.keys(t.decomp[n]).forEach(function(i){(t.decomp[n][i]instanceof Array?t.decomp[n][i]:[t.decomp[n][i]]).forEach(e)})})}},{key:"_restoreStyle",value:function(){for(var t=this,e=function(e){null===t._savedStyle.get(e)?e.removeAttribute("style"):e.setAttribute("style",t._savedStyle.get(e)),t._savedStyle.delete(e)},n=arguments.length,i=Array(n),r=0;r<n;r++)i[r]=arguments[r];i.forEach(e),Object.keys(this.decomp).forEach(function(n){Object.keys(t.decomp[n]).forEach(function(i){(t.decomp[n][i]instanceof Array?t.decomp[n][i]:[t.decomp[n][i]]).forEach(e)})})}},{key:"_reset",value:function(){this.isSwiping=!1,this._savedStyle&&this._restoreStyle.apply(this,arguments),this.unblock&&this.unblock(),this.swipeShadow.remove(),this.backgroundMask.remove(),this.overflowElement.classList.remove("overflow-visible"),this.decomp.leave.content.classList.remove("content-swiping"),this.decomp=this.target=this.overflowElement=this._savedStyle=null,this.isDragStart=!0}}]),e}(sa),ca=function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0,e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;return"translate3d("+t+", "+e+", "+n+")"},la=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(0.3, .4, 0, .9)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,c=void 0===s?.4:s,l=h(t,["timing","delay","duration"]);o(this,e);var d=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,u({timing:i,delay:a,duration:c},l)));return d.backgroundMask=G.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black; z-index: 2"></div>'),d}return l(e,t),a(e,[{key:"_decompose",value:function(t){var e=t._getToolbarElement(),n=e._getToolbarLeftItemsElement(),i=e._getToolbarRightItemsElement(),r=function(t){for(var e=[],n=0;n<t.length;n++)"ons-back-button"!==t[n].nodeName.toLowerCase()&&e.push(t[n]);return e},o=[].concat(0===n.children.length?n:r(n.children)).concat(0===i.children.length?i:r(i.children));return{toolbarCenter:e._getToolbarCenterItemsElement(),backButtonIcon:e._getToolbarBackButtonIconElement(),backButtonLabel:e._getToolbarBackButtonLabelElement(),other:o,content:t._getContentElement(),background:t._getBackgroundElement(),toolbar:e,bottomToolbar:t._getBottomToolbarElement()}}},{key:"_shouldAnimateToolbar",value:function(t,e){var n=t._canAnimateToolbar()&&e._canAnimateToolbar(),i=t._getToolbarElement(),r=e._getToolbarElement(),o=i.hasAttribute("static")||r.hasAttribute("static"),a=G.hasModifier(i,"material")||G.hasModifier(r,"material"),s=G.hasModifier(i,"transparent")||G.hasModifier(r,"transparent");return n&&!o&&!a&&!s}},{key:"_calculateDelta",value:function(t,e){var n=void 0,i=void 0,r=t.getBoundingClientRect();if(e.backButtonLabel.classList.contains("back-button__label")){var o=e.backButtonLabel.getBoundingClientRect();n=Math.round(r.width/2-o.width/2-o.left)}else n=Math.round(r.width/2*.6);return e.backButtonIcon.classList.contains("back-button__icon")&&(i=e.backButtonIcon.getBoundingClientRect().right-2),{title:n,label:i}}},{key:"push",value:function(t,n,i){var r=this;this.backgroundMask.remove(),n.parentNode.insertBefore(this.backgroundMask,n);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);St(t,function(){var e=G.findToolbarPage(t)||t,a=G.findToolbarPage(n)||n,s=r._decompose(e),u=r._decompose(a),c=r._calculateDelta(n,s),l=r._shouldAnimateToolbar(e,a);l?it.runAll(it([s.content,s.bottomToolbar,s.background],r.def).default({transform:ca("100%")},{transform:ca()}),it(s.toolbar,r.def).default({opacity:0},{opacity:1}),it(s.toolbarCenter,r.def).default({transform:ca("125%"),opacity:1},{transform:ca(),opacity:1}),it(s.backButtonLabel,r.def).default({transform:ca(c.title+"px"),opacity:0},{transform:ca(),opacity:1,transition:"opacity "+r.duration+"s linear, transform "+r.duration+"s "+r.timing}),it(s.other,r.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),it([u.content,u.bottomToolbar,u.background],r.def).default({transform:ca(),opacity:1},{transform:ca("-25%"),opacity:.9}).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}),it(u.toolbarCenter,r.def).default({transform:ca(),opacity:1},{transform:ca("-"+c.title+"px"),opacity:0,transition:"opacity "+r.duration+"s linear, transform "+r.duration+"s "+r.timing}),it(u.backButtonLabel,r.def).default({transform:ca(),opacity:1},{transform:ca("-"+c.label+"px"),opacity:0}),it(u.other,r.def).default({opacity:1},{css:{opacity:0},timing:"linear"})):it.runAll(it(t,r.def).default({transform:ca("100%")},{transform:ca()}),it(n,r.def).default({transform:ca(),opacity:1},{transform:ca("-25%"),opacity:.9}).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}))})}},{key:"pop",value:function(t,n,i){var r=this;if(this.isSwiping)return this.popSwipe(t,n,i);this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),a=G.findToolbarPage(t)||t,s=G.findToolbarPage(n)||n,u=this._decompose(a),l=this._decompose(s),h=this._calculateDelta(n,l),f=this._shouldAnimateToolbar(a,s);f?it.runAll(it([u.content,u.bottomToolbar,u.background],this.def).default({transform:ca("-25%"),opacity:.9},{transform:ca(),opacity:1}),it(u.toolbarCenter,this.def).default({transform:ca("-"+h.title+"px"),opacity:0},{transform:ca(),opacity:1,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing}),it(u.backButtonLabel,this.def).default({transform:ca("-"+h.label+"px")},{transform:ca()}),it(u.other,this.def).default({opacity:0},{css:{opacity:1},timing:"linear"}),it([l.content,l.bottomToolbar,l.background],this.def).default({transform:ca()},{transform:ca("100%")}).wait(0).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}),it(l.toolbar,this.def).default({opacity:1},{opacity:0}),it(l.toolbarCenter,this.def).default({transform:ca()},{transform:ca("125%")}),it(l.backButtonLabel,this.def).default({transform:ca(),opacity:1},{transform:ca(h.title+"px"),opacity:0,transition:"opacity "+this.duration+"s linear, transform "+this.duration+"s "+this.timing})):it.runAll(it(t,this.def).default({transform:ca("-25%"),opacity:.9},{transform:ca(),opacity:1}),it(n,this.def).default({transform:ca()},{transform:ca("100%")}).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}))}}]),e}(ua),ha=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .1, 1)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.4:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.backgroundMask=G.createElement('<div style="position: absolute; width: 100%; height: 100%;background: linear-gradient(black, white);"></div>'),c}return l(e,t),a(e,[{key:"push",value:function(t,n,i){var r=this;this.backgroundMask.remove(),n.parentNode.insertBefore(this.backgroundMask,n);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(t,this.def).default({transform:"translate3D(0, 100%, 0)"},{transform:"translate3D(0, 0, 0)"}),it(n,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{transform:"translate3D(0, -10%, 0)",opacity:.9}).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}))}},{key:"pop",value:function(t,n,i){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(t,this.def).default({transform:"translate3D(0, -43px, 0)",opacity:.9},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){r.backgroundMask.remove(),o(),i(),t()}),it(n,this.def).default({transform:"translate3D(0, 0, 0)"},{transform:"translate3D(0, 100%, 0)"}))}}]),e}(sa),fa="translate3d(0, 0, 0)",da=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.4:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"push",value:function(t,n,i){var r=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(t,this.def).default({transform:fa,opacity:0},{transform:fa,opacity:1}).queue(function(t){r(),i(),t()}))}},{key:"pop",value:function(t,n,i){var r=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(n,this.def).default({transform:fa,opacity:1},{transform:fa,opacity:0}).queue(function(t){r(),i(),t()}))}}]),e}(sa),pa=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .4, 1)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.3:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.blackMaskOpacity=.4,c.backgroundMask=G.createElement('<div style="position: absolute; width: 100%; height: 100%; z-index: 2;background-color: black; opacity: 0;"></div>'),c}return l(e,t),a(e,[{key:"push",value:function(t,n,i){var r=this;this.backgroundMask.remove(),n.parentElement.insertBefore(this.backgroundMask,n.nextSibling);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:0},{opacity:this.blackMaskOpacity}).queue(function(t){r.backgroundMask.remove(),t()}),it(t,this.def).default({transform:"translate3d(100%, 0, 0)"},{transform:"translate3d(0, 0, 0)"}),it(n,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(-45%, 0, 0)"}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,n,i){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t.nextSibling);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(this.backgroundMask,this.def).default({transform:"translate3d(0, 0, 0)",opacity:this.blackMaskOpacity},{opacity:0}).queue(function(t){r.backgroundMask.remove(),t()}),it(t,this.def).default({transform:"translate3d(-45%, 0, 0)",opacity:.9},{transform:"translate3d(0, 0, 0)",opacity:1}),it(n,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(100%, 0, 0)"}).queue(function(t){o(),i(),t()}))}}]),e}(sa),va=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .1, 1)":n,r=t.delay,a=void 0===r?.05:r,s=t.duration,u=void 0===s?.4:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.backgroundMask=G.createElement('<div style="position: absolute; width: 100%; height: 100%;background-color: black;"></div>'),c}return l(e,t),a(e,[{key:"push",value:function(t,n,i){var r=this;this.backgroundMask.remove(),n.parentNode.insertBefore(this.backgroundMask,n);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t),a=it(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()});it.runAll(a,it(t,this.def).default({transform:"translate3d(0, 100%, 0)"},{transform:"translate3d(0, 0, 0)"}),it(n,this.def).default({opacity:1},{opacity:.4}).queue(function(t){o(),i(),t()}))}},{key:"pop",value:function(t,n,i){var r=this;this.backgroundMask.remove(),t.parentNode.insertBefore(this.backgroundMask,t);var o=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(this.backgroundMask).wait(this.delay+this.duration).queue(function(t){r.backgroundMask.remove(),t()}),it(t,this.def).default({opacity:.4},{opacity:1}).queue(function(t){o(),i(),t()}),it(n,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, 100%, 0)"}))}}]),e}(sa),ma=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(0.4, 0, 0.2, 1)":n,r=t.timingPop,a=void 0===r?"cubic-bezier(0.4, 0, 1, 1)":r,s=t.delay,u=void 0===s?0:s,c=t.duration,l=void 0===c?.2:c;o(this,e);var h=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:u,duration:l}));return h.timingPop=a,h}return l(e,t),a(e,[{key:"push",value:function(t,n,i){var r=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(t,this.def).default({transform:"translate3D(0, 42px, 0)",opacity:0},{transform:"translate3D(0, 0, 0)",opacity:1}).queue(function(t){r(),i(),t()}))}},{key:"pop",value:function(t,n,i){var r=c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"block",this).call(this,t);it.runAll(it(n,this.def).default({transform:"translate3D(0, 0, 0)",opacity:1},{css:{transform:"translate3D(0, 38px, 0)",opacity:0},timing:this.timingPop}).queue(function(t){r(),i(),t()}))}}]),e}(sa),ga=function(t){function e(t){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,t))}return l(e,t),a(e,[{key:"push",value:function(t,e,n){n()}},{key:"pop",value:function(t,e,n){n()}}]),e}(sa),_a={default:function(){return m.isAndroid()?ma:la},slide:function(){return m.isAndroid()?pa:la},lift:function(){return m.isAndroid()?va:ha},fade:function(){return m.isAndroid()?ma:da},"slide-ios":la,"slide-md":pa,"lift-ios":ha,"lift-md":va,"fade-ios":da,"fade-md":ma,none:ga},ya={ready:function(t,e){e()}},ba=function(t){return"ONS-PAGE"!==t.nodeName&&G.throw("Only page elements can be children of navigator")},wa=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._isRunning=!1,t._initialized=!1,t._pageLoader=Gt,t._pageMap=new WeakMap,t._updateAnimatorFactory(),t}return l(e,t),a(e,[{key:"animatorFactory",get:function(){return this._animatorFactory}}]),a(e,[{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"connectedCallback",value:function(){var t=this;if(this.onDeviceBackButton=this._onDeviceBackButton.bind(this),!m.isAndroid()||"force"===this.getAttribute("swipeable")){var e=void 0;this._swipe=new aa({element:this,getThreshold:function(){return Math.max(.2,parseFloat(t.getAttribute("swipe-threshold"))||0)},swipeMax:function(){t._onSwipe&&t._onSwipe(1,{duration:e.durationSwipe,timing:e.timingSwipe}),t[t.swipeMax?"swipeMax":"popPage"]({animator:e}),e=null},swipeMid:function(n,i){t._onSwipe&&t._onSwipe(n/i),e.translate(n,i,t.topPage.previousElementSibling,t.topPage)},swipeMin:function(){t._onSwipe&&t._onSwipe(0,{duration:e.durationRestore,timing:e.timingSwipe}),e.restore(t.topPage.previousElementSibling,t.topPage),e=null},ignoreSwipe:function(n,i){if(!t._isRunning&&t.children.length>1){var r=parseInt(t.getAttribute("swipe-target-width")||25,10);if("right"===n.gesture.direction&&r>i){var o=function(t){return/ons-back-button/i.test(t.tagName)};if(!o(n.target)&&!G.findParent(n.target,o,function(t){return/ons-page/i.test(t.tagName)})){var a=(t.topPage.pushedOptions||{}).animation||t.animatorFactory._animation,s=_a[a]instanceof Function?_a[a].call():_a[a];if("undefined"!==typeof s&&s.swipeable)return e=new s,!1}}}return!0}}),this.attributeChangedCallback("swipeable")}if(!this._initialized){this._initialized=!0;var n=G.defer();this.loaded=n.promise,ya.ready(this,function(){var e=!G.hasAnyComponentAsParent(t),i={animation:"none",show:e};if(0===t.pages.length&&t._getPageTarget())t.pushPage(t._getPageTarget(),i).then(function(){return n.resolve()});else if(t.pages.length>0){for(var r=0;r<t.pages.length;r++)ba(t.pages[r]);t.topPage&&St(t.topPage,function(){return setTimeout(function(){n.resolve(),e&&t.topPage._show(),t._updateLastPageBackButton()},0)})}else St(t,function(){0===t.pages.length&&t._getPageTarget()?t.pushPage(t._getPageTarget(),i).then(function(){return n.resolve()}):n.resolve()})})}}},{key:"_updateAnimatorFactory",value:function(){this._animatorFactory=new b({animators:_a,baseClass:sa,baseClassName:"NavigatorAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this._swipe&&this._swipe.dispose(),this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"animation":this._updateAnimatorFactory();break;case"swipeable":this._swipe&&this._swipe.update();break}}},{key:"popPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=this._preparePageAndOptions(null,e);e=n.options,G.isInteger(e.times)&&e.times>1&&this._removePages(e.times);var i=function(){return new Promise(function(e){t._pageLoader.unload(t.pages[t.pages.length-1]),e()})};return this._popPage(e,i)}},{key:"_popPage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("popPage is already running.");if(this.pages.length<=1)return Promise.reject("ons-navigator's page stack is empty.");if(this._emitPrePopEvent())return Promise.reject("Canceled in prepop event.");var i=this.pages.length;return this._isRunning=!0,this.pages[i-2].updateBackButton(i-2>0),new Promise(function(r){var o=e.pages[i-1],a=e.pages[i-2];t=G.extend({},e.options||{},o.pushedOptions||{},t),t.data&&(a.data=G.extend({},a.data||{},t.data||{}));var s=function(){n().then(function(){e._isRunning=!1,a._show(),G.triggerElementEvent(e,"postpop",{leavePage:o,enterPage:a,navigator:e}),t.callback&&t.callback(a),r(a)})};o._hide(),a.style.display="";var u=t.animator||e._animatorFactory.newAnimator(t);u.pop(e.pages[i-2],e.pages[i-1],s)}).catch(function(){return e._isRunning=!1})}},{key:"pushPage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._preparePageAndOptions(t,n);t=i.page,n=i.options;var r=function(i){ba(i),e._pageMap.set(i,t),i=G.extend(i,{data:n.data}),i.style.visibility="hidden"};return n.pageHTML?this._pushPage(n,function(){return new Promise(function(t){Kt.load({page:n.pageHTML,parent:e,params:n.data},function(e){r(e),t()})})}):this._pushPage(n,function(){return new Promise(function(i){e._pageLoader.load({page:t,parent:e,params:n.data},function(t){r(t),i()})})})}},{key:"_pushPage",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:function(){return Promise.resolve()};if(this._isRunning)return Promise.reject("pushPage is already running.");if(this._emitPrePushEvent())return Promise.reject("Canceled in prepush event.");this._isRunning=!0;var i=b.parseAnimationOptionsString(this.getAttribute("animation-options"));e=G.extend({},this.options||{},{animationOptions:i},e);var r=this._animatorFactory.newAnimator(e);return n().then(function(){var n=t.pages.length,i=t.pages[n-1],o=e.leavePage||t.pages[n-2];return ba(i),i.updateBackButton(n>(e._replacePage?2:1)),i.pushedOptions=G.extend({},i.pushedOptions||{},e||{}),i.data=G.extend({},i.data||{},e.data||{}),i.unload=i.unload||e.unload,new Promise(function(n){var a=function(){t._isRunning=!1,!1!==e.show&&setImmediate(function(){return i._show()}),G.triggerElementEvent(t,"postpush",{leavePage:o,enterPage:i,navigator:t}),o&&(o.style.display="none"),e.callback&&e.callback(i),n(i)};i.style.visibility="",o?(o._hide(),r.push(i,o,a)):a()})}).catch(function(e){throw t._isRunning=!1,e})}},{key:"replacePage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return this.pushPage(t,n).then(function(t){return e.pages.length>1&&e._pageLoader.unload(e.pages[e.pages.length-2]),e._updateLastPageBackButton(),Promise.resolve(t)})}},{key:"insertPage",value:function(t,e){var n=this,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},r=this._preparePageAndOptions(e,i);if(e=r.page,i=r.options,t=this._normalizeIndex(t),t>=this.pages.length)return this.pushPage(e,i);e="string"===typeof i.pageHTML?i.pageHTML:e;var o="string"===typeof i.pageHTML?Kt:this._pageLoader;return new Promise(function(r){o.load({page:e,parent:n},function(o){ba(o),n._pageMap.set(o,e),o=G.extend(o,{data:i.data,pushedOptions:i}),i.animationOptions=G.extend({},b.parseAnimationOptionsString(n.getAttribute("animation-options")),i.animationOptions||{}),o.style.display="none",n.insertBefore(o,n.pages[t]),n.topPage.updateBackButton(!0),setTimeout(function(){o=null,r(n.pages[t])},1e3/60)})})}},{key:"removePage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return t=this._normalizeIndex(t),t<this.pages.length-1?new Promise(function(n){var i=e.pages[t],r=e.topPage;e._pageMap.delete(i),e._pageLoader.unload(i),1===e.pages.length&&e.topPage.updateBackButton(!1),n(r)}):this.popPage(n)}},{key:"resetToPage",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this._preparePageAndOptions(t,n);if(t=i.page,n=i.options,n.animator||n.animation||n.pop||(n.animation="none"),n.page||n.pageHTML||!this._getPageTarget()||(t=n.page=this._getPageTarget()),n.pop)return this._removePages(),this.insertPage(0,t,{data:n.data}).then(function(){return e.popPage(n)});var r=n.callback;return n.callback=function(t){e._removePages(),t.updateBackButton(!1),r&&r(t)},this.pushPage(t,n)}},{key:"bringPageTop",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};-1===["number","string"].indexOf("undefined"===typeof t?"undefined":r(t))&&G.throw("First argument must be a page name or the index of an existing page. You supplied "+t);var n="number"===typeof t?this._normalizeIndex(t):this._lastIndexOfPage(t),i=this.pages[n];if(n<0)return this.pushPage(t,e);var o=this._preparePageAndOptions(i,e);return e=o.options,n===this.pages.length-1?Promise.resolve(i):(i||G.throw("Failed to find item "+t),this._isRunning?Promise.reject("pushPage is already running."):this._emitPrePushEvent()?Promise.reject("Canceled in prepush event."):(i.style.display="",i.style.visibility="hidden",i.parentNode.appendChild(i),this._pushPage(e)))}},{key:"_preparePageAndOptions",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return"object"!=("undefined"===typeof e?"undefined":r(e))&&G.throw("options must be an object. You supplied "+e),null!==t&&void 0!==t||!e.page||(t=e.page),e=G.extend({},this.options||{},e,{page:t}),{page:t,options:e}}},{key:"_removePages",value:function(t){var e=this.pages,n=void 0===t?0:e.length-t;n=n<0?1:n;for(var i=e.length-2;i>=n;i--)this._pageMap.delete(e[i]),this._pageLoader.unload(e[i])}},{key:"_updateLastPageBackButton",value:function(){var t=this.pages.length-1;t>=0&&this.pages[t].updateBackButton(t>0)}},{key:"_normalizeIndex",value:function(t){return t>=0?t:Math.abs(this.pages.length+t)%this.pages.length}},{key:"_onDeviceBackButton",value:function(t){this.pages.length>1?this.popPage():t.callParentHandler()}},{key:"_lastIndexOfPage",value:function(t){var e=void 0;for(e=this.pages.length-1;e>=0;e--)if(this._pageMap.has(this.pages[e])||G.throw("Incorrect state of pageMap"),t===this._pageMap.get(this.pages[e]))break;return e}},{key:"_emitPreEvent",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=!1;return G.triggerElementEvent(this,"pre"+t,G.extend({navigator:this,currentPage:this.pages[this.pages.length-1],cancel:function(){return n=!0}},e)),n}},{key:"_emitPrePushEvent",value:function(){return this._emitPreEvent("push")}},{key:"_emitPrePopEvent",value:function(){var t=this.pages.length;return this._emitPreEvent("pop",{leavePage:this.pages[t-1],enterPage:this.pages[t-2]})}},{key:"_createPageElement",value:function(t){var e=G.createElement(y.normalizePageHTML(t));return ba(e),e}},{key:"_show",value:function(){var t=this;this.loaded.then(function(){return t.topPage&&t.topPage._show()})}},{key:"_hide",value:function(){this.topPage&&this.topPage._hide()}},{key:"_destroy",value:function(){for(var t=this.pages.length-1;t>=0;t--)this._pageLoader.unload(this.pages[t]);this.remove()}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof zt||G.throwPageLoader(),this._pageLoader=t}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=D.createHandler(this,t)}},{key:"topPage",get:function(){var t=this.lastElementChild;while(t&&"ONS-PAGE"!==t.tagName)t=t.previousElementSibling;return t}},{key:"pages",get:function(){return G.arrayFrom(this.children).filter(function(t){return"ONS-PAGE"===t.tagName})}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||G.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"options",get:function(){return this._options},set:function(t){this._options=t}},{key:"_isRunning",set:function(t){this.setAttribute("_is-running",t?"true":"false")},get:function(){return JSON.parse(this.getAttribute("_is-running"))}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof sa||G.throwAnimator("Navigator"),_a[t]=e}},{key:"observedAttributes",get:function(){return["animation","swipeable"]}},{key:"animators",get:function(){return _a}},{key:"NavigatorAnimator",get:function(){return sa}},{key:"events",get:function(){return["prepush","postpush","prepop","postpop"]}},{key:"rewritables",get:function(){return ya}}]),e}(Cr);t.Navigator=wa,customElements.define("ons-navigator",wa);var ka="toolbar",Ea={"":"toolbar--*",".toolbar__left":"toolbar--*__left",".toolbar__center":"toolbar--*__center",".toolbar__right":"toolbar--*__right"},Ca=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){t._compile()}),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,ka,Ea);break;case"modifier":P.onModifierChanged(e,n,this,Ea);break}}},{key:"setVisibility",value:function(t){var e=this;St(this,function(){if(e.style.display=t?"":"none",e.parentNode){var n=G.findChild(e.parentNode,".page__background");n&&(n.style.top=t?null:0);var i=G.findChild(e.parentNode,".page__content");i&&(i.style.top=t?null:0)}})}},{key:"show",value:function(){this.setVisibility(!0)}},{key:"hide",value:function(){this.setVisibility(!1)}},{key:"_getToolbarLeftItemsElement",value:function(){return this.querySelector(".left")||y.nullElement}},{key:"_getToolbarCenterItemsElement",value:function(){return this.querySelector(".center")||y.nullElement}},{key:"_getToolbarRightItemsElement",value:function(){return this.querySelector(".right")||y.nullElement}},{key:"_getToolbarBackButtonLabelElement",value:function(){return this.querySelector("ons-back-button .back-button__label")||y.nullElement}},{key:"_getToolbarBackButtonIconElement",value:function(){return this.querySelector("ons-back-button .back-button__icon")||y.nullElement}},{key:"_compile",value:function(){x.prepare(this),this.classList.add(ka),this._ensureToolbarItemElements(),P.initModifier(this,Ea)}},{key:"_ensureToolbarItemElements",value:function(){for(var t=this.childNodes.length-1;t>=0;t--)1!=this.childNodes[t].nodeType&&this.removeChild(this.childNodes[t]);var e=this._ensureToolbarElement("center");if(e.classList.add("toolbar__title"),1!==this.children.length||!this.children[0].classList.contains("center")){var n=this._ensureToolbarElement("left"),i=this._ensureToolbarElement("right");this.children[0]===n&&this.children[1]===e&&this.children[2]===i||(this.appendChild(n),this.appendChild(e),this.appendChild(i))}}},{key:"_ensureToolbarElement",value:function(t){if(G.findChild(this,".toolbar__"+t)){var e=G.findChild(this,".toolbar__"+t);return e.classList.add(t),e}var n=G.findChild(this,"."+t)||G.create("."+t);return n.classList.add("toolbar__"+t),n}}],[{key:"observedAttributes",get:function(){return["modifier","class"]}}]),e}(Cr);t.Toolbar=Ca,customElements.define("ons-toolbar",Ca);var Sa="page",Aa={"":"page--*",".page__content":"page--*__content",".page__background":"page--*__background"},Ta=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._deriveHooks(),t._defaultClassName=Sa,t.classList.add(Sa),t._initialized=!1,St(t,function(){t._compile(),t._isShown=!1,t._contentElement=t._getContentElement(),t._backgroundElement=t._getBackgroundElement()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){var t=this;x.prepare(this);var e=G.findChild(this,"ons-toolbar"),n=G.findChild(this,".page__background")||G.findChild(this,".background")||document.createElement("div");n.classList.add("page__background"),this.insertBefore(n,!e&&this.firstChild||e&&e.nextSibling);var i=G.findChild(this,".page__content")||G.findChild(this,".content")||document.createElement("div");i.classList.add("page__content"),i.parentElement||G.arrayFrom(this.childNodes).forEach(function(e){(1!==e.nodeType||t._elementShouldBeMoved(e))&&i.appendChild(e)}),this._tryToFillStatusBar(i),this.insertBefore(i,n.nextSibling),e&&G.hasModifier(e,"transparent")||1!==i.children.length||!G.isPageControl(i.children[0])||(this._defaultClassName+=" page--wrapper",this.attributeChangedCallback("class"));var r=G.findChild(this,"ons-bottom-toolbar");r&&(this._defaultClassName+=" page-with-bottom-toolbar",this.attributeChangedCallback("class")),P.initModifier(this,Aa)}},{key:"_elementShouldBeMoved",value:function(t){if(t.classList.contains("page__background"))return!1;var e=t.tagName.toLowerCase();if("ons-fab"===e)return!t.hasAttribute("position");var n=["script","ons-toolbar","ons-bottom-toolbar","ons-modal","ons-speed-dial","ons-dialog","ons-alert-dialog","ons-popover","ons-action-sheet"];return t.hasAttribute("inline")||-1===n.indexOf(e)}},{key:"_tryToFillStatusBar",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._contentElement;y.autoStatusBarFill(function(){G.toggleAttribute(t,"status-bar-fill",!G.findParent(t,function(t){return t.hasAttribute("status-bar-fill")})&&(t._canAnimateToolbar(e)||!G.findChild(e,G.isPageControl)))})}},{key:"_canAnimateToolbar",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._contentElement;return!!G.findChild(this,"ons-toolbar")||!!G.findChild(t,function(t){return G.match(t,"ons-toolbar")&&!t.hasAttribute("inline")})}},{key:"connectedCallback",value:function(){var t=this;G.isAttached(this)&&St(this,function(){t._tryToFillStatusBar(),t.hasAttribute("on-infinite-scroll")&&t.attributeChangedCallback("on-infinite-scroll",null,t.getAttribute("on-infinite-scroll")),t._initialized||(t._initialized=!0,setImmediate(function(){t.onInit&&t.onInit(),G.triggerElementEvent(t,"init")}),G.hasAnyComponentAsParent(t)||setImmediate(function(){return t._show()}))})}},{key:"updateBackButton",value:function(t){this.backButton&&(t?this.backButton.show():this.backButton.hide())}},{key:"_onScroll",value:function(){var t=this,e=this._contentElement,n=(e.scrollTop+e.clientHeight)/e.scrollHeight>=this._infiniteScrollLimit;this._onInfiniteScroll&&!this._loadingContent&&n&&(this._loadingContent=!0,this._onInfiniteScroll(function(){return t._loadingContent=!1}))}},{key:"_getContentElement",value:function(){var t=G.findChild(this,".page__content");if(t)return t;G.throw('Fail to get ".page__content" element')}},{key:"_getBackgroundElement",value:function(){var t=G.findChild(this,".page__background");if(t)return t;G.throw('Fail to get ".page__background" element')}},{key:"_getBottomToolbarElement",value:function(){return G.findChild(this,"ons-bottom-toolbar")||y.nullElement}},{key:"_getToolbarElement",value:function(){return G.findChild(this,"ons-toolbar")||document.createElement("ons-toolbar")}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"class":G.restoreClass(this,this._defaultClassName,Aa);break;case"modifier":P.onModifierChanged(e,n,this,Aa);break;case"on-infinite-scroll":this.onInfiniteScroll=null===n?null:function(t){var e=G.findFromPath(n);i.onInfiniteScroll=e,e(t)};break}}},{key:"_show",value:function(){!this._isShown&&G.isAttached(this)&&(this._isShown=!0,this.setAttribute("shown",""),this.onShow&&this.onShow(),G.triggerElementEvent(this,"show"),G.propagateAction(this,"_show"))}},{key:"_hide",value:function(){this._isShown&&(this._isShown=!1,this.removeAttribute("shown"),this.onHide&&this.onHide(),G.triggerElementEvent(this,"hide"),G.propagateAction(this,"_hide"))}},{key:"_destroy",value:function(){this._hide(),this.onDestroy&&this.onDestroy(),G.triggerElementEvent(this,"destroy"),this.onDeviceBackButton&&this.onDeviceBackButton.destroy(),G.propagateAction(this,"_destroy"),this.remove()}},{key:"_deriveHooks",value:function(){var t=this;this.constructor.events.forEach(function(e){var n="on"+e.charAt(0).toUpperCase()+e.slice(1);Object.defineProperty(t,n,{configurable:!0,enumerable:!0,get:function(){return t["_"+n]},set:function(e){e instanceof Function||G.throw('"'+n+'" hook must be a function'),t["_"+n]=e.bind(t)}})})}},{key:"name",set:function(t){this.setAttribute("name",t)},get:function(){return this.getAttribute("name")}},{key:"backButton",get:function(){return this.querySelector("ons-back-button")}},{key:"onInfiniteScroll",set:function(t){var e=this;!t||t instanceof Function||G.throw('"onInfiniteScroll" must be function or null'),St(this,function(){t?e._onInfiniteScroll||(e._infiniteScrollLimit=.9,e._boundOnScroll=e._onScroll.bind(e),setImmediate(function(){return e._contentElement.addEventListener("scroll",e._boundOnScroll)})):e._contentElement.removeEventListener("scroll",e._boundOnScroll),e._onInfiniteScroll=t})},get:function(){return this._onInfiniteScroll}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=D.createHandler(this,t)}},{key:"scrollTop",get:function(){return this._contentElement.scrollTop},set:function(t){this._contentElement.scrollTop=t}}],[{key:"observedAttributes",get:function(){return["modifier","on-infinite-scroll","class"]}},{key:"events",get:function(){return["init","show","hide","destroy"]}}]),e}(Cr);t.Page=Ta,customElements.define("ons-page",Ta);var Oa=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .4, 1)":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}},{key:"_animate",value:function(t,e){var n=e.from,i=e.to,r=e.options,o=e.callback,a=e.restore,s=void 0!==a&&a,u=e.animation;return r=G.extend({},this.options,r),u&&(n=u.from,i=u.to),u=it(t),s&&(u=u.saveStyle()),u=u.queue(n).wait(this.delay).queue({css:i,duration:this.duration,timing:this.timing}),s&&(u=u.restoreStyle()),o&&(u=u.queue(function(t){o(),t()})),u}},{key:"_animateAll",value:function(t,e){var n=this;Object.keys(e).forEach(function(i){return n._animate(t[i],e[i]).play()})}}]),e}(Tr),xa={out:{from:{opacity:1},to:{opacity:0}},in:{from:{opacity:0},to:{opacity:1}}},Pa=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:xa.in,_popover:{animation:xa.in,restore:!0,callback:e}})}},{key:"hide",value:function(t,e){this._animateAll(t,{_mask:xa.out,_popover:{animation:xa.out,restore:!0,callback:e}})}}]),e}(Oa),Ia=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"show",value:function(t,e){this._animateAll(t,{_mask:xa.in,_popover:{from:{transform:"scale3d(1.3, 1.3, 1.0)",opacity:0},to:{transform:"scale3d(1.0, 1.0,  1.0)",opacity:1},restore:!0,callback:e}})}}]),e}(Pa),Na={".popover":"popover--*",".popover-mask":"popover-mask--*",".popover__content":"popover--*__content",".popover__arrow":"popover--*__arrow"},La={default:function(){return m.isAndroid()?Pa:Ia},none:Oa,"fade-ios":Ia,"fade-md":Pa},Da={up:"bottom",left:"right",down:"top",right:"left"},Ra=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._boundOnChange=t._onChange.bind(t),St(t,function(){t._compile(),t.style.display="none"}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return new b({animators:La,baseClass:Oa,baseClassName:"PopoverAnimator",defaultAnimation:this.getAttribute("animation")||"default"})}},{key:"_toggleStyle",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};t?(this.style.display="block",this._currentTarget=e.target,this._positionPopover(e.target)):(this.style.display="none",this._clearStyles())}},{key:"_positionPopover",value:function(t){var e=this._radius,n=this._content,i=this._margin,r=Or.getSafeAreaLengths(),o=Or.getSafeAreaDOMRect(),a=t.getBoundingClientRect(),s=G.hasModifier(this,"material"),u=s&&this.hasAttribute("cover-target"),c=G.findParent(this,"ons-page")||document.body,l=c.getBoundingClientRect(),h={top:Math.max(l.top,o.top),left:Math.max(l.left,o.left),bottom:Math.min(l.bottom,o.bottom),right:Math.min(l.right,o.right)},f={top:a.top-(h.top+i),left:a.left-(h.left+i),bottom:h.bottom-i-a.bottom,right:h.right-i-a.right},d={top:a.top+Math.round(a.height/2)-(h.top+i),left:a.left+Math.round(a.width/2)-(h.left+i),bottom:h.bottom-i-a.bottom+Math.round(a.height/2),right:h.right-i-a.right+Math.round(a.width/2)},p=this._calculateDirections(f),v=p.vertical,m=p.primary,g=p.secondary;this._currentDirection=m,G.addModifier(this,m);var _=v?"width":"height",y=function(t){return{width:parseInt(t.getPropertyValue("width"),10),height:parseInt(t.getPropertyValue("height"),10)}}(window.getComputedStyle(n)),b=u?0:(v?a.height:a.width)+(s?0:14),w=Math.max(r[m]+i,r[m]+i+f[m]+b),k=Math.max(r[g]+i,r[g]+i+d[g]-y[_]/2);this._popover.style[m]=w+"px",this._popover.style[g]=k+"px",this._arrow.style[g]=Math.max(e,r[g]+i+d[g]-k)+"px"}},{key:"_calculateDirections",value:function(t){var e=(this.getAttribute("direction")||"up down left right").split(/\s+/).map(function(t){return Da[t]}),n=e.sort(function(e,n){return t[e]-t[n]})[0],i="top"==n||"bottom"==n,r=void 0;return r=i?t.left<t.right?"left":"right":t.top<t.bottom?"top":"bottom",{vertical:i,primary:n,secondary:r}}},{key:"_clearStyles",value:function(){var t=this;this._currentDirection=null,["top","bottom","left","right"].forEach(function(e){t._arrow.style[e]=t._content.style[e]=t._popover.style[e]="",G.removeModifier(t,e)})}},{key:"_onChange",value:function(){var t=this;setImmediate(function(){t._currentTarget&&t._positionPopover(t._currentTarget)})}},{key:"_compile",value:function(){if(x.prepare(this),!this._popover||!this._mask){var t=this._popover&&this._content;if(t){if(!this._mask){var e=document.createElement("div");e.classList.add("popover-mask"),this.insertBefore(e,this.firstChild)}if(!this._arrow){var n=document.createElement("div");n.classList.add("popover__arrow"),this._popover.appendChild(n)}}else{var i=G.createFragment('\n        <div class="popover-mask"></div>\n        <div class="popover">\n          <div class="popover__content"></div>\n          <div class="popover__arrow"></div>\n        </div>\n      '),r=i.querySelector(".popover__content");while(this.childNodes[0])r.appendChild(this.childNodes[0]);this.appendChild(i)}this.hasAttribute("style")&&(this._popover.setAttribute("style",this.getAttribute("style")),this.removeAttribute("style")),P.initModifier(this,this._scheme)}}},{key:"show",value:function(t){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};return n=!t||"object"!==("undefined"===typeof t?"undefined":r(t))||t instanceof Event||t instanceof HTMLElement?u({},n,{target:t}):u({},t),"string"===typeof n.target?n.target=document.querySelector(n.target):n.target instanceof Event&&(n.target=n.target.target),n.target instanceof HTMLElement||G.throw("Invalid target type or undefined"),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"show",this).call(this,n)}},{key:"connectedCallback",value:function(){var t=this;c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"connectedCallback",this).call(this),window.addEventListener("resize",this._boundOnChange,!1),this._margin=this._margin||parseInt(window.getComputedStyle(this).getPropertyValue("top")),this._margin=this._margin||6,St(this,function(){t._radius=parseInt(window.getComputedStyle(t._content).getPropertyValue("border-top-left-radius"))})}},{key:"disconnectedCallback",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"disconnectedCallback",this).call(this),window.removeEventListener("resize",this._boundOnChange,!1)}},{key:"attributeChangedCallback",value:function(t,n,i){if("direction"===t)return this._boundOnChange();"modifier"===t&&this._currentDirection&&G.addModifier(this,this._currentDirection),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}},{key:"_scheme",get:function(){return Na}},{key:"_mask",get:function(){return G.findChild(this,".popover-mask")}},{key:"_popover",get:function(){return G.findChild(this,".popover")}},{key:"_content",get:function(){return G.findChild(this._popover,".popover__content")}},{key:"_arrow",get:function(){return G.findChild(this._popover,".popover__arrow")}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Oa||G.throwAnimator("Popover"),La[t]=e}},{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["direction"])}},{key:"animators",get:function(){return La}},{key:"PopoverAnimator",get:function(){return Oa}}]),e}(Nr);t.Popover=Ra,customElements.define("ons-popover",Ra);var Ma={".progress-bar":"progress-bar--*",".progress-bar__primary":"progress-bar--*__primary",".progress-bar__secondary":"progress-bar--*__secondary"},ja=G.createElement('\n  <div class="progress-bar">\n    <div class="progress-bar__secondary"></div>\n    <div class="progress-bar__primary"></div>\n  </div>\n'),Fa="indeterminate",Ba=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_compile",value:function(){this._isCompiled()?this._template=G.findChild(this,".progress-bar"):this._template=ja.cloneNode(!0),this._primary=G.findChild(this._template,".progress-bar__primary"),this._secondary=G.findChild(this._template,".progress-bar__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),x.prepare(this),P.initModifier(this,Ma)}},{key:"_isCompiled",value:function(){if(!G.findChild(this,".progress-bar"))return!1;var t=G.findChild(this,".progress-bar");return!!G.findChild(t,".progress-bar__secondary")&&!!G.findChild(t,".progress-bar__primary")}},{key:"attributeChangedCallback",value:function(t,e,n){"modifier"===t?(P.onModifierChanged(e,n,this,Ma),this.hasAttribute(Fa)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===Fa&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;St(this,function(){return G.toggleModifier(t,Fa,{force:t.hasAttribute(Fa)})})}},{key:"_updateValue",value:function(){var t=this;St(this,function(){t._primary.style.width=t.hasAttribute("value")?t.getAttribute("value")+"%":"0%",t._secondary.style.width=t.hasAttribute("secondary-value")?t.getAttribute("secondary-value")+"%":"0%"})}},{key:"value",set:function(t){("number"!==typeof t||t<0||t>100)&&G.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!==typeof t||t<0||t>100)&&G.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute(Fa,""):this.removeAttribute(Fa)},get:function(){return this.hasAttribute(Fa)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",Fa]}}]),e}(Cr);t.ProgressBar=Ba,customElements.define("ons-progress-bar",Ba);var qa={".progress-circular":"progress-circular--*",".progress-circular__background":"progress-circular--*__background",".progress-circular__primary":"progress-circular--*__primary",".progress-circular__secondary":"progress-circular--*__secondary"},Ua=G.createElement('\n  <svg class="progress-circular">\n    <circle class="progress-circular__background" />\n    <circle class="progress-circular__secondary" cx="50%" cy="50%" r="40%" />\n    <circle class="progress-circular__primary" cx="50%" cy="50%" r="40%" />\n  </svg>\n'),$a="indeterminate",Va=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){"modifier"===t?(P.onModifierChanged(e,n,this,qa),this.hasAttribute($a)&&this._updateDeterminate()):"value"===t||"secondary-value"===t?this._updateValue():t===$a&&this._updateDeterminate()}},{key:"_updateDeterminate",value:function(){var t=this;St(this,function(){return G.toggleModifier(t,$a,{force:t.hasAttribute($a)})})}},{key:"_updateValue",value:function(){var t=this;this.hasAttribute("value")&&St(this,function(){var e=Math.ceil(251.32*t.getAttribute("value")*.01);t._primary.style["stroke-dasharray"]=e+"%, 251.32%"}),this.hasAttribute("secondary-value")?St(this,function(){var e=Math.ceil(251.32*t.getAttribute("secondary-value")*.01);t._secondary.style.display=null,t._secondary.style["stroke-dasharray"]=e+"%, 251.32%"}):St(this,function(){t._secondary.style.display="none"})}},{key:"_compile",value:function(){this._isCompiled()?this._template=G.findChild(this,".progress-circular"):this._template=Ua.cloneNode(!0),this._primary=G.findChild(this._template,".progress-circular__primary"),this._secondary=G.findChild(this._template,".progress-circular__secondary"),this._updateDeterminate(),this._updateValue(),this.appendChild(this._template),x.prepare(this),P.initModifier(this,qa)}},{key:"_isCompiled",value:function(){if(!G.findChild(this,".progress-circular"))return!1;var t=G.findChild(this,".progress-circular");return!!G.findChild(t,".progress-circular__secondary")&&!!G.findChild(t,".progress-circular__primary")}},{key:"value",set:function(t){("number"!==typeof t||t<0||t>100)&&G.throw("Invalid value"),this.setAttribute("value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("value")||"0")}},{key:"secondaryValue",set:function(t){("number"!==typeof t||t<0||t>100)&&G.throw("Invalid value"),this.setAttribute("secondary-value",Math.floor(t))},get:function(){return parseInt(this.getAttribute("secondary-value")||"0")}},{key:"indeterminate",set:function(t){t?this.setAttribute($a,""):this.removeAttribute($a)},get:function(){return this.hasAttribute($a)}}],[{key:"observedAttributes",get:function(){return["modifier","value","secondary-value",$a]}}]),e}(Cr);t.ProgressCircular=Va,customElements.define("ons-progress-circular",Va);var Ha="initial",Wa="preaction",za="action",Ga=function(t,e){return G.throw('"'+t+'" must be '+e)},Ka=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._shouldFixScroll=G.globals.isUIWebView,t._onDrag=t._onDrag.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onDragEnd=t._onDragEnd.bind(t),t._onScroll=t._onScroll.bind(t),t._setState(Ha,!0),t._hide(),t}return l(e,t),a(e,[{key:"_setStyle",value:function(){var t=this.height+"px";i(this,{height:t,lineHeight:t}),""===this.style.display&&this._show()}},{key:"_onScroll",value:function(t){var e=this._pageElement;e.scrollTop<0&&(e.scrollTop=0)}},{key:"_canConsumeGesture",value:function(t){return"up"===t.direction||"down"===t.direction}},{key:"_onDragStart",value:function(t){var e=this;if(t.gesture&&!this.disabled){var n=t.gesture.center.clientY+this._pageElement.scrollTop,i=window.innerHeight,r=this._shouldFixScroll?.8:1;if(this._ignoreDrag=t.consumed||n>i*r,!this._ignoreDrag){var o=t.consume;t.consume=function(){o&&o(),e._ignoreDrag=!0,e._hide()},this._canConsumeGesture(t.gesture)&&(o&&o(),t.consumed=!0,this._show())}this._startScroll=this._pageElement.scrollTop}}},{key:"_onDrag",value:function(t){var e=this;if(t.gesture&&!this.disabled&&!this._ignoreDrag&&this._canConsumeGesture(t.gesture)){"none"===this.style.display&&this._show(),t.stopPropagation();var n=t.gesture.center.clientY+this._pageElement.scrollTop,i=window.innerHeight;this._shouldFixScroll&&(this._pageElement.scrollTop=this._startScroll-t.gesture.deltaY,("up"!==t.gesture.interimDirection||n<=.5*i)&&t.gesture.preventDefault());var r=Math.max(t.gesture.deltaY-this._startScroll,0);if(r!==this._currentTranslation){var o=this.thresholdHeight;o>0&&r>=o?(t.gesture.stopDetect(),setImmediate(function(){return e._finish()})):r>=this.height?this._setState(Wa):this._setState(Ha),this._translateTo(r)}}}},{key:"_onDragEnd",value:function(t){if(t.gesture&&!this.disabled&&!this._ignoreDrag&&(t.stopPropagation(),this._currentTranslation>0)){var e=this._currentTranslation;e>this.height?this._finish():this._translateTo(0,{animate:!0})}}},{key:"_finish",value:function(){var t=this;this._setState(za),this._translateTo(this.height,{animate:!0});var e=this.onAction||function(t){return t()};e(function(){t._translateTo(0,{animate:!0}),t._setState(Ha)})}},{key:"_setState",value:function(t,e){var n=this.state;this.setAttribute("state",t),e||n===this.state||G.triggerElementEvent(this,"changestate",{pullHook:this,state:t,lastState:n})}},{key:"_show",value:function(){var t=this;setImmediate(function(){t.style.display="",t._pageElement&&(t._pageElement.style.marginTop="-"+t.height+"px")})}},{key:"_hide",value:function(){this.style.display="none",this._pageElement&&(this._pageElement.style.marginTop="")}},{key:"_translateTo",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(0!=this._currentTranslation||0!=t){this._currentTranslation=t;var n=e.animate?{duration:.3,timing:"cubic-bezier(.1, .7, .1, 1)"}:{};this._onPull&&this._onPull((t/this.height).toFixed(2),n);var r=this.hasAttribute("fixed-content")?this:this._pageElement;it(r).queue({transform:"translate3d(0px, "+t+"px, 0px)"},n).play(function(){0===t&&i.clear(r,"transition transform"),e.callback instanceof Function&&e.callback()})}}},{key:"_disableDragLock",value:function(){this._dragLockDisabled=!0,this._setupListeners(!0)}},{key:"_setupListeners",value:function(t){var e=this,n=function(t){return e._pageElement[t+"EventListener"]("scroll",e._onScroll,!1)},i=function(t){var n={passive:!0};e._gestureDetector[t]("drag",e._onDrag,n),e._gestureDetector[t]("dragstart",e._onDragStart,n),e._gestureDetector[t]("dragend",e._onDragEnd,n)};this._gestureDetector&&(i("off"),this._gestureDetector.dispose(),this._gestureDetector=null),n("remove"),t&&(this._gestureDetector=new rt(this._pageElement,{dragMinDistance:1,dragDistanceCorrection:!1,dragLockToAxis:!this._dragLockDisabled,passive:!this._shouldFixScroll}),i("on"),n("add"))}},{key:"connectedCallback",value:function(){this._currentTranslation=0,this._pageElement=this.parentNode,this._setupListeners(!0),this._setStyle()}},{key:"disconnectedCallback",value:function(){this._hide(),this._setupListeners(!1)}},{key:"attributeChangedCallback",value:function(t,e,n){"height"===t&&this._pageElement&&this._setStyle()}},{key:"onAction",get:function(){return this._onAction},set:function(t){!t||t instanceof Function||Ga("onAction","function or null"),this._onAction=t}},{key:"onPull",get:function(){return this._onPull},set:function(t){!t||t instanceof Function||Ga("onPull","function or null"),this._onPull=t}},{key:"height",set:function(t){G.isInteger(t)||Ga("height","integer"),this.setAttribute("height",t+"px")},get:function(){return parseInt(this.getAttribute("height")||"64",10)}},{key:"thresholdHeight",set:function(t){G.isInteger(t)||Ga("thresholdHeight","integer"),this.setAttribute("threshold-height",t+"px")},get:function(){return parseInt(this.getAttribute("threshold-height")||"96",10)}},{key:"state",get:function(){return this.getAttribute("state")}},{key:"pullDistance",get:function(){return this._currentTranslation}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["height"]}},{key:"events",get:function(){return["changestate"]}}]),e}(Cr);t.PullHook=Ka,customElements.define("ons-pull-hook",Ka);var Qa={"":"range--*",".range__input":"range--*__input",".range__focus-ring":"range--*__focus-ring"},Xa="range__input--active",Ya=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._onMouseDown=t._onMouseDown.bind(t),t._onMouseUp=t._onMouseUp.bind(t),t._onTouchStart=t._onTouchStart.bind(t),t._onTouchEnd=t._onTouchEnd.bind(t),t._onInput=t._update.bind(t),t._onDragstart=t._onDragstart.bind(t),t._onDragend=t._onDragend.bind(t),t}return l(e,t),a(e,[{key:"_compile",value:function(){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"_compile",this).call(this),this._updateDisabled(this.hasAttribute("disabled"))}},{key:"_update",value:function(){var t=this._input,e=this._focusRing;t.style.backgroundSize=100*this._ratio+"% 2px",e.value=this.value,""===t.min&&"0"===t.value||t.min===t.value?t.setAttribute("_zero",""):t.removeAttribute("_zero"),["min","max"].forEach(function(n){return e[n]=t[n]})}},{key:"_onMouseDown",value:function(t){var e=this;this._input.classList.add(Xa),setImmediate(function(){return e._input.focus()})}},{key:"_onTouchStart",value:function(t){this._onMouseDown()}},{key:"_onMouseUp",value:function(t){this._input.classList.remove(Xa)}},{key:"_onTouchEnd",value:function(t){this._onMouseUp(t)}},{key:"_onDragstart",value:function(t){t.consumed=!0,t.gesture.stopPropagation(),this._input.classList.add(Xa),this.addEventListener("drag",this._onDrag)}},{key:"_onDrag",value:function(t){t.stopPropagation()}},{key:"_onDragend",value:function(t){this._input.classList.remove(Xa),this.removeEventListener("drag",this._onDrag)}},{key:"attributeChangedCallback",value:function(t,n,i){"disabled"===t&&this._updateDisabled(i),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}},{key:"_updateDisabled",value:function(t){t?this.classList.add("range--disabled"):this.classList.remove("range--disabled")}},{key:"connectedCallback",value:function(){this._setupListeners(!0)}},{key:"disconnectedCallback",value:function(){this._setupListeners(!1)}},{key:"_setupListeners",value:function(t){var e=(t?"add":"remove")+"EventListener";G[e](this,"touchstart",this._onTouchStart,{passive:!0}),this[e]("mousedown",this._onMouseDown),this[e]("mouseup",this._onMouseUp),this[e]("touchend",this._onTouchEnd),this[e]("dragstart",this._onDragstart),this[e]("dragend",this._onDragend),this[e]("input",this._onInput)}},{key:"_scheme",get:function(){return Qa}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <input type="range" class="range__focus-ring" tabIndex="-1">\n    '}},{key:"_defaultClassName",get:function(){return"range"}},{key:"type",get:function(){return"range"}},{key:"_focusRing",get:function(){return this.children[1]}},{key:"_ratio",get:function(){var t=""===this._input.min?0:parseInt(this._input.min),e=""===this._input.max?100:parseInt(this._input.max);return(this.value-t)/(e-t)}}],[{key:"observedAttributes",get:function(){return["disabled"].concat(d($o.observedAttributes))}}]),e}($o);t.Range=Ya,customElements.define("ons-range",Ya);var Ja=function(){function t(){o(this,t),this._queue=[],this._index=0}return a(t,[{key:"animate",value:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:200,i=(new Date).getTime(),r={},o=!1,a=!1,s=!1,u=Object.keys(e),c=function(){var e=window.getComputedStyle(t);u.forEach(e.getPropertyValue.bind(e)),e=t.offsetHeight},l={stop:function(){var c=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};s&&clearTimeout(s);var h=Math.min(1,((new Date).getTime()-i)/n);return u.forEach(function(n){t.style[n]=(1-h)*r[n]+h*e[n]+("opacity"==n?"":"px")}),t.style.transitionDuration="0s",c.stopNext?a=!1:o||(o=!0,a&&a()),l},then:function(t){return a=t,o&&a&&a(),l},speed:function(a){if(y.config.animationsDisabled&&(a=0),!o){s&&clearTimeout(s);var h=(new Date).getTime()-i,f=h/n,d=a*(1-f);u.forEach(function(n){t.style[n]=(1-f)*r[n]+f*e[n]+("opacity"==n?"":"px")}),c(),i=t.speedUpTime,n=d,t.style.transitionDuration=n/1e3+"s",u.forEach(function(n){t.style[n]=e[n]+("opacity"==n?"":"px")}),s=setTimeout(l.stop,d)}return l},finish:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:50,e=((new Date).getTime()-i)/n;return l.speed(t/(1-e)),l}};if(t.hasAttribute("disabled")||o||y.config.animationsDisabled)return l;var h=window.getComputedStyle(t);return u.forEach(function(t){var e=parseFloat(h.getPropertyValue(t));r[t]=isNaN(e)?0:e}),o||(t.style.transitionProperty=u.join(","),t.style.transitionDuration=n/1e3+"s",u.forEach(function(n){t.style[n]=e[n]+("opacity"==n?"":"px")})),s=setTimeout(l.stop,n),this._onStopAnimations(t,l.stop),l}}]),a(t,[{key:"_onStopAnimations",value:function(t,e){var n=this._queue,i=this._index++;n[t]=n[t]||[],n[t][i]=function(r){return delete n[t][i],n[t]&&0==n[t].length&&delete n[t],e(r)}}},{key:"stopAnimations",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(Array.isArray(t))return t.forEach(function(t){e.stopAnimations(t,n)});(this._queue[t]||[]).forEach(function(t){t(n||{})})}},{key:"stopAll",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.stopAnimations(Object.keys(this._queue),t)}},{key:"fade",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:200;return this.animate(t,{opacity:0},e)}}]),t}(),Za="ripple",ts={"":"ripple--*",".ripple__wave":"ripple--*__wave",".ripple__background":"ripple--*__background"},es=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._onTap=t._onTap.bind(t),t._onHold=t._onHold.bind(t),t._onDragStart=t._onDragStart.bind(t),t._onRelease=t._onRelease.bind(t),St(t,function(){return t._compile()}),t._animator=new Ja,["color","center","start-radius","background","modifier"].forEach(function(e){t.attributeChangedCallback(e,null,t.getAttribute(e))}),t}return l(e,t),a(e,[{key:"_compile",value:function(){this.classList.add(Za),this._wave=this.getElementsByClassName("ripple__wave")[0],this._background=this.getElementsByClassName("ripple__background")[0],this._background&&this._wave||(this._wave=G.create(".ripple__wave"),this._background=G.create(".ripple__background"),this.appendChild(this._wave),this.appendChild(this._background)),P.initModifier(this,ts)}},{key:"_getEffectSize",value:function(){var t=["cover","contain"];if(this.hasAttribute("size")){var e=this.getAttribute("size");if(-1!==t.indexOf(e))return e}return"cover"}},{key:"_calculateCoords",value:function(t){var e=void 0,n=void 0,i=void 0,r=void 0,o=void 0,a=this.getBoundingClientRect(),s=this._getEffectSize(),u=function(){return G.throw("Ripple invalid state")};return this._center?(e=a.width/2,n=a.height/2,"cover"===s?o=Math.sqrt(e*e+n*n):"contain"===s?o=Math.min(e,n):u()):(e=("number"===typeof t.clientX?t.clientX:t.changedTouches[0].clientX)-a.left,n=("number"===typeof t.clientY?t.clientY:t.changedTouches[0].clientY)-a.top,i=Math.max(n,a.height-n),r=Math.max(e,a.width-e),"cover"===s?o=Math.sqrt(i*i+r*r):"contain"===s?o=Math.min(Math.round(i/2),Math.round(r/2)):u()),{x:e,y:n,r:o}}},{key:"_rippleAnimation",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:300,n=this._animator,i=this._wave,r=this._background,o=this._minR,a=this._calculateCoords(t),s=a.x,u=a.y,c=a.r;return n.stopAll({stopNext:1}),n.animate(r,{opacity:1},e),G.extend(i.style,{opacity:1,top:u-o+"px",left:s-o+"px",width:2*o+"px",height:2*o+"px"}),n.animate(i,{top:u-c,left:s-c,height:2*c,width:2*c},e)}},{key:"_updateParent",value:function(){if(!this._parentUpdated&&this.parentNode){var t=window.getComputedStyle(this.parentNode);"static"===t.getPropertyValue("position")&&(this.parentNode.style.position="relative"),this._parentUpdated=!0}}},{key:"_onTap",value:function(t){var e=this;this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._rippleAnimation(t.gesture.srcEvent).then(function(){e._animator.fade(e._wave),e._animator.fade(e._background)}))}},{key:"_onHold",value:function(t){this.disabled||t.ripple||(t.ripple=!0,this._updateParent(),this._holding=this._rippleAnimation(t.gesture.srcEvent,2e3),document.addEventListener("release",this._onRelease))}},{key:"_onRelease",value:function(t){var e=this;this._holding&&!t.ripple&&(t.ripple=!0,this._holding.speed(300).then(function(){e._animator.stopAll({stopNext:!0}),e._animator.fade(e._wave),e._animator.fade(e._background)}),this._holding=!1),document.removeEventListener("release",this._onRelease)}},{key:"_onDragStart",value:function(t){if(this._holding)return this._onRelease(t);-1!=["left","right"].indexOf(t.gesture.direction)&&this._onTap(t)}},{key:"connectedCallback",value:function(){this._parentNode=this.parentNode,y.config.animationsDisabled?this.disabled=!0:(this._parentNode.addEventListener("tap",this._onTap),this._parentNode.addEventListener("hold",this._onHold),this._parentNode.addEventListener("dragstart",this._onDragStart))}},{key:"disconnectedCallback",value:function(){var t=this._parentNode||this.parentNode;t.removeEventListener("tap",this._onTap),t.removeEventListener("hold",this._onHold),t.removeEventListener("dragstart",this._onDragStart)}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"class":G.restoreClass(this,Za,ts);break;case"modifier":P.onModifierChanged(e,n,this,ts);break;case"start-radius":this._minR=Math.max(0,parseFloat(n)||0);break;case"color":n&&St(this,function(){i._wave.style.background=n,i.hasAttribute("background")||(i._background.style.background=n)});break;case"background":(n||e)&&St(this,"none"===n?function(){i._background.setAttribute("disabled","disabled"),i._background.style.background="transparent"}:function(){i._background.hasAttribute("disabled")&&i._background.removeAttribute("disabled"),i._background.style.background=n});break;case"center":"center"===t&&(this._center=null!=n&&"false"!=n);break}}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["start-radius","color","background","center","class","modifier"]}}]),e}(Cr);t.Ripple=es,customElements.define("ons-ripple",es);var ns=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),e}(Cr);t.Row=ns,customElements.define("ons-row",ns);var is="segment",rs={"":"segment--*",".segment__item":"segment--*__item",".segment__input":"segment--*__input",".segment__button":"segment--*__button"},os=function(){var t=0;return function(){return"ons-segment-gen-"+t++}}(),as=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._segmentId=os(),t._tabbar=null,t._onChange=t._onChange.bind(t),t._onTabbarPreChange=t._onTabbarPreChange.bind(t),St(t,function(){t._compile(),setImmediate(function(){return t._lastActiveIndex=t._tabbar?t._tabbar.getActiveTabIndex():t.getActiveButtonIndex()})}),t}return l(e,t),a(e,[{key:"_compile",value:function(){x.prepare(this),this.classList.add(is);for(var t=this.children.length-1;t>=0;t--){var e=this.children[t];e.classList.add("segment__item");var n=G.findChild(e,".segment__input")||G.create("input.segment__input");n.type="radio",n.value=t,n.name=n.name||this._segmentId,n.checked=!this.hasAttribute("tabbar-id")&&t===(parseInt(this.getAttribute("active-index"))||0);var i=G.findChild(e,".segment__button")||G.create(".segment__button");if(i.parentElement!==e)while(e.firstChild)i.appendChild(e.firstChild);e.appendChild(n),e.appendChild(i)}P.initModifier(this,rs)}},{key:"connectedCallback",value:function(){var t=this;St(this,function(){if(t.hasAttribute("tabbar-id")){var e=G.findParent(t,"ons-page");t._tabbar=e&&e.querySelector("#"+t.getAttribute("tabbar-id")),t._tabbar&&"ONS-TABBAR"===t._tabbar.tagName||G.throw("No tabbar with id "+t.getAttribute("tabbar-id")+" was found."),t._tabbar.setAttribute("hide-tabs",""),setImmediate(function(){return t._setChecked(t._tabbar.getActiveTabIndex())}),t._tabbar.addEventListener("prechange",t._onTabbarPreChange)}}),this.addEventListener("change",this._onChange)}},{key:"disconnectedCallback",value:function(){var t=this;St(this,function(){t._tabbar&&(t._tabbar.removeEventListener("prechange",t._onTabbarPreChange),t._tabbar=null)}),this.removeEventListener("change",this._onChange)}},{key:"_setChecked",value:function(t){this.children[t].firstElementChild.checked=!0}},{key:"setActiveButton",value:function(t,e){return this._tabbar?this._tabbar.setActiveTab(t,e):(this._setChecked(t),this._postChange(t),Promise.resolve(t))}},{key:"getActiveButtonIndex",value:function(){for(var t=this.children.length-1;t>=0;t--)if(this.children[t].firstElementChild.checked)return t;return-1}},{key:"_onChange",value:function(t){t.stopPropagation(),this._tabbar?this._tabbar.setActiveTab(this.getActiveButtonIndex(),{reject:!1}):this._postChange(this.getActiveButtonIndex())}},{key:"_onTabbarPreChange",value:function(t){var e=this;setImmediate(function(){t.detail.canceled||(e._setChecked(t.index),e._postChange(t.index))})}},{key:"_postChange",value:function(t){G.triggerElementEvent(this,"postchange",{index:t,activeIndex:t,lastActiveIndex:this._lastActiveIndex,segmentItem:this.children[t]}),this._lastActiveIndex=t}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,is,rs);break;case"modifier":P.onModifierChanged(e,n,this,rs);break}}},{key:"disabled",set:function(t){return G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}}],[{key:"observedAttributes",get:function(){return["class","modifier"]}},{key:"events",get:function(){return["postchange"]}}]),e}(Cr);t.Segment=as,customElements.define("ons-segment",as);var ss={"":"select-* select--*",".select-input":"select-input--*"},us="select",cs=["autofocus","disabled","form","multiple","name","required","size"],ls=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){return t._compile()}),t._deriveGetters(),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"class":G.restoreClass(this,us,ss);break;case"modifier":P.onModifierChanged(e,n,this,ss);break}cs.indexOf(t)>=0&&St(this,function(){return i._updateBoundAttributes()})}},{key:"_updateBoundAttributes",value:function(){var t=this;cs.forEach(function(e){t.hasAttribute(e)?t._select.setAttribute(e,t.getAttribute(e)):t._select.removeAttribute(e)})}},{key:"_compile",value:function(){x.prepare(this),this.classList.add(us);var t=this._select||document.createElement("select");!t.id&&this.hasAttribute("select-id")&&(t.id=this.getAttribute("select-id")),t.classList.add("select-input"),this._select||(G.arrayFrom(this.childNodes).forEach(function(e){return t.appendChild(e)}),this.appendChild(t)),P.initModifier(this,ss)}},{key:"_deriveGetters",value:function(){var t=this;["disabled","length","multiple","name","options","selectedIndex","size","value","form","type"].forEach(function(e){Object.defineProperty(t,e,{configurable:!0,enumerable:!0,get:function(){return t._select[e]},set:-1===["form","type"].indexOf(e)?function(n){return St(t,function(){return t._select[e]=n})}:void 0})})}},{key:"add",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;this._select.add(t,e)}},{key:"remove",value:function(t){this._select.remove(t)}},{key:"_select",get:function(){return this.querySelector("select")}}],[{key:"observedAttributes",get:function(){return["modifier","class"].concat(cs)}}]),e}(Cr);t.Select=ls,customElements.define("ons-select",ls);var hs="fab fab--mini speed-dial__item",fs={"":"fab--* speed-dial__item--*"},ds=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._compile(),t._boundOnClick=t._onClick.bind(t),t}return l(e,t),a(e,[{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"class":G.restoreClass(this,hs,fs);break;case"modifier":P.onModifierChanged(e,n,this,fs),G.addModifier(this,"mini");break;case"ripple":this._updateRipple()}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_updateRipple",value:function(){G.updateRipple(this)}},{key:"_onClick",value:function(t){t.stopPropagation()}},{key:"_compile",value:function(){var t=this;x.prepare(this),hs.split(/\s+/).forEach(function(e){return t.classList.add(e)}),G.addModifier(this,"mini"),this._updateRipple(),P.initModifier(this,fs)}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","class"]}}]),e}(Cr);t.SpeedDialItem=ds,customElements.define("ons-speed-dial-item",ds);var ps="speed-dial",vs={"":"speed-dial--*"},ms=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){t._compile()}),t._itemShown=!1,t._boundOnClick=t._onClick.bind(t),t}return l(e,t),a(e,[{key:"_compile",value:function(){this.classList.add(ps),x.prepare(this),this._updateRipple(),P.initModifier(this,vs),this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up"),this._updatePosition()}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"class":G.restoreClass(this,ps,vs);break;case"modifier":P.onModifierChanged(e,n,this,vs);break;case"ripple":St(this,function(){return i._updateRipple()});break;case"direction":St(this,function(){return i._updateDirection(n)});break;case"position":St(this,function(){return i._updatePosition()});break}}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick,!1)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick,!1)}},{key:"_onClick",value:function(t){return this.onClick?(this.onClick.apply(this),Promise.resolve()):!this.disabled&&this.visible?this.toggleItems():void 0}},{key:"_show",value:function(){return this.inline?Promise.resolve():this.show()}},{key:"_hide",value:function(){var t=this;return new Promise(function(e){t.inline?e():setImmediate(function(){return t.hide().then(e)})})}},{key:"_updateRipple",value:function(){this._fab&&(this.hasAttribute("ripple")?this._fab.setAttribute("ripple",""):this._fab.removeAttribute("ripple"))}},{key:"_updateDirection",value:function(t){for(var e=this.items,n=0;n<e.length;n++)i(e[n],{transitionDelay:25*n+"ms",bottom:"auto",right:"auto",top:"auto",left:"auto"});switch(t){case"up":for(var r=0;r<e.length;r++)e[r].style.bottom=72+56*r+"px",e[r].style.right="8px";break;case"down":for(var o=0;o<e.length;o++)e[o].style.top=72+56*o+"px",e[o].style.left="8px";break;case"left":for(var a=0;a<e.length;a++)e[a].style.top="8px",e[a].style.right=72+56*a+"px";break;case"right":for(var s=0;s<e.length;s++)e[s].style.top="8px",e[s].style.left=72+56*s+"px";break;default:G.throw("Argument must be one of up, down, left or right.")}}},{key:"_updatePosition",value:function(){var t=this.getAttribute("position");switch(this.classList.remove("fab--top__left","fab--bottom__right","fab--bottom__left","fab--top__right","fab--top__center","fab--bottom__center"),t){case"top right":case"right top":this.classList.add("fab--top__right");break;case"top left":case"left top":this.classList.add("fab--top__left");break;case"bottom right":case"right bottom":this.classList.add("fab--bottom__right");break;case"bottom left":case"left bottom":this.classList.add("fab--bottom__left");break;case"center top":case"top center":this.classList.add("fab--top__center");break;case"center bottom":case"bottom center":this.classList.add("fab--bottom__center");break;default:break}}},{key:"_getTranslate",value:function(){var t=(this.getAttribute("position")||"").indexOf("bottom")>=0,e=t?"translate3d(0px, -"+(G.globals.fabOffset||0)+"px, 0px) ":"";return e}},{key:"show",value:function(){return this._fab.show(),i(this,{transform:this._getTranslate}),Promise.resolve()}},{key:"hide",value:function(){var t=this;return this.hideItems().then(function(){return t._fab.hide()})}},{key:"showItems",value:function(){this.hasAttribute("direction")?this._updateDirection(this.getAttribute("direction")):this._updateDirection("up");var t=0;if(!this._itemShown){for(var e=this.items,n=0;n<e.length;n++){var r=25*n;t+=r,i(e[n],{transform:"scale(1)",transitionDelay:r+"ms"})}t+=50,this._itemShown=!0,G.triggerElementEvent(this,"open")}var o=G.defer();return setTimeout(o.resolve,t),o.promise}},{key:"hideItems",value:function(){var t=0;if(this._itemShown){for(var e=this.items,n=0;n<e.length;n++){var r=25*(e.length-n);t+=r,i(e[n],{transform:"scale(0)",transitionDelay:r+"ms"})}t+=50,this._itemShown=!1,G.triggerElementEvent(this,"close")}var o=G.defer();return setTimeout(o.resolve,t),o.promise}},{key:"isOpen",value:function(){return this._itemShown}},{key:"toggle",value:function(){return this.visible?this.hide():this.show()}},{key:"toggleItems",value:function(){return this.isOpen()?this.hideItems():this.showItems()}},{key:"items",get:function(){return G.arrayFrom(this.querySelectorAll("ons-speed-dial-item"))}},{key:"_fab",get:function(){return G.findChild(this,"ons-fab")}},{key:"disabled",set:function(t){return t&&this.hideItems(),G.arrayFrom(this.children).forEach(function(e){G.match(e,".fab")&&G.toggleAttribute(e,"disabled",t)}),G.toggleAttribute(this,"disabled",t)},get:function(){return this.hasAttribute("disabled")}},{key:"inline",get:function(){return this.hasAttribute("inline")}},{key:"visible",get:function(){return this._fab.visible&&"none"!==this.style.display}}],[{key:"observedAttributes",get:function(){return["class","modifier","ripple","direction","position"]}},{key:"events",get:function(){return["open","close"]}}]),e}(Cr);t.SpeedDial=ms,customElements.define("ons-speed-dial",ms);var gs={ready:function(t,e){setImmediate(e)}},_s=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._page=null,t._pageLoader=Gt,St(t,function(){gs.ready(t,function(){var e=t._getPageTarget();e&&t.load(e)})}),t}return l(e,t),a(e,[{key:"connectedCallback",value:function(){G.match(this.parentNode,"ons-splitter")||G.throw('"ons-splitter-content" must have "ons-splitter" as parent')}},{key:"_getPageTarget",value:function(){return this._page||this.getAttribute("page")}},{key:"disconnectedCallback",value:function(){}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var i=n.callback||function(){};return new Promise(function(n){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),i(t),n(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof zt||G.throwPageLoader(),this._pageLoader=t}}],[{key:"observedAttributes",get:function(){return[]}},{key:"rewritables",get:function(){return gs}}]),e}(Cr);t.SplitterContent=_s,customElements.define("ons-splitter-content",_s);var ys=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._boundOnClick=t._onClick.bind(t),St(t,function(){t.parentNode._sides.every(function(t){return"split"===t.mode})&&t.setAttribute("style","display: none !important")}),t}return l(e,t),a(e,[{key:"_onClick",value:function(t){this.onClick instanceof Function?this.onClick():G.match(this.parentNode,"ons-splitter")&&this.parentNode._sides.forEach(function(t){return t.close("left").catch(function(){})}),t.stopPropagation()}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"connectedCallback",value:function(){this.addEventListener("click",this._boundOnClick),G.iosMaskScrollFix(this,!0)}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._boundOnClick),G.iosMaskScrollFix(this,!1)}}],[{key:"observedAttributes",get:function(){return[]}}]),e}(Cr);t.SplitterMask=ys,customElements.define("ons-splitter-mask",ys);var bs=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"cubic-bezier(.1, .7, .1, 1)":n,r=t.duration,a=void 0===r?.3:r,s=t.delay,u=void 0===s?0:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,duration:a,delay:u}))}return l(e,t),a(e,[{key:"updateOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};G.extend(this,{timing:this.timing,duration:this.duration,delay:this.delay},t)}},{key:"activate",value:function(t){var e=this,n=t.parentNode;St(n,function(){e._side=t,e._oppositeSide=n.right!==t&&n.right||n.left!==t&&n.left,e._content=n.content,e._mask=n.mask})}},{key:"deactivate",value:function(){this.clearTransition(),this._mask&&this.clearMask(),this._content=this._side=this._oppositeSide=this._mask=null}},{key:"clearTransition",value:function(){var t=this;"side mask content".split(/\s+/).forEach(function(e){return t["_"+e]&&i.clear(t["_"+e],"transform transition")})}},{key:"clearMask",value:function(){this._oppositeSide&&"split"!==this._oppositeSide.mode&&this._oppositeSide.isOpen||(this._mask.style.opacity="",this._mask.style.display="none")}},{key:"translate",value:function(t){}},{key:"open",value:function(t){t()}},{key:"close",value:function(t){t()}},{key:"minus",get:function(){return"right"===this._side.side?"-":""}}]),e}(Tr),ws=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"translate",value:function(t){this._mask.style.display="block",it(this._side).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(t){it.runAll(it(this._side).wait(this.delay).queue({transform:"translate3d("+this.minus+"100%, 0, 0)"},this.def).queue(function(e){e(),t&&t()}),it(this._mask).wait(this.delay).queue({display:"block"}).queue({opacity:"1"},{duration:this.duration,timing:"linear"}))}},{key:"close",value:function(t){it.runAll(it(this._side).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(e){t&&t(),e()}),it(this._mask).wait(this.delay).queue({opacity:"0"},{duration:this.duration,timing:"linear"}).queue({display:"none"}))}}]),e}(bs),ks=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_getSlidingElements",value:function(){var t=[this._side,this._content];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"translate",value:function(t){this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",it(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}).play()}},{key:"open",value:function(t){var e=this,n=this._side.offsetWidth;this._slidingElements=this._getSlidingElements(),it.runAll(it(this._slidingElements).wait(this.delay).queue({transform:"translate3d("+(this.minus+n)+"px, 0, 0)"},this.def).queue(function(n){e._slidingElements=null,n(),t&&t()}),it(this._mask).wait(this.delay).queue({display:"block"}))}},{key:"close",value:function(t){var n=this;this._slidingElements=this._getSlidingElements(),it.runAll(it(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def).queue(function(i){n._slidingElements=null,c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"clearTransition",n).call(n),t&&t(),i()}),it(this._mask).wait(this.delay).queue({display:"none"}))}}]),e}(bs),Es=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_getSlidingElements",value:function(){var t=[this._content,this._mask];return this._oppositeSide&&"split"===this._oppositeSide.mode&&t.push(this._oppositeSide),t}},{key:"activate",value:function(t){c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"activate",this).call(this,t),"collapse"===t.mode&&this._setStyles(t)}},{key:"deactivate",value:function(){this._side&&this._unsetStyles(this._side),c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"deactivate",this).call(this)}},{key:"_setStyles",value:function(t){i(t,{left:"right"===t.side?"auto":0,right:"right"===t.side?0:"auto",zIndex:0,backgroundColor:"black",transform:this._generateBehindPageStyle(0).container.transform,display:"none"});var e=t.parentElement;St(e,function(){return e.content&&i(e.content,{boxShadow:"0 0 12px 0 rgba(0, 0, 0, 0.2)"})})}},{key:"_unsetStyles",value:function(t){i.clear(t,"left right zIndex backgroundColor display"),t._content&&(t._content.style.opacity=""),this._oppositeSide&&"split"!==this._oppositeSide.mode||t.parentElement.content&&i.clear(t.parentElement.content,"boxShadow")}},{key:"_generateBehindPageStyle",value:function(t){var e=this.maxWidth,n=(t-e)/e*10;n=isNaN(n)?0:Math.max(Math.min(n,0),-10);var i="translate3d("+(this.minus?-1:1)*n+"%, 0, 0)",r=1+n/100;return{content:{opacity:r},container:{transform:i}}}},{key:"translate",value:function(t){this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var e=this._generateBehindPageStyle(Math.min(t,this.maxWidth));this._slidingElements||(this._slidingElements=this._getSlidingElements()),this._mask.style.display="block",it.runAll(it(this._slidingElements).queue({transform:"translate3d("+(this.minus+t)+"px, 0, 0)"}),it(this._side._content).queue(e.content),it(this._side).queue(e.container))}},{key:"open",value:function(t){var e=this;this._side.style.display="",this._side.style.zIndex=1,this.maxWidth=this.maxWidth||this._getMaxWidth();var n=this._generateBehindPageStyle(this.maxWidth);this._slidingElements=this._getSlidingElements(),setTimeout(function(){it.runAll(it(e._slidingElements).wait(e.delay).queue({transform:"translate3d("+(e.minus+e.maxWidth)+"px, 0, 0)"},e.def),it(e._mask).wait(e.delay).queue({display:"block"}),it(e._side._content).wait(e.delay).queue(n.content,e.def),it(e._side).wait(e.delay).queue(n.container,e.def).queue(function(n){e._slidingElements=null,n(),t&&t()}))},1e3/60)}},{key:"close",value:function(t){var e=this,n=this._generateBehindPageStyle(0);this._slidingElements=this._getSlidingElements(),it.runAll(it(this._slidingElements).wait(this.delay).queue({transform:"translate3d(0, 0, 0)"},this.def),it(this._mask).wait(this.delay).queue({display:"none"}),it(this._side._content).wait(this.delay).queue(n.content,this.def),it(this._side).wait(this.delay).queue(n.container,this.def).queue(function(n){e._slidingElements=null,e._side.style.zIndex=0,e._side.style.display="none",e._side._content.style.opacity="",t&&t(),n()}))}},{key:"_getMaxWidth",value:function(){return this._side.offsetWidth}}]),e}(bs),Cs={default:ws,overlay:ws,push:ks,reveal:Es},Ss=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._onModeChange=t._onModeChange.bind(t),St(t,function(){!t.mask&&t.appendChild(document.createElement("ons-splitter-mask")),t._layout()}),t}return l(e,t),a(e,[{key:"_getSide",value:function(t){var e=G.findChild(this,function(e){return G.match(e,"ons-splitter-side")&&e.getAttribute("side")===t});return e}},{key:"_onDeviceBackButton",value:function(t){this._sides.some(function(t){return!!t.isOpen&&t.close()})||t.callParentHandler()}},{key:"_onModeChange",value:function(t){var e=this;t.target.parentNode&&St(this,function(){e._layout()})}},{key:"_layout",value:function(){var t=this;this._sides.forEach(function(e){t.content&&(t.content.style[e.side]="split"===e.mode?e.style.width:0)})}},{key:"left",get:function(){return this._getSide("left")}},{key:"right",get:function(){return this._getSide("right")}},{key:"side",get:function(){return G.findChild(this,"ons-splitter-side")}},{key:"_sides",get:function(){return[this.left,this.right].filter(function(t){return t})}},{key:"content",get:function(){return G.findChild(this,"ons-splitter-content")}},{key:"topPage",get:function(){return this.content._content}},{key:"mask",get:function(){return G.findChild(this,"ons-splitter-mask")}},{key:"onDeviceBackButton",get:function(){return this._backButtonHandler},set:function(t){this._backButtonHandler&&this._backButtonHandler.destroy(),this._backButtonHandler=D.createHandler(this,t)}}]),a(e,[{key:"connectedCallback",value:function(){this.onDeviceBackButton=this._onDeviceBackButton.bind(this),this.addEventListener("modechange",this._onModeChange,!1)}},{key:"disconnectedCallback",value:function(){this._backButtonHandler.destroy(),this._backButtonHandler=null,this.removeEventListener("modechange",this._onModeChange,!1)}},{key:"attributeChangedCallback",value:function(t,e,n){}},{key:"_show",value:function(){G.propagateAction(this,"_show")}},{key:"_hide",value:function(){G.propagateAction(this,"_hide")}},{key:"_destroy",value:function(){G.propagateAction(this,"_destroy"),this.remove()}}],[{key:"registerAnimator",value:function(t,e){e instanceof SplitterAnimator||G.throwAnimator("Splitter"),Cs[t]=e}},{key:"SplitterAnimator",get:function(){return SplitterAnimator}},{key:"animators",get:function(){return Cs}}]),e}(Cr);t.Splitter=Ss,customElements.define("ons-splitter",Ss);var As="split",Ts="collapse",Os="closed",xs="open",Ps="changing",Is={ready:function(t,e){setImmediate(e)}},Ns=function(){function t(e,n){o(this,t),this._element=e,this._onChange=this._onChange.bind(this),n&&this.changeTarget(n)}return a(t,[{key:"changeTarget",value:function(t){this.disable(),this._target=t,t&&(this._orientation=-1!==["portrait","landscape"].indexOf(t),this.activate())}},{key:"_match",value:function(t){return this._orientation?this._target===(t.isPortrait?"portrait":"landscape"):t.matches}},{key:"_onChange",value:function(t){this._element._updateMode(this._match(t)?Ts:As)}},{key:"activate",value:function(){this._orientation?(Rt.on("change",this._onChange),this._onChange({isPortrait:Rt.isPortrait()})):(this._queryResult=window.matchMedia(this._target),this._queryResult.addListener(this._onChange),this._onChange(this._queryResult))}},{key:"disable",value:function(){this._orientation?Rt.off("change",this._onChange):this._queryResult&&(this._queryResult.removeListener(this._onChange),this._queryResult=null)}}]),t}(),Ls=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._page=null,t._state=Os,t._lock=new Vt,t._pageLoader=Gt,t._collapseDetection=new Ns(t),t._animatorFactory=new b({animators:Ss.animators,baseClass:bs,baseClassName:"SplitterAnimator",defaultAnimation:t.getAttribute("animation")}),St(t,function(){t.attributeChangedCallback("width"),t.hasAttribute("side")||t.setAttribute("side","left"),Is.ready(t,function(){var e=t._page||t.getAttribute("page");e&&t.load(e)})}),t}return l(e,t),a(e,[{key:"connectedCallback",value:function(){var t=this;G.match(this.parentNode,"ons-splitter")||G.throw("Parent must be an ons-splitter element"),this._swipe=new aa({element:this,elementHandler:this.parentElement,swipeMax:function(){t._onSwipe&&t._onSwipe(1,t._animationOpt),t.open()},swipeMid:function(e,n){t._onSwipe&&t._onSwipe(e/n),t._animator.translate(e)},swipeMin:function(){t._onSwipe&&t._onSwipe(0,t._animationOpt),t.close()},getThreshold:function(){return Math.max(0,Math.min(1,parseFloat(t.getAttribute("open-threshold"))||.3))},getSide:function(){return t.side},isInitialState:function(){var e=t._state===Os;return t._state=Ps,e},ignoreSwipe:function(e,n){var i=t.isOpen,r=function(e){return"left"===t.side?"left"===e&&i||"right"===e&&!i:"left"===e&&!i||"right"===e&&i},o=Math.max(0,parseInt(t.getAttribute("swipe-target-width"),10)||0);return t._mode===As||t._lock.isLocked()||t._isOtherSideOpen()||!r(e.gesture.direction)||!i&&0!==o&&n>o}}),this.attributeChangedCallback("swipeable"),St(this,function(){t.constructor.observedAttributes.forEach(function(e){return t.attributeChangedCallback(e,null,t.getAttribute(e))})})}},{key:"disconnectedCallback",value:function(){this._swipe&&this._swipe.dispose(),this._animator=this._animationOpt=this._swipe=null}},{key:"attributeChangedCallback",value:function(t,e,n){switch(t){case"swipeable":this._swipe&&this._swipe.update();break;case"width":n=this.getAttribute("width"),this.style.width=/^\d+(px|%)$/.test(n)?n:"80%";break;default:this[G.camelize("_update-"+t)](n)}}},{key:"_emitEvent",value:function(t){if("pre"!==t.slice(0,3))return G.triggerElementEvent(this,t,{side:this});var e=!1;return G.triggerElementEvent(this,t,{side:this,cancel:function(){return e=!0}}),e}},{key:"_isOtherSideOpen",value:function(){var t=this;return!!G.findChild(this.parentElement,function(e){return e instanceof t.constructor&&e!==t&&e._mode===Ts&&e.isOpen})}},{key:"_updateCollapse",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("collapse");return null===t||"split"===t?(this._collapseDetection.disable(),this._updateMode(As)):""===t||"collapse"===t?(this._collapseDetection.disable(),this._updateMode(Ts)):void this._collapseDetection.changeTarget(t)}},{key:"_updateMode",value:function(t){t!==this._mode&&(this._mode=t,this.setAttribute("mode",t),t===As?(this._animator&&this._animator.deactivate(),this._state=Os):(this._animator&&this._animator.activate(this),this._state===xs&&this._animator.open()),G.triggerElementEvent(this,"modechange",{side:this,mode:t}))}},{key:"_updateAnimation",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation");this.parentNode&&(this._animator&&this._animator.deactivate(),this._animator=this._animatorFactory.newAnimator({animation:t}),this._animator.activate(this),this._animationOpt={timing:this._animator.duration,duration:this._animator.duration})}},{key:"_updateAnimationOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("animation-options");this._animator.updateOptions(b.parseAnimationOptionsString(t))}},{key:"open",value:function(t){return this.toggle(t,!0)}},{key:"close",value:function(t){return this.toggle(t,!1)}},{key:"toggle",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=arguments[1],i="boolean"===typeof n?n:!this.isOpen,r=i?"open":"close",o=i?xs:Os;if(this._mode===As)return Promise.resolve(!1);if(this._state===o)return Promise.resolve(this);if(this._lock.isLocked())return Promise.reject("Another splitter-side action is already running.");if(i&&this._isOtherSideOpen())return Promise.reject("Another menu is already open.");if(this._emitEvent("pre"+r))return Promise.reject("Canceled in pre"+r+" event.");var a=this._lock.lock();return this._state=Ps,e.animation&&this._updateAnimation(e.animation),new Promise(function(n){t._animator[r](function(){G.iosPageScrollFix(i),t._state=o,a(),t._emitEvent("post"+r),e.callback instanceof Function&&e.callback(t),n(t)})})}},{key:"load",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};this._page=t;var i=n.callback||function(){};return new Promise(function(n){var r=e._content||null;e._pageLoader.load({page:t,parent:e},function(t){r&&(e._pageLoader.unload(r),r=null),setImmediate(function(){return e._show()}),i(t),n(t)})})}},{key:"_show",value:function(){this._content&&this._content._show()}},{key:"_hide",value:function(){this._content&&this._content._hide()}},{key:"_destroy",value:function(){this._content&&this._pageLoader.unload(this._content),this.remove()}},{key:"side",get:function(){return"right"===this.getAttribute("side")?"right":"left"}},{key:"page",get:function(){return this._page},set:function(t){this._page=t}},{key:"_content",get:function(){return this.children[0]}},{key:"pageLoader",get:function(){return this._pageLoader},set:function(t){t instanceof zt||G.throwPageLoader(),this._pageLoader=t}},{key:"mode",get:function(){return this._mode}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||G.throw('"onSwipe" must be a function'),this._onSwipe=t}},{key:"isOpen",get:function(){return this._mode===Ts&&this._state!==Os}}],[{key:"observedAttributes",get:function(){return["animation","width","collapse","swipeable","animation-options"]}},{key:"events",get:function(){return["preopen","postopen","preclose","postclose","modechange"]}},{key:"rewritables",get:function(){return Is}}]),e}(Cr);t.SplitterSide=Ls,customElements.define("ons-splitter-side",Ls);var Ds={"":"switch--*",".switch__input":"switch--*__input",".switch__handle":"switch--*__handle",".switch__toggle":"switch--*__toggle"},Rs={ios:[1,21],material:[0,16]},Ms=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return St(t,function(){t.attributeChangedCallback("modifier",null,t.getAttribute("modifier"))}),t._onChange=t._onChange.bind(t),t._onRelease=t._onRelease.bind(t),t._lastTimeStamp=0,t}return l(e,t),a(e,[{key:"_getPosition",value:function(t){var e=this._locations;return Math.min(e[1],Math.max(e[0],this._startX+t.gesture.deltaX))}},{key:"_emitChangeEvent",value:function(){G.triggerElementEvent(this,"change",{value:this.checked,switch:this,isInteractive:!0})}},{key:"_onChange",value:function(t){t&&t.stopPropagation&&t.stopPropagation(),this._emitChangeEvent()}},{key:"_onClick",value:function(t){(t.target.classList.contains(this.defaultElementClass+"__touch")||t.timeStamp-this._lastTimeStamp<50)&&t.preventDefault(),this._lastTimeStamp=t.timeStamp}},{key:"_onHold",value:function(t){this.disabled||(P.addModifier(this,"active"),document.addEventListener("release",this._onRelease))}},{key:"_onDragStart",value:function(t){this.disabled||-1===["left","right"].indexOf(t.gesture.direction)?P.removeModifier(this,"active"):(t.consumed=!0,P.addModifier(this,"active"),this._startX=this._locations[this.checked?1:0],this.addEventListener("drag",this._onDrag),document.addEventListener("release",this._onRelease))}},{key:"_onDrag",value:function(t){t.stopPropagation(),this._handle.style.left=this._getPosition(t)+"px"}},{key:"_onRelease",value:function(t){var e=this._locations,n=this._getPosition(t),i=this.checked;this.checked=n>=(e[0]+e[1])/2,this.checked!==i&&this._emitChangeEvent(),this.removeEventListener("drag",this._onDrag),document.removeEventListener("release",this._onRelease),this._handle.style.left="",P.removeModifier(this,"active")}},{key:"click",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};this.disabled||(this.checked=!this.checked,this._emitChangeEvent(),this._lastTimeStamp=t.timeStamp||0)}},{key:"connectedCallback",value:function(){var t=this;St(this,function(){t._input.addEventListener("change",t._onChange)}),this.addEventListener("dragstart",this._onDragStart),this.addEventListener("hold",this._onHold),this.addEventListener("tap",this.click),this.addEventListener("click",this._onClick),this._gestureDetector=new rt(this,{dragMinDistance:1,holdTimeout:251,passive:!0})}},{key:"disconnectedCallback",value:function(){var t=this;St(this,function(){t._input.removeEventListener("change",t._onChange)}),this.removeEventListener("dragstart",this._onDragStart),this.removeEventListener("hold",this._onHold),this.removeEventListener("tap",this.click),this.removeEventListener("click",this._onClick),this._gestureDetector&&this._gestureDetector.dispose()}},{key:"attributeChangedCallback",value:function(t,n,i){if("modifier"===t){var r=-1!==(i||"").indexOf("material");this._locations=Rs[r?"material":"ios"]}c(e.prototype.__proto__||Object.getPrototypeOf(e.prototype),"attributeChangedCallback",this).call(this,t,n,i)}},{key:"_scheme",get:function(){return Ds}},{key:"_defaultClassName",get:function(){return"switch"}},{key:"_template",get:function(){return'\n      <input type="'+this.type+'" class="'+this._defaultClassName+'__input">\n      <div class="'+this._defaultClassName+'__toggle">\n        <div class="'+this._defaultClassName+'__handle">\n          <div class="'+this._defaultClassName+'__touch"></div>\n        </div>\n      </div>\n    '}},{key:"type",get:function(){return"checkbox"}},{key:"_handle",get:function(){return this.querySelector("."+this._defaultClassName+"__handle")}},{key:"checkbox",get:function(){return this._input}}],[{key:"observedAttributes",get:function(){return[].concat(d(c(e.__proto__||Object.getPrototypeOf(e),"observedAttributes",this)),["modifier"])}}]),e}(Wo);t.Switch=Ms,customElements.define("ons-switch",Ms);var js={".tabbar__content":"tabbar--*__content",".tabbar__border":"tabbar--*__border",".tabbar":"tabbar--*"},Fs={ready:function(t,e){e()}},Bs=function(t,e,n){return(1-n)*t+n*e},qs=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._loadInactive=G.defer(),St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"connectedCallback",value:function(){var t=this;this._swiper||(this._swiper=new ao({getElement:function(){return t._contentElement},getInitialIndex:function(){return t.getAttribute("activeIndex")||t.getAttribute("active-index")},getAutoScrollRatio:this._getAutoScrollRatio.bind(this),getBubbleWidth:function(){return parseInt(t.getAttribute("ignore-edge-width")||25,10)},isAutoScrollable:function(){return!0},preChangeHook:this._onPreChange.bind(this),postChangeHook:this._onPostChange.bind(this),refreshHook:this._onRefresh.bind(this),scrollHook:this._onScroll.bind(this)}),St(this,function(){t._tabbarBorder=G.findChild(t._tabbarElement,".tabbar__border"),t._swiper.init({swipeable:t.hasAttribute("swipeable")})})),St(this,function(){t._updatePosition(),G.findParent(t,"ons-page",function(t){return t===document.body})||t._show()})}},{key:"disconnectedCallback",value:function(){this._swiper&&this._swiper.initialized&&(this._swiper.dispose(),this._swiper=null,this._tabbarBorder=null,this._tabsRect=null)}},{key:"_normalizeEvent",value:function(t){return u({},t,{index:t.activeIndex,tabItem:this.tabs[t.activeIndex]})}},{key:"_onPostChange",value:function(t){t=this._normalizeEvent(t),G.triggerElementEvent(this,"postchange",t);var e=t.tabItem.pageElement;e&&e._show()}},{key:"_onPreChange",value:function(t){if(t=this._normalizeEvent(t),t.cancel=function(){return t.canceled=!0},G.triggerElementEvent(this,"prechange",t),!t.canceled){var e=t,n=e.activeIndex,i=e.lastActiveIndex,r=this.tabs;if(r[n].setActive(!0),i>=0){var o=r[i];o.setActive(!1),o.pageElement&&o.pageElement._hide()}}return t.canceled}},{key:"_onScroll",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._tabbarBorder)if(this._tabbarBorder.style.transition="all "+(e.duration||0)+"s "+(e.timing||""),this._autogrow&&this._tabsRect.length>0){var n=Math.floor(t),i=Math.ceil(t),r=t%1;this._tabbarBorder.style.width=Bs(this._tabsRect[n].width,this._tabsRect[i].width,r)+"px",this._tabbarBorder.style.transform="translate3d("+Bs(this._tabsRect[n].left,this._tabsRect[i].left,r)+"px, 0, 0)"}else this._tabbarBorder.style.transform="translate3d("+100*t+"%, 0, 0)";this._onSwipe&&this._onSwipe(t,e)}},{key:"_onRefresh",value:function(){if(this._autogrow=G.hasModifier(this,"autogrow"),this._tabsRect=this.tabs.map(function(t){return t.getBoundingClientRect()}),this._tabbarBorder){this._tabbarBorder.style.display=this.hasAttribute("tab-border")||G.hasModifier(this,"material")?"block":"none";var t=this.getActiveTabIndex();this._tabsRect.length>0&&t>=0&&(this._tabbarBorder.style.width=this._tabsRect[t].width+"px")}}},{key:"_getAutoScrollRatio",value:function(t,e,n){var i=.6,r=n/300*(t?-1:1);return Math.min(1,Math.max(0,i+e*r))}},{key:"_compile",value:function(){x.prepare(this);var t=this._contentElement||G.create(".tabbar__content");t.classList.add("ons-tabbar__content");var e=this._tabbarElement||G.create(".tabbar");if(e.classList.add("ons-tabbar__footer"),!e.parentNode)while(this.firstChild)e.appendChild(this.firstChild);var n=Number(this.getAttribute("activeIndex"));e.children.length>n&&!G.findChild(e,"[active]")&&e.children[n].setAttribute("active",""),this._tabbarBorder=G.findChild(e,".tabbar__border")||G.create(".tabbar__border"),e.appendChild(this._tabbarBorder),e.classList.add("ons-swiper-tabbar"),!t.children[0]&&t.appendChild(document.createElement("div")),!t.children[1]&&t.appendChild(document.createElement("div")),t.appendChild=t.appendChild.bind(t.children[0]),t.insertBefore=t.insertBefore.bind(t.children[0]),this.appendChild(t),this.appendChild(e),P.initModifier(this,js)}},{key:"_updatePosition",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.getAttribute("position"),n=this._top="top"===e||"auto"===e&&G.hasModifier(this,"material"),i=n?G.addModifier:G.removeModifier;i(this,"top");var r=G.findParent(this,"ons-page");r&&St(r,function(){var e=0;r.children[0]&&G.match(r.children[0],"ons-toolbar")&&(i(r.children[0],"noshadow"),e=1);var o=r._getContentElement(),a=window.getComputedStyle(r._getContentElement(),null);t.style.top=n?parseInt(a.getPropertyValue("padding-top"),10)-e+"px":"",o.style.top=a.top,o.style.top=""}),y.autoStatusBarFill(function(){var e=G.findParent(t,function(t){return t.hasAttribute("status-bar-fill")});G.toggleAttribute(t,"status-bar-fill",n&&!e)})}},{key:"setActiveTab",value:function(t){var e=this,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},i=this.getActiveTabIndex(),r=this.tabs[i],o=this.tabs[t];if(!o)return Promise.reject("Specified index does not match any tab.");if(t===i)return G.triggerElementEvent(this,"reactive",{index:t,activeIndex:t,tabItem:o}),Promise.resolve(o.pageElement);var a=o.pageElement;return(a?Promise.resolve(a):o.loaded).then(function(i){return e._swiper.setActiveIndex(t,u({reject:!0},n,{animation:r&&i?n.animation||e.getAttribute("animation"):"none",animationOptions:G.extend({duration:.3,timing:"cubic-bezier(.4, .7, .5, 1)"},e.hasAttribute("animation-options")?G.animationOptionsParse(e.getAttribute("animation-options")):{},n.animationOptions||{})})).then(function(){return n.callback instanceof Function&&n.callback(i),i})})}},{key:"setTabbarVisibility",value:function(t){var e=this;St(this,function(){e._contentElement.style[e._top?"top":"bottom"]=t?"":"0px",e._tabbarElement.style.display=t?"":"none",t&&e._onRefresh()})}},{key:"show",value:function(){this.setTabbarVisibility(!0)}},{key:"hide",value:function(){this.setTabbarVisibility(!1)}},{key:"getActiveTabIndex",value:function(){for(var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.tabs,e=0;e<t.length;e++)if(t[e]&&"ONS-TAB"===t[e].tagName&&t[e].isActive())return e;return-1}},{key:"_show",value:function(){var t=this;this._swiper.show(),setImmediate(function(){var e=t.tabs,n=t.getActiveTabIndex(e);t._loadInactive.resolve(),e.length>0&&n>=0&&e[n].loaded.then(function(t){return t&&setImmediate(function(){return t._show()})})})}},{key:"_hide",value:function(){this._swiper.hide();var t=this.topPage;t&&t._hide()}},{key:"_destroy",value:function(){this.tabs.forEach(function(t){return t.remove()}),this.remove()}},{key:"attributeChangedCallback",value:function(t,e,n){if("modifier"===t){P.onModifierChanged(e,n,this,js);var i=function(t){return/(^|\s+)top($|\s+)/i.test(t)};i(e)!==i(n)&&this._updatePosition()}else"position"===t?G.isAttached(this)&&this._updatePosition():"swipeable"===t?this._swiper&&this._swiper.updateSwipeable(this.hasAttribute("swipeable")):"hide-tabs"===t&&this.setTabbarVisibility(!this.hasAttribute("hide-tabs")||"false"===n)}},{key:"_tabbarElement",get:function(){return G.findChild(this,".tabbar")}},{key:"_contentElement",get:function(){return G.findChild(this,".tabbar__content")}},{key:"_targetElement",get:function(){var t=this._contentElement;return t&&t.children[0]||null}},{key:"topPage",get:function(){var t=this.tabs,e=this.getActiveTabIndex();return t[e]&&(t[e].pageElement||this.pages[0])||null}},{key:"pages",get:function(){return G.arrayFrom(this._targetElement.children)}},{key:"tabs",get:function(){return Array.prototype.filter.call(this._tabbarElement.children,function(t){return"ONS-TAB"===t.tagName})}},{key:"visible",get:function(){return"none"!==this._tabbarElement.style.display}},{key:"swipeable",get:function(){return this.hasAttribute("swipeable")},set:function(t){return G.toggleAttribute(this,"swipeable",t)}},{key:"onSwipe",get:function(){return this._onSwipe},set:function(t){!t||t instanceof Function||G.throw('"onSwipe" must be a function'),this._onSwipe=t}}],[{key:"observedAttributes",get:function(){return["modifier","position","swipeable","tab-border","hide-tabs"]}},{key:"rewritables",get:function(){return Fs}},{key:"events",get:function(){return["prechange","postchange","reactive"]}}]),e}(Cr);t.Tabbar=qs,customElements.define("ons-tabbar",qs);var Us="tabbar__item",$s={"":"tabbar--*__item",".tabbar__button":"tabbar--*__button"},Vs=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return["label","icon","badge"].some(t.hasAttribute.bind(t))?t._compile():St(t,function(){return t._compile()}),t._pageLoader=Gt,t._onClick=t._onClick.bind(t),t}return l(e,t),a(e,[{key:"_compile",value:function(){if(x.prepare(this),this.classList.add(Us),!this._button){var t=G.create("button.tabbar__button");while(this.childNodes[0])t.appendChild(this.childNodes[0]);var e=G.create("input",{display:"none"});e.type="radio",this.appendChild(e),this.appendChild(t),this._updateButtonContent(),P.initModifier(this,$s),this._updateRipple()}}},{key:"_updateRipple",value:function(){this._button&&G.updateRipple(this._button,this.hasAttribute("ripple"))}},{key:"_updateButtonContent",value:function(){var t=this,e=this._button,n=this._icon;if(this.hasAttribute("icon")){n=n||G.createElement('<div class="tabbar__icon"><ons-icon></ons-icon></div>');var i=n.children[0],r=function(e){return function(){return i.attributeChangedCallback("icon",e,t.getAttribute("icon"))}}(i.getAttribute("icon"));i.setAttribute("icon",this.getAttribute("icon")),n.parentElement!==e&&e.insertBefore(n,e.firstChild),i.attributeChangedCallback instanceof Function?r():setImmediate(function(){return i.attributeChangedCallback instanceof Function&&r()})}else n&&n.remove();["label","badge"].forEach(function(n,i){var r=t.querySelector(".tabbar__"+n);t.hasAttribute(n)?(r=r||G.create(".tabbar__"+n+("badge"===n?" notification":"")),r.textContent=t.getAttribute(n),r.parentElement!==e&&e.appendChild(r)):r&&r.remove()})}},{key:"_onClick",value:function(){this.onClick instanceof Function?this.onClick():this._tabbar.setActiveTab(this.index,{reject:!1})}},{key:"setActive",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];this._input.checked=t,this.classList.toggle("active",t),G.toggleAttribute(this,"active",t),this.hasAttribute("icon")&&this.hasAttribute("active-icon")&&this._icon.children[0].setAttribute("icon",this.getAttribute(t?"active-icon":"icon"))}},{key:"_loadPageElement",value:function(t,e){var n=this;return this._hasLoaded=!0,new Promise(function(i){n._pageLoader.load({parent:t,page:e},function(e){t.replaceChild(e,t.children[n.index]),n._loadedPage=e,i(e)})})}},{key:"isActive",value:function(){return this.classList.contains("active")}},{key:"disconnectedCallback",value:function(){this.removeEventListener("click",this._onClick,!1),this._loadedPage&&(this._pageLoader.unload(this._loadedPage),this._loadedPage=null,this._hasLoaded=!1,this.loaded=null)}},{key:"connectedCallback",value:function(){var t=this;if(this.addEventListener("click",this._onClick,!1),G.isAttached(this)&&!this.loaded){var e=G.defer();this.loaded=e.promise,St(this,function(){var n=t.index,i=t._tabbar;i||G.throw("Tab elements must be children of Tabbar"),i.hasAttribute("modifier")&&G.addModifier(t,i.getAttribute("modifier")),t._hasLoaded||(t.hasAttribute("active")&&(t.setActive(!0),i.setAttribute("activeIndex",n)),n===i.tabs.length-1&&(i._onRefresh(),setImmediate(function(){return i._onRefresh()})),qs.rewritables.ready(i,function(){var r=t.page||t.getAttribute("page");if(!t.pageElement&&r){var o=i._targetElement,a=G.create("div",{height:"100%",width:"100%",visibility:"hidden"});o.insertBefore(a,o.children[n]);var s=function(){return t._loadPageElement(o,r).then(e.resolve)};return t.isActive()?s():i._loadInactive.promise.then(s)}return e.resolve(t.pageElement)}))})}}},{key:"attributeChangedCallback",value:function(t,e,n){var i=this;switch(t){case"class":G.restoreClass(this,Us,$s);break;case"modifier":St(this,function(){return P.onModifierChanged(e,n,i,$s)});break;case"ripple":St(this,function(){return i._updateRipple()});break;case"icon":case"label":case"badge":St(this,function(){return i._updateButtonContent()});break;case"page":this.page=n||"";break}}},{key:"pageLoader",set:function(t){t instanceof zt||G.throwPageLoader(),this._pageLoader=t},get:function(){return this._pageLoader}},{key:"_input",get:function(){return G.findChild(this,"input")}},{key:"_button",get:function(){return G.findChild(this,".tabbar__button")}},{key:"_icon",get:function(){return this.querySelector(".tabbar__icon")}},{key:"_tabbar",get:function(){return G.findParent(this,"ons-tabbar")}},{key:"index",get:function(){return Array.prototype.indexOf.call(this.parentElement.children,this)}},{key:"pageElement",get:function(){if(this._loadedPage)return this._loadedPage;var t=this._tabbar;return t.pages.length===t.tabs.length?t.pages[this.index]:null}}],[{key:"observedAttributes",get:function(){return["modifier","ripple","icon","label","page","badge","class"]}}]),e}(Cr);t.Tab=Vs,customElements.define("ons-tab",Vs);var Hs=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.2:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e()}},{key:"hide",value:function(t,e){e()}}]),e}(Tr),Ws=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"linear":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.3:s;return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}))}return l(e,t),a(e,[{key:"show",value:function(t,e){e=e||function(){},it(t,this.def).default({opacity:0},{opacity:1}).queue(function(t){e(),t()}).play()}},{key:"hide",value:function(t,e){e=e||function(){},it(t,this.def).default({opacity:1},{opacity:0}).queue(function(t){e(),t()}).play()}}]),e}(Hs),zs=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.25:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.messageDelay=.4*c.duration+c.delay,m.isAndroid()?c.ascension=48:Or.isIPhoneXPortraitPatchActive()?c.ascension=98:Or.isIPhoneXLandscapePatchActive()?c.ascension=85:c.ascension=64,c}return l(e,t),a(e,[{key:"show",value:function(t,e){t=t._toast,G.globals.fabOffset=this.ascension,it.runAll(it(t,this.def).default({transform:"translate3d(0, "+this.ascension+"px, 0)"},{transform:"translate3d(0, 0, 0)"}).queue(function(t){e&&e(),t()}),it(this._getFabs()).wait(this.delay).queue({transform:"translate3d(0, -"+this.ascension+"px, 0) scale(1)"},this.def),it(G.arrayFrom(t.children),this.def).default({opacity:0},{opacity:1}))}},{key:"hide",value:function(t,e){t=t._toast,G.globals.fabOffset=0,it.runAll(it(t,this.def).default({transform:"translate3d(0, 0, 0)"},{transform:"translate3d(0, "+this.ascension+"px, 0)"}).queue(function(t){e&&e(),t()}),it(this._getFabs(),this.def).wait(this.delay).queue({transform:"translate3d(0, 0, 0) scale(1)"},this.def),it(G.arrayFrom(t.children),this.def).default({opacity:1},{opacity:0}))}},{key:"_getFabs",value:function(){return G.arrayFrom(document.querySelectorAll("ons-fab[position~=bottom], ons-speed-dial[position~=bottom]")).filter(function(t){return t.visible})}}]),e}(Hs),Gs=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.35:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return c.bodyHeight=document.body.clientHeight,Or.isIPhoneXPortraitPatchActive()?c.liftAmount="calc(100% + 34px)":Or.isIPhoneXLandscapePatchActive()?c.liftAmount="calc(100% + 21px)":c.liftAmount="100%",c}return l(e,t),a(e,[{key:"show",value:function(t,e){t=t._toast,it.runAll(it(t,this.def).default({transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){t=t._toast,it.runAll(it(t,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.liftAmount+", 0)",opacity:0}).queue(function(t){e&&e(),t()}))}},{key:"_updatePosition",value:function(t){0===parseInt(t.style.top,10)&&(t.style.top=t.style.bottom="")}}]),e}(Hs),Ks=function(t){function e(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},n=t.timing,i=void 0===n?"ease":n,r=t.delay,a=void 0===r?0:r,s=t.duration,u=void 0===s?.35:s;o(this,e);var c=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this,{timing:i,delay:a,duration:u}));return Or.isIPhoneXPortraitPatchActive()?c.fallAmount="calc(-100% - 44px)":c.fallAmount="-100%",c}return l(e,t),a(e,[{key:"show",value:function(t,e){t=t._toast,this._updatePosition(t),it.runAll(it(t,this.def).default({transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0},{transform:"translate3d(0, 0, 0)",opacity:1}).queue(function(t){e&&e(),t()}))}},{key:"hide",value:function(t,e){var n=this;t=t._toast,this._updatePosition(t),it.runAll(it(t,this.def).default({transform:"translate3d(0, 0, 0)",opacity:1},{transform:"translate3d(0, "+this.fallAmount+", 0)",opacity:0}).queue(function(i){n._updatePosition(t,!0),e&&e(),i()}))}},{key:"_updatePosition",value:function(t,e){var n=void 0;n=Or.isIPhoneXPortraitPatchActive()?"44px":"0",t.style.top!==n&&(t.style.top=n,t.style.bottom="initial")}}]),e}(Hs),Qs={".toast":"toast--*",".toast__message":"toast--*__message",".toast__button":"toast--*__button"},Xs="toast",Ys={default:m.isAndroid()?zs:Gs,fade:Ws,ascend:zs,lift:Gs,fall:Ks,none:Hs},Js=function(t){function e(){o(this,e);var t=f(this,(e.__proto__||Object.getPrototypeOf(e)).call(this));return t._defaultDBB=null,St(t,function(){return t._compile()}),t}return l(e,t),a(e,[{key:"_updateAnimatorFactory",value:function(){return this._toast&&(this._toast.style.top=this._toast.style.bottom=""),new b({animators:Ys,baseClass:Hs,baseClassName:"ToastAnimator",defaultAnimation:this.getAttribute("animation")})}},{key:"_compile",value:function(){x.prepare(this),this.style.display="none",this.style.zIndex=1e4;var t="toast__message",e="toast__button",n=G.findChild(this,"."+Xs);if(!n){n=document.createElement("div"),n.classList.add(Xs);while(this.childNodes[0])n.appendChild(this.childNodes[0])}var i=G.findChild(n,"."+e);if(i||(i=G.findChild(n,function(t){return G.match(t,".button")||G.match(t,"button")}),i&&(i.classList.remove("button"),i.classList.add(e),n.appendChild(i))),!G.findChild(n,"."+t)){var r=G.findChild(n,".message");if(!r){r=document.createElement("div");for(var o=n.childNodes.length-1;o>=0;o--)n.childNodes[o]!==i&&r.insertBefore(n.childNodes[o],r.firstChild)}r.classList.add(t),n.insertBefore(r,n.firstChild)}n.parentNode!==this&&this.appendChild(n),P.initModifier(this,this._scheme)}},{key:"_scheme",get:function(){return Qs}},{key:"_toast",get:function(){return G.findChild(this,"."+Xs)}}],[{key:"registerAnimator",value:function(t,e){e.prototype instanceof Hs||G.throw('"Animator" param must inherit OnsToastElement.ToastAnimator'),Ys[t]=e}},{key:"animators",get:function(){return Ys}},{key:"ToastAnimator",get:function(){return Hs}}]),e}(Nr);t.Toast=Js,customElements.define("ons-toast",Js);var Zs=function(t){function e(){return o(this,e),f(this,(e.__proto__||Object.getPrototypeOf(e)).apply(this,arguments))}return l(e,t),a(e,[{key:"_scheme",get:function(){return{"":"toolbar-button--*"}}},{key:"_defaultClassName",get:function(){return"toolbar-button"}},{key:"_rippleOpt",get:function(){return[this,void 0,{center:"",size:"contain",background:"transparent"}]}}]),e}(Mr);return t.ToolbarButton=Zs,customElements.define("ons-toolbar-button",Zs),kr(Qt),window._superSecretOns=Qt,Qt})}).call(this,n("4362"))},"71c1":function(t,e,n){var i=n("3a38"),r=n("25eb");t.exports=function(t){return function(e,n){var o,a,s=String(r(e)),u=i(n),c=s.length;return u<0||u>=c?t?"":void 0:(o=s.charCodeAt(u),o<55296||o>56319||u+1===c||(a=s.charCodeAt(u+1))<56320||a>57343?t?s.charAt(u):o:t?s.slice(u,u+2):a-56320+(o-55296<<10)+65536)}}},7333:function(t,e,n){"use strict";var i=n("0d58"),r=n("2621"),o=n("52a7"),a=n("4bf8"),s=n("626a"),u=Object.assign;t.exports=!u||n("79e5")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){var n=a(t),u=arguments.length,c=1,l=r.f,h=o.f;while(u>c){var f,d=s(arguments[c++]),p=l?i(d).concat(l(d)):i(d),v=p.length,m=0;while(v>m)h.call(d,f=p[m++])&&(n[f]=d[f])}return n}:u},7346:function(t,e,n){var i=n("b10d"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},7445:function(t,e,n){var i=n("63b6"),r=n("5d6b");i(i.G+i.F*(parseInt!=r),{parseInt:r})},"74d1":function(t,e,n){var i=n("8d98")("unscopables"),r=Array.prototype;void 0==r[i]&&n("1982")(r,i,{}),t.exports=function(t){r[i][t]=!0}},7618:function(t,e,n){"use strict";n.d(e,"a",function(){return u});var i=n("5d58"),r=n.n(i),o=n("67bb"),a=n.n(o);function s(t){return s="function"===typeof a.a&&"symbol"===typeof r.a?function(t){return typeof t}:function(t){return t&&"function"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":typeof t},s(t)}function u(t){return u="function"===typeof a.a&&"symbol"===s(r.a)?function(t){return s(t)}:function(t){return t&&"function"===typeof a.a&&t.constructor===a.a&&t!==a.a.prototype?"symbol":s(t)},u(t)}},"765d":function(t,e,n){n("6718")("observable")},7726:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},"77f1":function(t,e,n){var i=n("4588"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},"78a3":function(t,e,n){e.f=n("8d98")},"78f5":function(t,e,n){var i=n("9cf8"),r=n("b7b7"),o=r;o.v1=i,o.v4=r,t.exports=o},"794b":function(t,e,n){t.exports=!n("8e60")&&!n("294c")(function(){return 7!=Object.defineProperty(n("1ec9")("div"),"a",{get:function(){return 7}}).a})},"79aa":function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},"79e5":function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},"7a56":function(t,e,n){"use strict";var i=n("7726"),r=n("86cc"),o=n("9e1e"),a=n("2b4c")("species");t.exports=function(t){var e=i[t];o&&e&&!e[a]&&r.f(e,a,{configurable:!0,get:function(){return this}})}},"7b3a":function(t,e,n){var i=n("aad8"),r="__core-js_shared__",o=i[r]||(i[r]={});t.exports=function(t){return o[t]||(o[t]={})}},"7e54":function(t,e,n){var i=n("3df3"),r=n("f28b");t.exports=function(t,e,n){if(i(e))throw TypeError("String#"+n+" doesn't accept regex!");return String(r(t))}},"7e90":function(t,e,n){var i=n("d9f6"),r=n("e4ae"),o=n("c3a1");t.exports=n("8e60")?Object.defineProperties:function(t,e){r(t);var n,a=o(e),s=a.length,u=0;while(s>u)i.f(t,n=a[u++],e[n]);return t}},"7f20":function(t,e,n){var i=n("86cc").f,r=n("69a8"),o=n("2b4c")("toStringTag");t.exports=function(t,e,n){t&&!r(t=n?t:t.prototype,o)&&i(t,o,{configurable:!0,value:e})}},"7f7f":function(t,e,n){var i=n("86cc").f,r=Function.prototype,o=/^\s*function ([^ (]*)/,a="name";a in r||n("9e1e")&&i(r,a,{configurable:!0,get:function(){try{return(""+this).match(o)[1]}catch(t){return""}}})},8079:function(t,e,n){var i=n("7726"),r=n("1991").set,o=i.MutationObserver||i.WebKitMutationObserver,a=i.process,s=i.Promise,u="process"==n("2d95")(a);t.exports=function(){var t,e,n,c=function(){var i,r;u&&(i=a.domain)&&i.exit();while(t){r=t.fn,t=t.next;try{r()}catch(o){throw t?n():e=void 0,o}}e=void 0,i&&i.enter()};if(u)n=function(){a.nextTick(c)};else if(!o||i.navigator&&i.navigator.standalone)if(s&&s.resolve){var l=s.resolve(void 0);n=function(){l.then(c)}}else n=function(){r.call(i,c)};else{var h=!0,f=document.createTextNode("");new o(c).observe(f,{characterData:!0}),n=function(){f.data=h=!h}}return function(i){var r={fn:i,next:void 0};e&&(e.next=r),t||(t=r,n()),e=r}}},8115:function(t,e,n){"use strict";var i=n("b10d"),r=n("f28b");t.exports=function(t){var e=String(r(this)),n="",o=i(t);if(o<0||o==1/0)throw RangeError("Count can't be negative");for(;o>0;(o>>>=1)&&(e+=e))1&o&&(n+=e);return n}},8187:function(t,e){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},8343:function(t,e){var n={}.hasOwnProperty;t.exports=function(t,e){return n.call(t,e)}},8378:function(t,e){var n=t.exports={version:"2.6.3"};"number"==typeof __e&&(__e=n)},"83a1":function(t,e){t.exports=Object.is||function(t,e){return t===e?0!==t||1/t===1/e:t!=t&&e!=e}},8436:function(t,e){t.exports=function(){}},"84f2":function(t,e){t.exports={}},"85f2":function(t,e,n){t.exports=n("454f")},"86cc":function(t,e,n){var i=n("cb7c"),r=n("c69a"),o=n("6a99"),a=Object.defineProperty;e.f=n("9e1e")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},"89fc":function(t,e,n){var i=n("7b3a")("keys"),r=n("53ff");t.exports=function(t){return i[t]||(i[t]=r(t))}},"8aae":function(t,e,n){n("32a6"),t.exports=n("584a").Object.keys},"8b97":function(t,e,n){var i=n("d3f4"),r=n("cb7c"),o=function(t,e){if(r(t),!i(e)&&null!==e)throw TypeError(e+": can't set as prototype!")};t.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(t,e,i){try{i=n("9b43")(Function.call,n("11e9").f(Object.prototype,"__proto__").set,2),i(t,[]),e=!(t instanceof Array)}catch(r){e=!0}return function(t,n){return o(t,n),e?t.__proto__=n:i(t,n),t}}({},!1):void 0),check:o}},"8cf7":function(t,e,n){var i=n("b10d"),r=Math.max,o=Math.min;t.exports=function(t,e){return t=i(t),t<0?r(t+e,0):o(t,e)}},"8d98":function(t,e,n){var i=n("7b3a")("wks"),r=n("53ff"),o=n("aad8").Symbol,a="function"==typeof o,s=t.exports=function(t){return i[t]||(i[t]=a&&o[t]||(a?o:r)("Symbol."+t))};s.store=i},"8e60":function(t,e,n){t.exports=!n("294c")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"8f60":function(t,e,n){"use strict";var i=n("a159"),r=n("aebd"),o=n("45f2"),a={};n("35e8")(a,n("5168")("iterator"),function(){return this}),t.exports=function(t,e,n){t.prototype=i(a,{next:r(1,n)}),o(t,e+" Iterator")}},"8ffe":function(t,e,n){var i=n("f28b");t.exports=function(t){return Object(i(t))}},9003:function(t,e,n){var i=n("6b4c");t.exports=Array.isArray||function(t){return"Array"==i(t)}},9093:function(t,e,n){var i=n("ce10"),r=n("e11e").concat("length","prototype");e.f=Object.getOwnPropertyNames||function(t){return i(t,r)}},9129:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},9138:function(t,e,n){t.exports=n("35e8")},"948a":function(t,e,n){t.exports=!n("eb5a")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},"95c6":function(t,e,n){"use strict";n.r(e);n("52fe"),n("a59c"),n("34f6"),n("54f1"),n("4c63"),n("5be3"),n("2629"),n("011f"),n("b665")},"96ff":function(t,e){e.f=Object.getOwnPropertySymbols},9802:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return _}),n.d(e,"__asyncValues",function(){return y}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return k});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{u(r[t](e))}catch(n){h(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,l):h(o[0][2],t)}function c(t){s("next",t)}function l(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){t[i]&&(e[i]=function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e})}}function y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof d?d(t):t[Symbol.iterator]()}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}},"998f":function(t,e,n){var i=n("e821"),r=n("1f50"),o=n("8ffe"),a=n("7346"),s=n("b25f");t.exports=function(t,e){var n=1==t,u=2==t,c=3==t,l=4==t,h=6==t,f=5==t||h,d=e||s;return function(e,s,p){for(var v,m,g=o(e),_=r(g),y=i(s,p,3),b=a(_.length),w=0,k=n?d(e,b):u?d(e,0):void 0;b>w;w++)if((f||w in _)&&(v=_[w],m=y(v,w,g),t))if(n)k[w]=m;else if(m)switch(t){case 3:return!0;case 5:return v;case 6:return w;case 2:k.push(v)}else if(l)return!1;return h?-1:c||l?l:k}}},"9aa9":function(t,e){e.f=Object.getOwnPropertySymbols},"9b43":function(t,e,n){var i=n("d8e8");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},"9c6c":function(t,e,n){var i=n("2b4c")("unscopables"),r=Array.prototype;void 0==r[i]&&n("32e9")(r,i,{}),t.exports=function(t){r[i][t]=!0}},"9c80":function(t,e){t.exports=function(t){try{return{e:!1,v:t()}}catch(e){return{e:!0,v:e}}}},"9cf8":function(t,e,n){var i,r,o=n("28fa"),a=n("d203"),s=0,u=0;function c(t,e,n){var c=e&&n||0,l=e||[];t=t||{};var h=t.node||i,f=void 0!==t.clockseq?t.clockseq:r;if(null==h||null==f){var d=o();null==h&&(h=i=[1|d[0],d[1],d[2],d[3],d[4],d[5]]),null==f&&(f=r=16383&(d[6]<<8|d[7]))}var p=void 0!==t.msecs?t.msecs:(new Date).getTime(),v=void 0!==t.nsecs?t.nsecs:u+1,m=p-s+(v-u)/1e4;if(m<0&&void 0===t.clockseq&&(f=f+1&16383),(m<0||p>s)&&void 0===t.nsecs&&(v=0),v>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");s=p,u=v,r=f,p+=122192928e5;var g=(1e4*(268435455&p)+v)%4294967296;l[c++]=g>>>24&255,l[c++]=g>>>16&255,l[c++]=g>>>8&255,l[c++]=255&g;var _=p/4294967296*1e4&268435455;l[c++]=_>>>8&255,l[c++]=255&_,l[c++]=_>>>24&15|16,l[c++]=_>>>16&255,l[c++]=f>>>8|128,l[c++]=255&f;for(var y=0;y<6;++y)l[c+y]=h[y];return e||a(l)}t.exports=c},"9def":function(t,e,n){var i=n("4588"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},"9e1e":function(t,e,n){t.exports=!n("79e5")(function(){return 7!=Object.defineProperty({},"a",{get:function(){return 7}}).a})},a109:function(t,e,n){"use strict";var i=n("56a9")(!0);n("4ddf")(String,"String",function(t){this._t=String(t),this._i=0},function(){var t,e=this._t,n=this._i;return n>=e.length?{value:void 0,done:!0}:(t=i(e,n),this._i+=t.length,{value:t,done:!1})})},a159:function(t,e,n){var i=n("e4ae"),r=n("7e90"),o=n("1691"),a=n("5559")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("1ec9")("iframe"),i=o.length,r="<",a=">";e.style.display="none",n("32fc").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[u][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},a1ce:function(t,e,n){var i=n("63b6"),r=n("25eb"),o=n("294c"),a=n("e692"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=r[t]=s?e(f):a[t];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},f=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},a25f:function(t,e,n){var i=n("7726"),r=i.navigator;t.exports=r&&r.userAgent||""},a313:function(t,e,n){var i=n("8187");t.exports=Array.isArray||function(t){return"Array"==i(t)}},a4bb:function(t,e,n){t.exports=n("8aae")},a59c:function(t,e,n){"use strict";(function(t){var e=setTimeout;function n(){}function i(t,e){return function(){t.apply(e,arguments)}}function r(t){if(!(this instanceof r))throw new TypeError("Promises must be constructed via new");if("function"!==typeof t)throw new TypeError("not a function");this._state=0,this._handled=!1,this._value=void 0,this._deferreds=[],l(t,this)}function o(t,e){while(3===t._state)t=t._value;0!==t._state?(t._handled=!0,r._immediateFn(function(){var n=1===t._state?e.onFulfilled:e.onRejected;if(null!==n){var i;try{i=n(t._value)}catch(r){return void s(e.promise,r)}a(e.promise,i)}else(1===t._state?a:s)(e.promise,t._value)})):t._deferreds.push(e)}function a(t,e){try{if(e===t)throw new TypeError("A promise cannot be resolved with itself.");if(e&&("object"===typeof e||"function"===typeof e)){var n=e.then;if(e instanceof r)return t._state=3,t._value=e,void u(t);if("function"===typeof n)return void l(i(n,e),t)}t._state=1,t._value=e,u(t)}catch(o){s(t,o)}}function s(t,e){t._state=2,t._value=e,u(t)}function u(t){2===t._state&&0===t._deferreds.length&&r._immediateFn(function(){t._handled||r._unhandledRejectionFn(t._value)});for(var e=0,n=t._deferreds.length;e<n;e++)o(t,t._deferreds[e]);t._deferreds=null}function c(t,e,n){this.onFulfilled="function"===typeof t?t:null,this.onRejected="function"===typeof e?e:null,this.promise=n}function l(t,e){var n=!1;try{t(function(t){n||(n=!0,a(e,t))},function(t){n||(n=!0,s(e,t))})}catch(i){if(n)return;n=!0,s(e,i)}}r.prototype["catch"]=function(t){return this.then(null,t)},r.prototype.then=function(t,e){var i=new this.constructor(n);return o(this,new c(t,e,i)),i},r.prototype["finally"]=function(t){var e=this.constructor;return this.then(function(n){return e.resolve(t()).then(function(){return n})},function(n){return e.resolve(t()).then(function(){return e.reject(n)})})},r.all=function(t){return new r(function(e,n){if(!t||"undefined"===typeof t.length)throw new TypeError("Promise.all accepts an array");var i=Array.prototype.slice.call(t);if(0===i.length)return e([]);var r=i.length;function o(t,a){try{if(a&&("object"===typeof a||"function"===typeof a)){var s=a.then;if("function"===typeof s)return void s.call(a,function(e){o(t,e)},n)}i[t]=a,0===--r&&e(i)}catch(u){n(u)}}for(var a=0;a<i.length;a++)o(a,i[a])})},r.resolve=function(t){return t&&"object"===typeof t&&t.constructor===r?t:new r(function(e){e(t)})},r.reject=function(t){return new r(function(e,n){n(t)})},r.race=function(t){return new r(function(e,n){for(var i=0,r=t.length;i<r;i++)t[i].then(e,n)})},r._immediateFn="function"===typeof setImmediate&&function(t){setImmediate(t)}||function(t){e(t,0)},r._unhandledRejectionFn=function(t){"undefined"!==typeof console&&console&&console.warn("Possible Unhandled Promise Rejection:",t)};var h=function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof t)return t;throw new Error("unable to locate global object")}();h.Promise||(h.Promise=r)}).call(this,n("c8ba"))},a5b8:function(t,e,n){"use strict";var i=n("d8e8");function r(t){var e,n;this.promise=new t(function(t,i){if(void 0!==e||void 0!==n)throw TypeError("Bad Promise constructor");e=t,n=i}),this.resolve=i(e),this.reject=i(n)}t.exports.f=function(t){return new r(t)}},a925:function(t,e,n){"use strict";
/*!
 * vue-i18n v8.8.2 
 * (c) 2019 kazuya kawaguchi
 * Released under the MIT License.
 */function i(t,e){"undefined"!==typeof console&&(console.warn("[vue-i18n] "+t),e&&console.warn(e.stack))}function r(t){return null!==t&&"object"===typeof t}var o=Object.prototype.toString,a="[object Object]";function s(t){return o.call(t)===a}function u(t){return null===t||void 0===t}function c(){var t=[],e=arguments.length;while(e--)t[e]=arguments[e];var n=null,i=null;return 1===t.length?r(t[0])||Array.isArray(t[0])?i=t[0]:"string"===typeof t[0]&&(n=t[0]):2===t.length&&("string"===typeof t[0]&&(n=t[0]),(r(t[1])||Array.isArray(t[1]))&&(i=t[1])),{locale:n,params:i}}function l(t){return JSON.parse(JSON.stringify(t))}function h(t,e){if(t.length){var n=t.indexOf(e);if(n>-1)return t.splice(n,1)}}var f=Object.prototype.hasOwnProperty;function d(t,e){return f.call(t,e)}function p(t){for(var e=arguments,n=Object(t),i=1;i<arguments.length;i++){var o=e[i];if(void 0!==o&&null!==o){var a=void 0;for(a in o)d(o,a)&&(r(o[a])?n[a]=p(n[a],o[a]):n[a]=o[a])}}return n}function v(t,e){if(t===e)return!0;var n=r(t),i=r(e);if(!n||!i)return!n&&!i&&String(t)===String(e);try{var o=Array.isArray(t),a=Array.isArray(e);if(o&&a)return t.length===e.length&&t.every(function(t,n){return v(t,e[n])});if(o||a)return!1;var s=Object.keys(t),u=Object.keys(e);return s.length===u.length&&s.every(function(n){return v(t[n],e[n])})}catch(c){return!1}}function m(t){t.prototype.hasOwnProperty("$i18n")||Object.defineProperty(t.prototype,"$i18n",{get:function(){return this._i18n}}),t.prototype.$t=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var i=this.$i18n;return i._t.apply(i,[t,i.locale,i._getMessages(),this].concat(e))},t.prototype.$tc=function(t,e){var n=[],i=arguments.length-2;while(i-- >0)n[i]=arguments[i+2];var r=this.$i18n;return r._tc.apply(r,[t,r.locale,r._getMessages(),this,e].concat(n))},t.prototype.$te=function(t,e){var n=this.$i18n;return n._te(t,n.locale,n._getMessages(),e)},t.prototype.$d=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this.$i18n).d.apply(e,[t].concat(n))},t.prototype.$n=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this.$i18n).n.apply(e,[t].concat(n))}}var g,_={beforeCreate:function(){var t=this.$options;if(t.i18n=t.i18n||(t.__i18n?{}:null),t.i18n)if(t.i18n instanceof ut){if(t.__i18n)try{var e={};t.__i18n.forEach(function(t){e=p(e,JSON.parse(t))}),Object.keys(e).forEach(function(n){t.i18n.mergeLocaleMessage(n,e[n])})}catch(i){0}this._i18n=t.i18n,this._i18nWatcher=this._i18n.watchI18nData(),this._i18n.subscribeDataChanging(this),this._subscribing=!0}else if(s(t.i18n)){if(this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ut&&(t.i18n.root=this.$root,t.i18n.formatter=this.$root.$i18n.formatter,t.i18n.fallbackLocale=this.$root.$i18n.fallbackLocale,t.i18n.silentTranslationWarn=this.$root.$i18n.silentTranslationWarn,t.i18n.silentFallbackWarn=this.$root.$i18n.silentFallbackWarn,t.i18n.pluralizationRules=this.$root.$i18n.pluralizationRules,t.i18n.preserveDirectiveContent=this.$root.$i18n.preserveDirectiveContent),t.__i18n)try{var n={};t.__i18n.forEach(function(t){n=p(n,JSON.parse(t))}),t.i18n.messages=n}catch(i){0}this._i18n=new ut(t.i18n),this._i18nWatcher=this._i18n.watchI18nData(),this._i18n.subscribeDataChanging(this),this._subscribing=!0,(void 0===t.i18n.sync||t.i18n.sync)&&(this._localeWatcher=this.$i18n.watchLocale())}else 0;else this.$root&&this.$root.$i18n&&this.$root.$i18n instanceof ut?(this._i18n=this.$root.$i18n,this._i18n.subscribeDataChanging(this),this._subscribing=!0):t.parent&&t.parent.$i18n&&t.parent.$i18n instanceof ut&&(this._i18n=t.parent.$i18n,this._i18n.subscribeDataChanging(this),this._subscribing=!0)},beforeDestroy:function(){if(this._i18n){var t=this;this.$nextTick(function(){t._subscribing&&(t._i18n.unsubscribeDataChanging(t),delete t._subscribing),t._i18nWatcher&&(t._i18nWatcher(),t._i18n.destroyVM(),delete t._i18nWatcher),t._localeWatcher&&(t._localeWatcher(),delete t._localeWatcher),t._i18n=null})}}},y={name:"i18n",functional:!0,props:{tag:{type:String,default:"span"},path:{type:String,required:!0},locale:{type:String},places:{type:[Array,Object]}},render:function(t,e){var n=e.props,i=e.data,r=e.children,o=e.parent,a=o.$i18n;if(r=(r||[]).filter(function(t){return t.tag||(t.text=t.text.trim())}),!a)return r;var s=n.path,u=n.locale,c={},l=n.places||{},h=(Array.isArray(l)?l.length:Object.keys(l).length,r.every(function(t){if(t.data&&t.data.attrs){var e=t.data.attrs.place;return"undefined"!==typeof e&&""!==e}}));return Array.isArray(l)?l.forEach(function(t,e){c[e]=t}):Object.keys(l).forEach(function(t){c[t]=l[t]}),r.forEach(function(t,e){var n=h?""+t.data.attrs.place:""+e;c[n]=t}),t(n.tag,i,a.i(s,u,c))}};function b(t,e,n){E(t,n)&&S(t,e,n)}function w(t,e,n,i){if(E(t,n)){var r=n.context.$i18n;C(t,n)&&v(e.value,e.oldValue)&&v(t._localeMessage,r.getLocaleMessage(r.locale))||S(t,e,n)}}function k(t,e,n,r){var o=n.context;if(o){var a=n.context.$i18n||{};e.modifiers.preserve||a.preserveDirectiveContent||(t.textContent=""),t._vt=void 0,delete t["_vt"],t._locale=void 0,delete t["_locale"],t._localeMessage=void 0,delete t["_localeMessage"]}else i("Vue instance does not exists in VNode context")}function E(t,e){var n=e.context;return n?!!n.$i18n||(i("VueI18n instance does not exists in Vue instance"),!1):(i("Vue instance does not exists in VNode context"),!1)}function C(t,e){var n=e.context;return t._locale===n.$i18n.locale}function S(t,e,n){var r,o,a=e.value,s=A(a),u=s.path,c=s.locale,l=s.args,h=s.choice;if(u||c||l)if(u){var f=n.context;t._vt=t.textContent=h?(r=f.$i18n).tc.apply(r,[u,h].concat(T(c,l))):(o=f.$i18n).t.apply(o,[u].concat(T(c,l))),t._locale=f.$i18n.locale,t._localeMessage=f.$i18n.getLocaleMessage(f.$i18n.locale)}else i("`path` is required in v-t directive");else i("value type not supported")}function A(t){var e,n,i,r;return"string"===typeof t?e=t:s(t)&&(e=t.path,n=t.locale,i=t.args,r=t.choice),{path:e,locale:n,args:i,choice:r}}function T(t,e){var n=[];return t&&n.push(t),e&&(Array.isArray(e)||s(e))&&n.push(e),n}function O(t){O.installed=!0,g=t;g.version&&Number(g.version.split(".")[0]);m(g),g.mixin(_),g.directive("t",{bind:b,update:w,unbind:k}),g.component(y.name,y);var e=g.config.optionMergeStrategies;e.i18n=function(t,e){return void 0===e?t:e}}var x=function(){this._caches=Object.create(null)};x.prototype.interpolate=function(t,e){if(!e)return[t];var n=this._caches[t];return n||(n=N(t),this._caches[t]=n),L(n,e)};var P=/^(?:\d)+/,I=/^(?:\w)+/;function N(t){var e=[],n=0,i="";while(n<t.length){var r=t[n++];if("{"===r){i&&e.push({type:"text",value:i}),i="";var o="";r=t[n++];while(void 0!==r&&"}"!==r)o+=r,r=t[n++];var a="}"===r,s=P.test(o)?"list":a&&I.test(o)?"named":"unknown";e.push({value:o,type:s})}else"%"===r?"{"!==t[n]&&(i+=r):i+=r}return i&&e.push({type:"text",value:i}),e}function L(t,e){var n=[],i=0,o=Array.isArray(e)?"list":r(e)?"named":"unknown";if("unknown"===o)return n;while(i<t.length){var a=t[i];switch(a.type){case"text":n.push(a.value);break;case"list":n.push(e[parseInt(a.value,10)]);break;case"named":"named"===o&&n.push(e[a.value]);break;case"unknown":0;break}i++}return n}var D=0,R=1,M=2,j=3,F=0,B=1,q=2,U=3,$=4,V=5,H=6,W=7,z=8,G=[];G[F]={ws:[F],ident:[U,D],"[":[$],eof:[W]},G[B]={ws:[B],".":[q],"[":[$],eof:[W]},G[q]={ws:[q],ident:[U,D],0:[U,D],number:[U,D]},G[U]={ident:[U,D],0:[U,D],number:[U,D],ws:[B,R],".":[q,R],"[":[$,R],eof:[W,R]},G[$]={"'":[V,D],'"':[H,D],"[":[$,M],"]":[B,j],eof:z,else:[$,D]},G[V]={"'":[$,D],eof:z,else:[V,D]},G[H]={'"':[$,D],eof:z,else:[H,D]};var K=/^\s?(?:true|false|-?[\d.]+|'[^']*'|"[^"]*")\s?$/;function Q(t){return K.test(t)}function X(t){var e=t.charCodeAt(0),n=t.charCodeAt(t.length-1);return e!==n||34!==e&&39!==e?t:t.slice(1,-1)}function Y(t){if(void 0===t||null===t)return"eof";var e=t.charCodeAt(0);switch(e){case 91:case 93:case 46:case 34:case 39:return t;case 95:case 36:case 45:return"ident";case 32:case 9:case 10:case 13:case 160:case 65279:case 8232:case 8233:return"ws"}return"ident"}function J(t){var e=t.trim();return("0"!==t.charAt(0)||!isNaN(t))&&(Q(e)?X(e):"*"+e)}function Z(t){var e,n,i,r,o,a,s,u=[],c=-1,l=F,h=0,f=[];function d(){var e=t[c+1];if(l===V&&"'"===e||l===H&&'"'===e)return c++,i="\\"+e,f[D](),!0}f[R]=function(){void 0!==n&&(u.push(n),n=void 0)},f[D]=function(){void 0===n?n=i:n+=i},f[M]=function(){f[D](),h++},f[j]=function(){if(h>0)h--,l=$,f[D]();else{if(h=0,n=J(n),!1===n)return!1;f[R]()}};while(null!==l)if(c++,e=t[c],"\\"!==e||!d()){if(r=Y(e),s=G[l],o=s[r]||s["else"]||z,o===z)return;if(l=o[0],a=f[o[1]],a&&(i=o[2],i=void 0===i?e:i,!1===a()))return;if(l===W)return u}}var tt=function(){this._cache=Object.create(null)};tt.prototype.parsePath=function(t){var e=this._cache[t];return e||(e=Z(t),e&&(this._cache[t]=e)),e||[]},tt.prototype.getPathValue=function(t,e){if(!r(t))return null;var n=this.parsePath(e);if(0===n.length)return null;var i=n.length,o=t,a=0;while(a<i){var s=o[n[a]];if(void 0===s)return null;o=s,a++}return o};var et,nt=["style","currency","currencyDisplay","useGrouping","minimumIntegerDigits","minimumFractionDigits","maximumFractionDigits","minimumSignificantDigits","maximumSignificantDigits","localeMatcher","formatMatcher"],it=/(?:@(?:\.[a-z]+)?:(?:[\w\-_|.]+|\([\w\-_|.]+\)))/g,rt=/^@(?:\.([a-z]+))?:/,ot=/[()]/g,at={upper:function(t){return t.toLocaleUpperCase()},lower:function(t){return t.toLocaleLowerCase()}},st=new x,ut=function(t){var e=this;void 0===t&&(t={}),!g&&"undefined"!==typeof window&&window.Vue&&O(window.Vue);var n=t.locale||"en-US",i=t.fallbackLocale||"en-US",r=t.messages||{},o=t.dateTimeFormats||{},a=t.numberFormats||{};this._vm=null,this._formatter=t.formatter||st,this._missing=t.missing||null,this._root=t.root||null,this._sync=void 0===t.sync||!!t.sync,this._fallbackRoot=void 0===t.fallbackRoot||!!t.fallbackRoot,this._silentTranslationWarn=void 0!==t.silentTranslationWarn&&!!t.silentTranslationWarn,this._silentFallbackWarn=void 0!==t.silentFallbackWarn&&!!t.silentFallbackWarn,this._dateTimeFormatters={},this._numberFormatters={},this._path=new tt,this._dataListeners=[],this._preserveDirectiveContent=void 0!==t.preserveDirectiveContent&&!!t.preserveDirectiveContent,this.pluralizationRules=t.pluralizationRules||{},this._exist=function(t,n){return!(!t||!n)&&(!!e._path.getPathValue(t,n)||!!t[n])},this._initVM({locale:n,fallbackLocale:i,messages:r,dateTimeFormats:o,numberFormats:a})},ct={vm:{configurable:!0},messages:{configurable:!0},dateTimeFormats:{configurable:!0},numberFormats:{configurable:!0},locale:{configurable:!0},fallbackLocale:{configurable:!0},missing:{configurable:!0},formatter:{configurable:!0},silentTranslationWarn:{configurable:!0},silentFallbackWarn:{configurable:!0},preserveDirectiveContent:{configurable:!0}};ut.prototype._initVM=function(t){var e=g.config.silent;g.config.silent=!0,this._vm=new g({data:t}),g.config.silent=e},ut.prototype.destroyVM=function(){this._vm.$destroy()},ut.prototype.subscribeDataChanging=function(t){this._dataListeners.push(t)},ut.prototype.unsubscribeDataChanging=function(t){h(this._dataListeners,t)},ut.prototype.watchI18nData=function(){var t=this;return this._vm.$watch("$data",function(){var e=t._dataListeners.length;while(e--)g.nextTick(function(){t._dataListeners[e]&&t._dataListeners[e].$forceUpdate()})},{deep:!0})},ut.prototype.watchLocale=function(){if(!this._sync||!this._root)return null;var t=this._vm;return this._root.$i18n.vm.$watch("locale",function(e){t.$set(t,"locale",e),t.$forceUpdate()},{immediate:!0})},ct.vm.get=function(){return this._vm},ct.messages.get=function(){return l(this._getMessages())},ct.dateTimeFormats.get=function(){return l(this._getDateTimeFormats())},ct.numberFormats.get=function(){return l(this._getNumberFormats())},ct.locale.get=function(){return this._vm.locale},ct.locale.set=function(t){this._vm.$set(this._vm,"locale",t)},ct.fallbackLocale.get=function(){return this._vm.fallbackLocale},ct.fallbackLocale.set=function(t){this._vm.$set(this._vm,"fallbackLocale",t)},ct.missing.get=function(){return this._missing},ct.missing.set=function(t){this._missing=t},ct.formatter.get=function(){return this._formatter},ct.formatter.set=function(t){this._formatter=t},ct.silentTranslationWarn.get=function(){return this._silentTranslationWarn},ct.silentTranslationWarn.set=function(t){this._silentTranslationWarn=t},ct.silentFallbackWarn.get=function(){return this._silentFallbackWarn},ct.silentFallbackWarn.set=function(t){this._silentFallbackWarn=t},ct.preserveDirectiveContent.get=function(){return this._preserveDirectiveContent},ct.preserveDirectiveContent.set=function(t){this._preserveDirectiveContent=t},ut.prototype._getMessages=function(){return this._vm.messages},ut.prototype._getDateTimeFormats=function(){return this._vm.dateTimeFormats},ut.prototype._getNumberFormats=function(){return this._vm.numberFormats},ut.prototype._warnDefault=function(t,e,n,i,r){if(!u(n))return n;if(this._missing){var o=this._missing.apply(null,[t,e,i,r]);if("string"===typeof o)return o}else 0;return e},ut.prototype._isFallbackRoot=function(t){return!t&&!u(this._root)&&this._fallbackRoot},ut.prototype._isSilentFallback=function(t){return this._silentFallbackWarn&&(this._isFallbackRoot()||t!==this.fallbackLocale)},ut.prototype._interpolate=function(t,e,n,i,r,o,a){if(!e)return null;var c,l=this._path.getPathValue(e,n);if(Array.isArray(l)||s(l))return l;if(u(l)){if(!s(e))return null;if(c=e[n],"string"!==typeof c)return null}else{if("string"!==typeof l)return null;c=l}return(c.indexOf("@:")>=0||c.indexOf("@.")>=0)&&(c=this._link(t,e,c,i,"raw",o,a)),this._render(c,r,o,n)},ut.prototype._link=function(t,e,n,i,r,o,a){var s=this,u=n,c=u.match(it);for(var l in c)if(c.hasOwnProperty(l)){var h=c[l],f=h.match(rt),d=f[0],p=f[1],v=h.replace(d,"").replace(ot,"");if(a.includes(v))return u;a.push(v);var m=s._interpolate(t,e,v,i,"raw"===r?"string":r,"raw"===r?void 0:o,a);if(s._isFallbackRoot(m)){if(!s._root)throw Error("unexpected error");var g=s._root.$i18n;m=g._translate(g._getMessages(),g.locale,g.fallbackLocale,v,i,r,o)}m=s._warnDefault(t,v,m,i,Array.isArray(o)?o:[o]),at.hasOwnProperty(p)&&(m=at[p](m)),a.pop(),u=m?u.replace(h,m):u}return u},ut.prototype._render=function(t,e,n,i){var r=this._formatter.interpolate(t,n,i);return r||(r=st.interpolate(t,n,i)),"string"===e?r.join(""):r},ut.prototype._translate=function(t,e,n,i,r,o,a){var s=this._interpolate(e,t[e],i,r,o,a,[i]);return u(s)?(s=this._interpolate(n,t[n],i,r,o,a,[i]),u(s)?null:s):s},ut.prototype._t=function(t,e,n,i){var r,o=[],a=arguments.length-4;while(a-- >0)o[a]=arguments[a+4];if(!t)return"";var s=c.apply(void 0,o),u=s.locale||e,l=this._translate(n,u,this.fallbackLocale,t,i,"string",s.params);if(this._isFallbackRoot(l)){if(!this._root)throw Error("unexpected error");return(r=this._root).$t.apply(r,[t].concat(o))}return this._warnDefault(u,t,l,i,o)},ut.prototype.t=function(t){var e,n=[],i=arguments.length-1;while(i-- >0)n[i]=arguments[i+1];return(e=this)._t.apply(e,[t,this.locale,this._getMessages(),null].concat(n))},ut.prototype._i=function(t,e,n,i,r){var o=this._translate(n,e,this.fallbackLocale,t,i,"raw",r);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.i(t,e,r)}return this._warnDefault(e,t,o,i,[r])},ut.prototype.i=function(t,e,n){return t?("string"!==typeof e&&(e=this.locale),this._i(t,e,this._getMessages(),null,n)):""},ut.prototype._tc=function(t,e,n,i,r){var o,a=[],s=arguments.length-5;while(s-- >0)a[s]=arguments[s+5];if(!t)return"";void 0===r&&(r=1);var u={count:r,n:r},l=c.apply(void 0,a);return l.params=Object.assign(u,l.params),a=null===l.locale?[l.params]:[l.locale,l.params],this.fetchChoice((o=this)._t.apply(o,[t,e,n,i].concat(a)),r)},ut.prototype.fetchChoice=function(t,e){if(!t&&"string"!==typeof t)return null;var n=t.split("|");return e=this.getChoiceIndex(e,n.length),n[e]?n[e].trim():t},ut.prototype.getChoiceIndex=function(t,e){var n=function(t,e){return t=Math.abs(t),2===e?t?t>1?1:0:1:t?Math.min(t,2):0};return this.locale in this.pluralizationRules?this.pluralizationRules[this.locale].apply(this,[t,e]):n(t,e)},ut.prototype.tc=function(t,e){var n,i=[],r=arguments.length-2;while(r-- >0)i[r]=arguments[r+2];return(n=this)._tc.apply(n,[t,this.locale,this._getMessages(),null,e].concat(i))},ut.prototype._te=function(t,e,n){var i=[],r=arguments.length-3;while(r-- >0)i[r]=arguments[r+3];var o=c.apply(void 0,i).locale||e;return this._exist(n[o],t)},ut.prototype.te=function(t,e){return this._te(t,this.locale,this._getMessages(),e)},ut.prototype.getLocaleMessage=function(t){return l(this._vm.messages[t]||{})},ut.prototype.setLocaleMessage=function(t,e){this._vm.$set(this._vm.messages,t,e)},ut.prototype.mergeLocaleMessage=function(t,e){this._vm.$set(this._vm.messages,t,p(this._vm.messages[t]||{},e))},ut.prototype.getDateTimeFormat=function(t){return l(this._vm.dateTimeFormats[t]||{})},ut.prototype.setDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,e)},ut.prototype.mergeDateTimeFormat=function(t,e){this._vm.$set(this._vm.dateTimeFormats,t,p(this._vm.dateTimeFormats[t]||{},e))},ut.prototype._localizeDateTime=function(t,e,n,i,r){var o=e,a=i[o];if((u(a)||u(a[r]))&&(o=n,a=i[o]),u(a)||u(a[r]))return null;var s=a[r],c=o+"__"+r,l=this._dateTimeFormatters[c];return l||(l=this._dateTimeFormatters[c]=new Intl.DateTimeFormat(o,s)),l.format(t)},ut.prototype._d=function(t,e,n){if(!n)return new Intl.DateTimeFormat(e).format(t);var i=this._localizeDateTime(t,e,this.fallbackLocale,this._getDateTimeFormats(),n);if(this._isFallbackRoot(i)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.d(t,n,e)}return i||""},ut.prototype.d=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var i=this.locale,o=null;return 1===e.length?"string"===typeof e[0]?o=e[0]:r(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(o=e[0].key)):2===e.length&&("string"===typeof e[0]&&(o=e[0]),"string"===typeof e[1]&&(i=e[1])),this._d(t,i,o)},ut.prototype.getNumberFormat=function(t){return l(this._vm.numberFormats[t]||{})},ut.prototype.setNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,e)},ut.prototype.mergeNumberFormat=function(t,e){this._vm.$set(this._vm.numberFormats,t,p(this._vm.numberFormats[t]||{},e))},ut.prototype._localizeNumber=function(t,e,n,i,r,o){var a=e,s=i[a];if((u(s)||u(s[r]))&&(a=n,s=i[a]),u(s)||u(s[r]))return null;var c,l=s[r];if(o)c=new Intl.NumberFormat(a,Object.assign({},l,o));else{var h=a+"__"+r;c=this._numberFormatters[h],c||(c=this._numberFormatters[h]=new Intl.NumberFormat(a,l))}return c.format(t)},ut.prototype._n=function(t,e,n,i){if(!ut.availabilities.numberFormat)return"";if(!n){var r=i?new Intl.NumberFormat(e,i):new Intl.NumberFormat(e);return r.format(t)}var o=this._localizeNumber(t,e,this.fallbackLocale,this._getNumberFormats(),n,i);if(this._isFallbackRoot(o)){if(!this._root)throw Error("unexpected error");return this._root.$i18n.n(t,Object.assign({},{key:n,locale:e},i))}return o||""},ut.prototype.n=function(t){var e=[],n=arguments.length-1;while(n-- >0)e[n]=arguments[n+1];var i=this.locale,o=null,a=null;return 1===e.length?"string"===typeof e[0]?o=e[0]:r(e[0])&&(e[0].locale&&(i=e[0].locale),e[0].key&&(o=e[0].key),a=Object.keys(e[0]).reduce(function(t,n){var i;return nt.includes(n)?Object.assign({},t,(i={},i[n]=e[0][n],i)):t},null)):2===e.length&&("string"===typeof e[0]&&(o=e[0]),"string"===typeof e[1]&&(i=e[1])),this._n(t,i,o,a)},Object.defineProperties(ut.prototype,ct),Object.defineProperty(ut,"availabilities",{get:function(){if(!et){var t="undefined"!==typeof Intl;et={dateTimeFormat:t&&"undefined"!==typeof Intl.DateTimeFormat,numberFormat:t&&"undefined"!==typeof Intl.NumberFormat}}return et}}),ut.install=O,ut.version="8.8.2",e["a"]=ut},aa77:function(t,e,n){var i=n("5ca1"),r=n("be13"),o=n("79e5"),a=n("fdef"),s="["+a+"]",u="​",c=RegExp("^"+s+s+"*"),l=RegExp(s+s+"*$"),h=function(t,e,n){var r={},s=o(function(){return!!a[t]()||u[t]()!=u}),c=r[t]=s?e(f):a[t];n&&(r[n]=c),i(i.P+i.F*s,"String",r)},f=h.trim=function(t,e){return t=String(r(t)),1&e&&(t=t.replace(c,"")),2&e&&(t=t.replace(l,"")),t};t.exports=h},aad8:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},ab4f:function(t,e,n){t.exports=!n("948a")&&!n("eb5a")(function(){return 7!=Object.defineProperty(n("cba9")("div"),"a",{get:function(){return 7}}).a})},abfd:function(t,e,n){"use strict";n.r(e),n.d(e,"setLogLevel",function(){return u}),n.d(e,"Logger",function(){return s}),n.d(e,"LogLevel",function(){return i});var i,r=[];(function(t){t[t["DEBUG"]=0]="DEBUG",t[t["VERBOSE"]=1]="VERBOSE",t[t["INFO"]=2]="INFO",t[t["WARN"]=3]="WARN",t[t["ERROR"]=4]="ERROR",t[t["SILENT"]=5]="SILENT"})(i||(i={}));var o=i.INFO,a=function(t,e){for(var n=[],r=2;r<arguments.length;r++)n[r-2]=arguments[r];if(!(e<t.logLevel)){var o=(new Date).toISOString();switch(e){case i.DEBUG:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.VERBOSE:console.log.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.INFO:console.info.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.WARN:console.warn.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;case i.ERROR:console.error.apply(console,["["+o+"]  "+t.name+":"].concat(n));break;default:throw new Error("Attempted to log a message with an invalid logType (value: "+e+")")}}},s=function(){function t(t){this.name=t,this._logLevel=o,this._logHandler=a,r.push(this)}return Object.defineProperty(t.prototype,"logLevel",{get:function(){return this._logLevel},set:function(t){if(!(t in i))throw new TypeError("Invalid value assigned to `logLevel`");this._logLevel=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"logHandler",{get:function(){return this._logHandler},set:function(t){if("function"!==typeof t)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=t},enumerable:!0,configurable:!0}),t.prototype.debug=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.DEBUG].concat(t))},t.prototype.log=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.VERBOSE].concat(t))},t.prototype.info=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.INFO].concat(t))},t.prototype.warn=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.WARN].concat(t))},t.prototype.error=function(){for(var t=[],e=0;e<arguments.length;e++)t[e]=arguments[e];this._logHandler.apply(this,[this,i.ERROR].concat(t))},t}();function u(t){r.forEach(function(e){e.logLevel=t})}},ac6a:function(t,e,n){for(var i=n("cadf"),r=n("0d58"),o=n("2aba"),a=n("7726"),s=n("32e9"),u=n("84f2"),c=n("2b4c"),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),v=0;v<p.length;v++){var m,g=p[v],_=d[g],y=a[g],b=y&&y.prototype;if(b&&(b[l]||s(b,l,f),b[h]||s(b,h,g),u[g]=f,_))for(m in i)b[m]||o(b,m,i[m],!0)}},ad20:function(t,e,n){var i=n("1f50"),r=n("f28b");t.exports=function(t){return i(r(t))}},aebd:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},b0c5:function(t,e,n){"use strict";var i=n("520a");n("5ca1")({target:"RegExp",proto:!0,forced:i!==/./.exec},{exec:i})},b10d:function(t,e){var n=Math.ceil,i=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?i:n)(t)}},b25f:function(t,e,n){var i=n("3358");t.exports=function(t,e){return new(i(t))(e)}},b29a:function(t,e,n){(function(e,i){t.exports=i(n("71a1"))})(0,function(t){"use strict";t=t&&t.hasOwnProperty("default")?t["default"]:t;var e,n,i=function(t){return Object.keys(t).filter(function(t){return[/^is/,/^disable/,/^enable/,/^mock/,/^open/,/^set/,/animit/,/elements/,/fastClick/,/GestureDetector/,/notification/,/orientation/,/platform/,/ready/].some(function(e){return t.match(e)})}).reduce(function(e,n){return e[n]=t[n],e},{_ons:t})},r=function(t){return t.charAt(0).toUpperCase()+t.slice(1)},o=function(t){return t.toLowerCase().replace(/-([a-z])/g,function(t,e){return e.toUpperCase()})},a=function(t){return"_on"+r(t)},s=function(t){return t.slice(2).charAt(0).toLowerCase()+t.slice(2).slice(1)},u="function"===typeof Symbol&&"symbol"===typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"===typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},c=function(t,e,n){return e in t?Object.defineProperty(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t},l=Object.assign||function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(t[i]=n[i])}return t},h=function(t){if(Array.isArray(t)){for(var e=0,n=Array(t.length);e<t.length;e++)n[e]=t[e];return n}return Array.from(t)},f=function(t){var e="onDeviceBackButton",n=t[e]||t.$el[e]&&t.$el[e]._callback||function(t){return t.callParentHandler()};t.$el[e]=function(i){var r=!0;t.$emit(s(e),l({},i,{preventDefault:function(){return r=!1}})),r&&n(i)},t._isDBBSetup=!0},d={mounted:function(){f(this)},activated:function(){!1===this._isDBBSetup&&f(this)},deactivated:function(){!0===this._isDBBSetup&&(this._isDBBSetup=!1)},destroyed:function(){this.$el.onDeviceBackButton&&this.$el.onDeviceBackButton.destroy()}},p={computed:{unrecognizedListeners:function(){var t=this,e=o("-"+this.$options._componentTag.slice(6));return Object.keys(this.$listeners||{}).filter(function(n){return-1===(t.$ons.elements[e].events||[]).indexOf(n)}).reduce(function(e,n){return e[n]=t.$listeners[n],e},{})}},mounted:function(){var t=this;this._handlers={},(this.$el.constructor.events||[]).forEach(function(e){t._handlers[a(e)]=function(n){n.target!==t.$el&&/^ons-/i.test(n.target.tagName)||t.$emit(e,n)},t.$el.addEventListener(e,t._handlers[a(e)])})},beforeDestroy:function(){var t=this;Object.keys(this._handlers).forEach(function(e){t.$el.removeEventListener(e,t._handlers[e])}),this._handlers=null}},v=function(){"boolean"===typeof this.visible&&this.visible!==this.$el.visible&&this.$el[this.visible?"show":"hide"].call(this.$el,this.normalizedOptions||this.options)},m=function(){this._isDestroyed||this.$el.parentNode&&this.$el.parentNode===document.body||document.body.appendChild(this.$el)},g=function(){var t=this;!0===this.$el.visible?this.$el.hide().then(function(){return t.$el.remove()}):this.$el.remove()},_={props:{visible:{type:Boolean,default:void 0}},watch:{visible:function(){v.call(this)}},mounted:function(){var t=this;this.$nextTick(function(){return v.call(t)})},activated:function(){var t=this;this.$nextTick(function(){return v.call(t)})}},y={props:{options:{type:Object,default:function(){return{}}}}},b={provide:function(){return c({},this.$options._componentTag.slice(6),this)}},w={mounted:function(){var t=this;this.$on("dialog-cancel",function(){return t.$emit("update:visible",!1)})}},k={mounted:function(){m.call(this)},updated:function(){m.call(this)},activated:function(){m.call(this)},deactivated:function(){g.call(this)},beforeDestroy:function(){g.call(this)}},E={props:{modifier:{type:[String,Array,Object]}},computed:{normalizedModifier:function(){var t=this.modifier;return"string"===typeof t?t:Array.isArray(t)?t.join(" "):"object"===("undefined"===typeof t?"undefined":u(t))&&Object.keys(t).reduce(function(e,n){return e+(t[n]?" "+n:"")},"").trim()}}},C={prop:"modelProp",event:"modelEvent"},S={model:C,props:(e={},c(e,C.prop,[Number,String]),c(e,C.event,{type:String,default:"input"}),e),methods:{_updateValue:function(){void 0!==this[C.prop]&&this.$el.value!==this[C.prop]&&(this.$el.value=this[C.prop])},_onModelEvent:function(t){this.$emit(C.event,t.target.value)}},watch:c({},C.prop,function(){this._updateValue()}),mounted:function(){this._updateValue(),this.$el.addEventListener(this[C.event],this._onModelEvent)},beforeDestroy:function(){this.$el.removeEventListener(this[C.event],this._onModelEvent)}},A={mixins:[S],props:(n={},c(n,C.prop,[Array,Boolean]),c(n,C.event,{type:String,default:"change"}),n),methods:{_updateValue:function(){this[C.prop]instanceof Array?this.$el.checked=this[C.prop].indexOf(this.$el.value)>=0:this.$el.checked=this[C.prop]},_onModelEvent:function(t){var e=t.target,n=e.value,i=e.checked,r=void 0;if(this[C.prop]instanceof Array){var o=this[C.prop].indexOf(n),a=o>=0;a&&!i&&(r=[].concat(h(this[C.prop].slice(0,o)),h(this[C.prop].slice(o+1,this[C.prop].length)))),!a&&i&&(r=[].concat(h(this[C.prop]),[n]))}else r=i;void 0!==r&&this.$emit(C.event,r)}}},T={mixins:[S],props:c({},C.event,{type:String,default:"change"}),methods:{_updateValue:function(){this.$el.checked=this[C.prop]===this.$el.value},_onModelEvent:function(t){var e=t.target,n=e.value,i=e.checked;i&&this.$emit(C.event,n)}}},O={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-toolbar",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-toolbar",mixins:[p,_,E]},x={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-bottom-toolbar",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-bottom-toolbar",mixins:[p,E]},P={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-toolbar-button",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-toolbar-button",mixins:[p,E]},I={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-alert-dialog-button",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-alert-dialog-button",mixins:[p,E]},N={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-button",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-button",mixins:[p,E]},L={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-icon",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-icon",mixins:[p,E]},D={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-card",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-card",mixins:[p,E]},R={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-list",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-list",mixins:[p,E]},M={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-list-item",t._g({attrs:{modifier:t.normalizedModifier},on:{expansion:t.onExpansion}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-list-item",mixins:[p,E],props:{expanded:{type:Boolean}},methods:{onExpansion:function(){this.expanded!==this.$el.expanded&&this.$emit("update:expanded",this.$el.expanded)}},watch:{expanded:function(){var t=this.expanded?"show":"hide";this.$el[t+"Expansion"]()}}},j={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-list-title",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-list-title",mixins:[p,E]},F={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-list-header",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-list-header",mixins:[p,E]},B={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-ripple",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-ripple",mixins:[p]},q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-row",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-row",mixins:[p]},U={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-col",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-col",mixins:[p]},$={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-progress-bar",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-progress-bar",mixins:[p,E]},V={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-progress-circular",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-progress-circular",mixins:[p,E]},H={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-carousel-item",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-carousel-item",mixins:[p]},W={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-splitter-mask",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-splitter-mask",mixins:[p]},z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-splitter-content",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-splitter-content",mixins:[p]},G={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-splitter",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-splitter",mixins:[p,b,d]},K={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-switch",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-switch",mixins:[p,A,E]},Q={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-checkbox",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-checkbox",mixins:[p,A,E]},X={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-input",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-input",mixins:[p,S,E]},Y={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-search-input",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-search-input",mixins:[p,S,E]},J={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-range",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-range",mixins:[p,S,E]},Z={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-radio",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-radio",mixins:[p,T,E]},tt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-fab",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-fab",mixins:[p,_,E]},et={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-speed-dial-item",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-speed-dial-item",mixins:[p,E]},nt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-dialog",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-dialog",mixins:[p,_,y,w,d,k,E]},it={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-action-sheet",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-action-sheet",mixins:[p,_,y,w,d,k,E]},rt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-action-sheet-button",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-action-sheet-button",mixins:[p,E]},ot={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-modal",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-modal",mixins:[p,_,y,d,k,E]},at={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-toast",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-toast",mixins:[p,_,y,d,k,E]},st={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-popover",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-popover",mixins:[_,y,w,p,d,k],props:{target:{validator:function(t){return t._isVue||"string"===typeof t||t instanceof Event||t instanceof HTMLElement}}},computed:{normalizedTarget:function(){return this.target&&this.target._isVue?this.target.$el:this.target},normalizedOptions:function(){return this.target?l({target:this.normalizedTarget},this.options):this.options}}},ut={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-alert-dialog",t._g({attrs:{modifier:t.normalizedModifier}},t.unrecognizedListeners),[n("div",{staticClass:"alert-dialog-title"},[t._t("title",[t._v(t._s(t.title))])],2),t._v(" "),n("div",{staticClass:"alert-dialog-content"},[t._t("default")],2),t._v(" "),n("div",{staticClass:"alert-dialog-footer"},[t._t("footer",t._l(t.footer,function(e,i){return n("ons-alert-dialog-button",{key:i,on:{click:e}},[t._v(t._s(i))])}))],2)])},staticRenderFns:[],name:"v-ons-alert-dialog",mixins:[_,y,w,p,d,k,E],props:{title:{type:String},footer:{type:Object,validator:function(t){return Object.keys(t).every(function(e){return t[e]instanceof Function})}}}},ct={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-speed-dial",{domProps:{onClick:t.action}},[t._t("default")],2)},staticRenderFns:[],name:"v-ons-speed-dial",mixins:[p,_],props:{open:{type:Boolean,default:void 0}},methods:{action:function(){var t=!0;this.$emit("click",{preventDefault:function(){return t=!1}}),t&&this.$el.toggleItems()},_shouldUpdate:function(){return void 0!==this.open&&this.open!==this.$el.isOpen()},_updateToggle:function(){this._shouldUpdate()&&this.$el[this.open?"showItems":"hideItems"].call(this.$el)}},watch:{open:function(){this._updateToggle()}},mounted:function(){var t=this;this.$on(["open","close"],function(){return t._shouldUpdate()&&t.$emit("update:open",t.$el.isOpen())}),this._updateToggle()}},lt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-carousel",t._g({attrs:{"initial-index":t.index},domProps:{onSwipe:t.onSwipe},on:{postchange:function(e){if(e.target!==e.currentTarget)return null;t.$emit("update:index",e.activeIndex)}}},t.unrecognizedListeners),[n("div",[t._t("default")],2),t._v(" "),n("div")])},staticRenderFns:[],name:"v-ons-carousel",mixins:[y,p],props:{index:{type:Number},onSwipe:{type:Function}},watch:{index:function(){this.index!==this.$el.getActiveIndex()&&this.$el.setActiveIndex(this.index,this.options)}}},ht={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-tab",{attrs:{active:t.active},domProps:{onClick:t.action}})},staticRenderFns:[],name:"v-ons-tab",inject:["tabbar"],props:{page:{},props:{},active:{type:Boolean}},methods:{action:function(){var t=!0;this.$emit("click",{preventDefault:function(){return t=!1}}),t&&this.tabbar.$el.setActiveTab(this.$el.index,l({reject:!1},this.tabbar.options))}},watch:{active:function(){this.$el.setActive(this.active)}}},ft={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-tabbar",t._g({attrs:{activeIndex:t.index,modifier:t.normalizedModifier},domProps:{onSwipe:t.onSwipe},on:{prechange:function(e){if(e.target!==e.currentTarget)return null;t.$nextTick(function(){return!e.detail.canceled&&t.$emit("update:index",e.index)})}}},t.unrecognizedListeners),[n("div",{staticClass:"tabbar__content"},[n("div",[t._t("pages",t._l(t.tabs,function(e){return n(e.page,t._g(t._b({key:e.page.key||e.page.name||t._tabKey(e),tag:"component"},"component",e.props,!1),t.unrecognizedListeners))}))],2),t._v(" "),n("div")]),t._v(" "),n("div",{staticClass:"tabbar",style:t.tabbarStyle},[t._t("default",t._l(t.tabs,function(e){return n("v-ons-tab",t._b({key:t._tabKey(e)},"v-ons-tab",e,!1))})),t._v(" "),n("div",{staticClass:"tabbar__border"})],2)])},staticRenderFns:[],name:"v-ons-tabbar",mixins:[p,y,_,b,E],props:{index:{type:Number},tabs:{type:Array,validator:function(t){return t.every(function(t){return["icon","label","page"].some(function(e){return!!Object.getOwnPropertyDescriptor(t,e)})})}},onSwipe:{type:Function},tabbarStyle:{type:null}},methods:{_tabKey:function(t){return t.key||t.label||t.icon}},watch:{index:function(){this.index!==this.$el.getActiveTabIndex()&&this.$el.setActiveTab(this.index,l({reject:!1},this.options))}}},dt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-back-button",{domProps:{onClick:t.action}},[t._t("default")],2)},staticRenderFns:[],name:"v-ons-back-button",inject:["navigator"],mixins:[E],methods:{action:function(){var t=!0;this.$emit("click",{preventDefault:function(){return t=!1}}),t&&this.navigator.pageStack.length>1&&this.navigator.popPage()}}},pt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-navigator",t._g({domProps:{options:t.options},on:{postpop:function(e){if(e.target!==e.currentTarget)return null;t._checkSwipe(e)}}},t.unrecognizedListeners),[t._t("default",t._l(t.pageStack,function(e){return n(e,t._g(t._b({key:e.key||e.name,tag:"component"},"component",e.onsNavigatorProps,!1),t.unrecognizedListeners))}))],2)},staticRenderFns:[],name:"v-ons-navigator",mixins:[y,b,p,d],props:{pageStack:{type:Array,required:!0},popPage:{type:Function,default:function(){this.pageStack.pop()}}},methods:{isReady:function(){return this.hasOwnProperty("_ready")&&this._ready instanceof Promise?this._ready:Promise.resolve()},onDeviceBackButton:function(t){this.pageStack.length>1?this.popPage():t.callParentHandler()},_findScrollPage:function(t){var e=1===t._contentElement.children.length&&this.$ons._ons._util.getTopPage(t._contentElement.children[0]);return e?this._findScrollPage(e):t},_eachPage:function(t,e,n){for(var i=t;i<e;i++)n(this.$children[i].$el)},_reattachPage:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments[2];this.$el.insertBefore(t,e),n instanceof Function&&n(),t._isShown=!0},_redetachPage:function(t){return t._destroy(),Promise.resolve()},_animate:function(t){var e=this,n=t.lastLength,i=t.currentLength,r=t.lastTopPage,o=t.currentTopPage,a=t.restoreScroll,s=this.pageStack[this.pageStack.length-1].onsNavigatorOptions||o.__vue__.onsNavigatorOptions||{};if(i>n){var u=!1;return r.parentElement!==this.$el&&(this._reattachPage(r,this.$el.children[n-1],a),u=!0,n--),this._eachPage(n,i,function(t){t.style.visibility="hidden"}),this._eachPage(n,i-1,function(t){t.pushedOptions=s}),this.$el._pushPage(l({},s,{leavePage:r})).then(function(){setImmediate(function(){e._eachPage(n,i,function(t){t.style.visibility=""}),e._eachPage(n-1,i-1,function(t){t.style.display="none"})}),u&&e._redetachPage(r)})}return i<n?(this._reattachPage(r,null,a),this.$el._popPage({},function(){return e._redetachPage(r)})):(o.style.visibility="hidden",this._reattachPage(r,o,a),this.$el._pushPage(l({},s,{_replacePage:!0})).then(function(){return e._redetachPage(r)}))},_checkSwipe:function(t){this.$el.hasAttribute("swipeable")&&t.leavePage!==this.$el.lastChild&&t.leavePage===this.$children[this.$children.length-1].$el&&this.popPage()}},watch:{pageStack:function(t,e){if(!this.$el.hasAttribute("swipeable")||this.$children.length===this.$el.children.length){var n=t===e,i=this.$children[this.$children.length-1].$el,r=this._findScrollPage(i),o=r.scrollTop||0;this._pageStackUpdate={lastTopPage:i,lastLength:n?this.$children.length:e.length,currentLength:!n&&t.length,restoreScroll:function(){return r.scrollTop=o}}}}},updated:function(){if(this._pageStackUpdate){var t=this.$children[this.$children.length-1].$el,e=this._pageStackUpdate,n=e.lastTopPage,i=e.currentLength,r=this._pageStackUpdate,o=r.lastLength,a=r.restoreScroll;i=!1===i?this.$children.length:i,t!==n?this._ready=this._animate({lastLength:o,currentLength:i,lastTopPage:n,currentTopPage:t,restoreScroll:a}):i!==o&&t.updateBackButton(i>1),n=t=this._pageStackUpdate=null}}},vt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-splitter-side",t._g({},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-splitter-side",mixins:[y,p],props:{open:{type:Boolean,default:void 0}},methods:{action:function(){this._shouldUpdate()&&this.$el[this.open?"open":"close"].call(this.$el,this.options).catch(function(){})},_shouldUpdate:function(){return void 0!==this.open&&this.open!==this.$el.isOpen}},watch:{open:function(){this.action()}},mounted:function(){var t=this;this.$on(["postopen","postclose","modechange"],function(){return t._shouldUpdate()&&t.$emit("update:open",t.$el.isOpen)}),this.action()}},mt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-lazy-repeat")},staticRenderFns:[],name:"v-ons-lazy-repeat",props:{renderItem:{type:Function,required:!0,validator:function(t){var e=t(0);return!(!e._isVue||e._isMounted)&&(e.$destroy(),!0)}},length:{type:Number,required:!0},calculateItemHeight:{type:Function,default:void 0}},data:function(){return{provider:null}},methods:{_setup:function(){var t=this;this.provider&&this.provider.destroy();var e=new this.$ons._ons._internal.LazyRepeatDelegate({calculateItemHeight:this.calculateItemHeight,createItemContent:function(e){return t.renderItem(e).$mount().$el},destroyItem:function(t,e){var n=e.element;return n.__vue__.$destroy()},countItems:function(){return t.length}},null);this.provider=new this.$ons._ons._internal.LazyRepeatProvider(this.$parent.$el,e)},refresh:function(){return this.provider.refresh()}},watch:{renderItem:function(){this._setup()},length:function(){this._setup()},calculateItemHeight:function(){this._setup()}},mounted:function(){this._setup(),this.$vnode.context.$on("refresh",this.refresh)},beforeDestroy:function(){this.$vnode.context.$off("refresh",this.refresh),this.$el._lazyRepeatProvider=this.provider,this.provider=null}},gt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-select",t._g({attrs:{modifier:t.normalizedModifier}},t.$listeners),[n("select",{directives:[{name:"model",rawName:"v-model",value:t.selectedValue,expression:"selectedValue"}],on:{change:function(e){var n=Array.prototype.filter.call(e.target.options,function(t){return t.selected}).map(function(t){var e="_value"in t?t._value:t.value;return e});t.selectedValue=e.target.multiple?n:n[0]}}},[t._t("default")],2)])},staticRenderFns:[],name:"v-ons-select",mixins:[E],model:{prop:"modelProp",event:"modelEvent"},props:{modelProp:[Number,String],modelEvent:{type:String,default:"input"}},computed:{selectedValue:{get:function(){return this.modelProp},set:function(t){this.$emit("modelEvent",t)}}}},_t={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-segment",{attrs:{"active-index":t.index},on:{postchange:function(e){if(e.target!==e.currentTarget)return null;t.$emit("update:index",e.index)}}},[t._t("default")],2)},staticRenderFns:[],name:"v-ons-segment",mixins:[p],props:{index:{type:Number}},watch:{index:function(){this.index!==this.$el.getActiveButtonIndex()&&this.$el.setActiveButton(this.index,{reject:!1})}}},yt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-pull-hook",t._g({domProps:{onAction:t.action,onPull:t.onPull}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-pull-hook",mixins:[p],props:{action:{type:Function},onPull:{type:Function}}},bt={render:function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("ons-page",t._g({attrs:{modifier:t.normalizedModifier},domProps:{onInfiniteScroll:t.infiniteScroll}},t.unrecognizedListeners),[t._t("default")],2)},staticRenderFns:[],name:"v-ons-page",mixins:[p,d,E],props:{infiniteScroll:{type:Function}}},wt=Object.freeze({VOnsToolbar:O,VOnsBottomToolbar:x,VOnsToolbarButton:P,VOnsAlertDialogButton:I,VOnsButton:N,VOnsIcon:L,VOnsCard:D,VOnsList:R,VOnsListItem:M,VOnsListTitle:j,VOnsListHeader:F,VOnsRipple:B,VOnsRow:q,VOnsCol:U,VOnsProgressBar:$,VOnsProgressCircular:V,VOnsCarouselItem:H,VOnsSplitterMask:W,VOnsSplitterContent:z,VOnsSplitter:G,VOnsSwitch:K,VOnsCheckbox:Q,VOnsInput:X,VOnsSearchInput:Y,VOnsRange:J,VOnsRadio:Z,VOnsFab:tt,VOnsSpeedDialItem:et,VOnsDialog:nt,VOnsActionSheet:it,VOnsActionSheetButton:rt,VOnsModal:ot,VOnsToast:at,VOnsPopover:st,VOnsAlertDialog:ut,VOnsSpeedDial:ct,VOnsCarousel:lt,VOnsTab:ht,VOnsTabbar:ft,VOnsBackButton:dt,VOnsNavigator:pt,VOnsSplitterSide:vt,VOnsLazyRepeat:mt,VOnsSelect:gt,VOnsSegment:_t,VOnsPullHook:yt,VOnsPage:bt}),kt=i(t);return kt.install=function(t){Object.keys(wt).forEach(function(e){return t.component(wt[e].name,wt[e])}),t.prototype.$ons=kt},"undefined"!==typeof window&&window.Vue&&window.Vue.use({install:kt.install}),kt})},b3a3:function(t,e,n){"use strict";var i=n("235a"),r=n("998f")(5),o="find",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("74d1")(o)},b447:function(t,e,n){var i=n("3a38"),r=Math.min;t.exports=function(t){return t>0?r(i(t),9007199254740991):0}},b4b7:function(t,e,n){var i=n("8d98")("match");t.exports=function(t){var e=/./;try{"/./"[t](e)}catch(n){try{return e[i]=!1,!"/./"[t](e)}catch(r){}}return!0}},b54a:function(t,e,n){"use strict";n("386b")("link",function(t){return function(e){return t(this,"a","href",e)}})},b665:function(t,e,n){n("a109"),n("cc61"),t.exports=n("78a3").f("iterator")},b7aa:function(t,e,n){"use strict";(function(t){var e=n("c23d"),i=n.n(e);(function(){var t,e=e||{},n=this;function r(t){return"string"==typeof t}function o(t){return"boolean"==typeof t}function a(){}function s(t){var e=typeof t;if("object"==e){if(!t)return"null";if(t instanceof Array)return"array";if(t instanceof Object)return e;var n=Object.prototype.toString.call(t);if("[object Window]"==n)return"object";if("[object Array]"==n||"number"==typeof t.length&&"undefined"!=typeof t.splice&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("splice"))return"array";if("[object Function]"==n||"undefined"!=typeof t.call&&"undefined"!=typeof t.propertyIsEnumerable&&!t.propertyIsEnumerable("call"))return"function"}else if("function"==e&&"undefined"==typeof t.call)return"object";return e}function u(t){return null===t}function c(t){return"array"==s(t)}function l(t){var e=s(t);return"array"==e||"object"==e&&"number"==typeof t.length}function h(t){return"function"==s(t)}function f(t){var e=typeof t;return"object"==e&&null!=t||"function"==e}var d="closure_uid_"+(1e9*Math.random()>>>0),p=0;function v(t,e,n){return t.call.apply(t.bind,arguments)}function m(t,e,n){if(!t)throw Error();if(2<arguments.length){var i=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,i),t.apply(e,n)}}return function(){return t.apply(e,arguments)}}function g(t,e,n){return g=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?v:m,g.apply(null,arguments)}function _(t,e){var n=Array.prototype.slice.call(arguments,1);return function(){var e=n.slice();return e.push.apply(e,arguments),t.apply(this,e)}}var y=Date.now||function(){return+new Date};function b(t,e){function n(){}n.prototype=e.prototype,t.ob=e.prototype,t.prototype=new n,t.prototype.constructor=t,t.ed=function(t,n,i){for(var r=Array(arguments.length-2),o=2;o<arguments.length;o++)r[o-2]=arguments[o];return e.prototype[n].apply(t,r)}}function w(t){t.prototype.then=t.prototype.then,t.prototype.$goog_Thenable=!0}function k(t){if(!t)return!1;try{return!!t.$goog_Thenable}catch(e){return!1}}function E(t){if(Error.captureStackTrace)Error.captureStackTrace(this,E);else{var e=Error().stack;e&&(this.stack=e)}t&&(this.message=String(t))}function C(t,e){t=t.split("%s");for(var n="",i=t.length-1,r=0;r<i;r++)n+=t[r]+(r<e.length?e[r]:"%s");E.call(this,n+t[i])}function S(t,e){throw new C("Failure"+(t?": "+t:""),Array.prototype.slice.call(arguments,1))}function A(t,e){this.c=t,this.f=e,this.b=0,this.a=null}function T(t,e){t.f(e),100>t.b&&(t.b++,e.next=t.a,t.a=e)}function O(){this.b=this.a=null}b(E,Error),E.prototype.name="CustomError",b(C,E),C.prototype.name="AssertionError",A.prototype.get=function(){if(0<this.b){this.b--;var t=this.a;this.a=t.next,t.next=null}else t=this.c();return t};var x=new A(function(){return new I},function(t){t.reset()});function P(){var t=gt,e=null;return t.a&&(e=t.a,t.a=t.a.next,t.a||(t.b=null),e.next=null),e}function I(){this.next=this.b=this.a=null}O.prototype.add=function(t,e){var n=x.get();n.set(t,e),this.b?this.b.next=n:this.a=n,this.b=n},I.prototype.set=function(t,e){this.a=t,this.b=e,this.next=null},I.prototype.reset=function(){this.next=this.b=this.a=null};var N=Array.prototype.indexOf?function(t,e){return Array.prototype.indexOf.call(t,e,void 0)}:function(t,e){if(r(t))return r(e)&&1==e.length?t.indexOf(e,0):-1;for(var n=0;n<t.length;n++)if(n in t&&t[n]===e)return n;return-1},L=Array.prototype.forEach?function(t,e,n){Array.prototype.forEach.call(t,e,n)}:function(t,e,n){for(var i=t.length,o=r(t)?t.split(""):t,a=0;a<i;a++)a in o&&e.call(n,o[a],a,t)};function D(t,e){var n=t.length,i=r(t)?t.split(""):t;for(--n;0<=n;--n)n in i&&e.call(void 0,i[n],n,t)}var R=Array.prototype.map?function(t,e){return Array.prototype.map.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=Array(n),o=r(t)?t.split(""):t,a=0;a<n;a++)a in o&&(i[a]=e.call(void 0,o[a],a,t));return i},M=Array.prototype.some?function(t,e){return Array.prototype.some.call(t,e,void 0)}:function(t,e){for(var n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t))return!0;return!1};function j(t){t:{for(var e=fa,n=t.length,i=r(t)?t.split(""):t,o=0;o<n;o++)if(o in i&&e.call(void 0,i[o],o,t)){e=o;break t}e=-1}return 0>e?null:r(t)?t.charAt(e):t[e]}function F(t,e){return 0<=N(t,e)}function B(t,e){var n;return e=N(t,e),(n=0<=e)&&Array.prototype.splice.call(t,e,1),n}function q(t,e){D(t,function(n,i){e.call(void 0,n,i,t)&&1==Array.prototype.splice.call(t,i,1).length&&0})}function U(t){return Array.prototype.concat.apply([],arguments)}function $(t){var e=t.length;if(0<e){for(var n=Array(e),i=0;i<e;i++)n[i]=t[i];return n}return[]}function V(t,e){for(var n=t.split("%s"),i="",r=Array.prototype.slice.call(arguments,1);r.length&&1<n.length;)i+=n.shift()+r.shift();return i+n.join("%s")}var H=String.prototype.trim?function(t){return t.trim()}:function(t){return/^[\s\xa0]*([\s\S]*?)[\s\xa0]*$/.exec(t)[1]};function W(t){return Z.test(t)?(-1!=t.indexOf("&")&&(t=t.replace(G,"&amp;")),-1!=t.indexOf("<")&&(t=t.replace(K,"&lt;")),-1!=t.indexOf(">")&&(t=t.replace(Q,"&gt;")),-1!=t.indexOf('"')&&(t=t.replace(X,"&quot;")),-1!=t.indexOf("'")&&(t=t.replace(Y,"&#39;")),-1!=t.indexOf("\0")&&(t=t.replace(J,"&#0;")),t):t}var z,G=/&/g,K=/</g,Q=/>/g,X=/"/g,Y=/'/g,J=/\x00/g,Z=/[\x00&<>"']/;function tt(t,e){return-1!=t.indexOf(e)}function et(t,e){return t<e?-1:t>e?1:0}t:{var nt=n.navigator;if(nt){var it=nt.userAgent;if(it){z=it;break t}}z=""}function rt(t){return tt(z,t)}function ot(t,e){for(var n in t)e.call(void 0,t[n],n,t)}function at(t){for(var e in t)return!1;return!0}function st(t){var e,n={};for(e in t)n[e]=t[e];return n}var ut,ct,lt="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function ht(t,e){for(var n,i,r=1;r<arguments.length;r++){for(n in i=arguments[r],i)t[n]=i[n];for(var o=0;o<lt.length;o++)n=lt[o],Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}}function ft(t){n.setTimeout(function(){throw t},0)}function dt(){var t=n.MessageChannel;if("undefined"===typeof t&&"undefined"!==typeof window&&window.postMessage&&window.addEventListener&&!rt("Presto")&&(t=function(){var t=document.createElement("IFRAME");t.style.display="none",t.src="",document.documentElement.appendChild(t);var e=t.contentWindow;t=e.document,t.open(),t.write(""),t.close();var n="callImmediate"+Math.random(),i="file:"==e.location.protocol?"*":e.location.protocol+"//"+e.location.host;t=g(function(t){"*"!=i&&t.origin!=i||t.data!=n||this.port1.onmessage()},this),e.addEventListener("message",t,!1),this.port1={},this.port2={postMessage:function(){e.postMessage(n,i)}}}),"undefined"!==typeof t&&!rt("Trident")&&!rt("MSIE")){var e=new t,i={},r=i;return e.port1.onmessage=function(){if(void 0!==i.next){i=i.next;var t=i.wb;i.wb=null,t()}},function(t){r.next={wb:t},r=r.next,e.port2.postMessage(0)}}return"undefined"!==typeof document&&"onreadystatechange"in document.createElement("SCRIPT")?function(t){var e=document.createElement("SCRIPT");e.onreadystatechange=function(){e.onreadystatechange=null,e.parentNode.removeChild(e),e=null,t(),t=null},document.documentElement.appendChild(e)}:function(t){n.setTimeout(t,0)}}function pt(t,e){ct||vt(),mt||(ct(),mt=!0),gt.add(t,e)}function vt(){if(n.Promise&&n.Promise.resolve){var t=n.Promise.resolve(void 0);ct=function(){t.then(_t)}}else ct=function(){var t=_t;!h(n.setImmediate)||n.Window&&n.Window.prototype&&!rt("Edge")&&n.Window.prototype.setImmediate==n.setImmediate?(ut||(ut=dt()),ut(t)):n.setImmediate(t)}}var mt=!1,gt=new O;function _t(){for(var t;t=P();){try{t.a.call(t.b)}catch(e){ft(e)}T(x,t)}mt=!1}function yt(t,e){if(this.a=bt,this.i=void 0,this.f=this.b=this.c=null,this.g=this.h=!1,t!=a)try{var n=this;t.call(e,function(t){Dt(n,wt,t)},function(t){if(!(t instanceof Vt))try{if(t instanceof Error)throw t;throw Error("Promise rejected.")}catch(e){}Dt(n,kt,t)})}catch(i){Dt(this,kt,i)}}var bt=0,wt=2,kt=3;function Et(){this.next=this.f=this.b=this.g=this.a=null,this.c=!1}Et.prototype.reset=function(){this.f=this.b=this.g=this.a=null,this.c=!1};var Ct=new A(function(){return new Et},function(t){t.reset()});function St(t,e,n){var i=Ct.get();return i.g=t,i.b=e,i.f=n,i}function At(t){if(t instanceof yt)return t;var e=new yt(a);return Dt(e,wt,t),e}function Tt(t){return new yt(function(e,n){n(t)})}function Ot(t,e,n){Rt(t,e,n,null)||pt(_(e,t))}function xt(t){return new yt(function(e,n){var i=t.length,r=[];if(i)for(var o,a=function(t,n){i--,r[t]=n,0==i&&e(r)},s=function(t){n(t)},u=0;u<t.length;u++)o=t[u],Ot(o,_(a,u),s);else e(r)})}function Pt(t){return new yt(function(e){var n=t.length,i=[];if(n)for(var r,o=function(t,r,o){n--,i[t]=r?{Db:!0,value:o}:{Db:!1,reason:o},0==n&&e(i)},a=0;a<t.length;a++)r=t[a],Ot(r,_(o,a,!0),_(o,a,!1));else e(i)})}function It(t,e){if(t.a==bt)if(t.c){var n=t.c;if(n.b){for(var i=0,r=null,o=null,a=n.b;a&&(a.c||(i++,a.a==t&&(r=a),!(r&&1<i)));a=a.next)r||(o=a);r&&(n.a==bt&&1==i?It(n,e):(o?(i=o,i.next==n.f&&(n.f=i),i.next=i.next.next):Ft(n),Bt(n,r,kt,e)))}t.c=null}else Dt(t,kt,e)}function Nt(t,e){t.b||t.a!=wt&&t.a!=kt||jt(t),t.f?t.f.next=e:t.b=e,t.f=e}function Lt(t,e,n,i){var r=St(null,null,null);return r.a=new yt(function(t,o){r.g=e?function(n){try{var r=e.call(i,n);t(r)}catch(a){o(a)}}:t,r.b=n?function(e){try{var r=n.call(i,e);void 0===r&&e instanceof Vt?o(e):t(r)}catch(a){o(a)}}:o}),r.a.c=t,Nt(t,r),r.a}function Dt(t,e,n){t.a==bt&&(t===n&&(e=kt,n=new TypeError("Promise cannot resolve to itself")),t.a=1,Rt(n,t.Nc,t.Oc,t)||(t.i=n,t.a=e,t.c=null,jt(t),e!=kt||n instanceof Vt||Ut(t,n)))}function Rt(t,e,n,i){if(t instanceof yt)return Nt(t,St(e||a,n||null,i)),!0;if(k(t))return t.then(e,n,i),!0;if(f(t))try{var r=t.then;if(h(r))return Mt(t,r,e,n,i),!0}catch(o){return n.call(i,o),!0}return!1}function Mt(t,e,n,i,r){function o(t){s||(s=!0,i.call(r,t))}function a(t){s||(s=!0,n.call(r,t))}var s=!1;try{e.call(t,a,o)}catch(u){o(u)}}function jt(t){t.h||(t.h=!0,pt(t.Yb,t))}function Ft(t){var e=null;return t.b&&(e=t.b,t.b=e.next,e.next=null),t.b||(t.f=null),e}function Bt(t,e,n,i){if(n==kt&&e.b&&!e.c)for(;t&&t.g;t=t.c)t.g=!1;if(e.a)e.a.c=null,qt(e,n,i);else try{e.c?e.g.call(e.f):qt(e,n,i)}catch(r){$t.call(null,r)}T(Ct,e)}function qt(t,e,n){e==wt?t.g.call(t.f,n):t.b&&t.b.call(t.f,n)}function Ut(t,e){t.g=!0,pt(function(){t.g&&$t.call(null,e)})}yt.prototype.then=function(t,e,n){return Lt(this,h(t)?t:null,h(e)?e:null,n)},w(yt),t=yt.prototype,t.ia=function(t,e){return t=St(t,t,e),t.c=!0,Nt(this,t),this},t.s=function(t,e){return Lt(this,null,t,e)},t.cancel=function(t){this.a==bt&&pt(function(){var e=new Vt(t);It(this,e)},this)},t.Nc=function(t){this.a=bt,Dt(this,wt,t)},t.Oc=function(t){this.a=bt,Dt(this,kt,t)},t.Yb=function(){for(var t;t=Ft(this);)Bt(this,t,this.a,this.i);this.h=!1};var $t=ft;function Vt(t){E.call(this,t)}function Ht(){0!=Wt&&(zt[this[d]||(this[d]=++p)]=this),this.qa=this.qa,this.ja=this.ja}b(Vt,E),Vt.prototype.name="cancel";var Wt=0,zt={};function Gt(t){if(!t.qa&&(t.qa=!0,t.va(),0!=Wt)){var e=t[d]||(t[d]=++p);if(0!=Wt&&t.ja&&0<t.ja.length)throw Error(t+" did not empty its onDisposeCallbacks queue. This probably means it overrode dispose() or disposeInternal() without calling the superclass' method.");delete zt[e]}}function Kt(t){return Kt[" "](t),t}function Qt(t,e){var n=ue;return Object.prototype.hasOwnProperty.call(n,t)?n[t]:n[t]=e(t)}Ht.prototype.qa=!1,Ht.prototype.va=function(){if(this.ja)for(;this.ja.length;)this.ja.shift()()},Kt[" "]=a;var Xt,Yt=rt("Opera"),Jt=rt("Trident")||rt("MSIE"),Zt=rt("Edge"),te=Zt||Jt,ee=rt("Gecko")&&!(tt(z.toLowerCase(),"webkit")&&!rt("Edge"))&&!(rt("Trident")||rt("MSIE"))&&!rt("Edge"),ne=tt(z.toLowerCase(),"webkit")&&!rt("Edge");function ie(){var t=n.document;return t?t.documentMode:void 0}t:{var re="",oe=function(){var t=z;return ee?/rv:([^\);]+)(\)|;)/.exec(t):Zt?/Edge\/([\d\.]+)/.exec(t):Jt?/\b(?:MSIE|rv)[: ]([^\);]+)(\)|;)/.exec(t):ne?/WebKit\/(\S+)/.exec(t):Yt?/(?:Version)[ \/]?(\S+)/.exec(t):void 0}();if(oe&&(re=oe?oe[1]:""),Jt){var ae=ie();if(null!=ae&&ae>parseFloat(re)){Xt=String(ae);break t}}Xt=re}var se,ue={};function ce(t){return Qt(t,function(){for(var e=0,n=H(String(Xt)).split("."),i=H(String(t)).split("."),r=Math.max(n.length,i.length),o=0;0==e&&o<r;o++){var a=n[o]||"",s=i[o]||"";do{if(a=/(\d*)(\D*)(.*)/.exec(a)||["","","",""],s=/(\d*)(\D*)(.*)/.exec(s)||["","","",""],0==a[0].length&&0==s[0].length)break;e=et(0==a[1].length?0:parseInt(a[1],10),0==s[1].length?0:parseInt(s[1],10))||et(0==a[2].length,0==s[2].length)||et(a[2],s[2]),a=a[3],s=s[3]}while(0==e)}return 0<=e})}var le=n.document;se=le&&Jt?ie()||("CSS1Compat"==le.compatMode?parseInt(Xt,10):5):void 0;var he=Object.freeze||function(t){return t},fe=!Jt||9<=Number(se),de=Jt&&!ce("9"),pe=function(){if(!n.addEventListener||!Object.defineProperty)return!1;var t=!1,e=Object.defineProperty({},"passive",{get:function(){t=!0}});return n.addEventListener("test",a,e),n.removeEventListener("test",a,e),t}();function ve(t,e){this.type=t,this.b=this.target=e,this.Kb=!0}function me(t,e){if(ve.call(this,t?t.type:""),this.relatedTarget=this.b=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.pointerId=0,this.pointerType="",this.a=null,t){var n=this.type=t.type,i=t.changedTouches?t.changedTouches[0]:null;if(this.target=t.target||t.srcElement,this.b=e,e=t.relatedTarget){if(ee){t:{try{Kt(e.nodeName);var o=!0;break t}catch(a){}o=!1}o||(e=null)}}else"mouseover"==n?e=t.fromElement:"mouseout"==n&&(e=t.toElement);this.relatedTarget=e,null===i?(this.clientX=void 0!==t.clientX?t.clientX:t.pageX,this.clientY=void 0!==t.clientY?t.clientY:t.pageY,this.screenX=t.screenX||0,this.screenY=t.screenY||0):(this.clientX=void 0!==i.clientX?i.clientX:i.pageX,this.clientY=void 0!==i.clientY?i.clientY:i.pageY,this.screenX=i.screenX||0,this.screenY=i.screenY||0),this.button=t.button,this.key=t.key||"",this.ctrlKey=t.ctrlKey,this.altKey=t.altKey,this.shiftKey=t.shiftKey,this.metaKey=t.metaKey,this.pointerId=t.pointerId||0,this.pointerType=r(t.pointerType)?t.pointerType:ge[t.pointerType]||"",this.a=t,t.defaultPrevented&&this.preventDefault()}}ve.prototype.preventDefault=function(){this.Kb=!1},b(me,ve);var ge=he({2:"touch",3:"pen",4:"mouse"});me.prototype.preventDefault=function(){me.ob.preventDefault.call(this);var t=this.a;if(t.preventDefault)t.preventDefault();else if(t.returnValue=!1,de)try{(t.ctrlKey||112<=t.keyCode&&123>=t.keyCode)&&(t.keyCode=-1)}catch(e){}},me.prototype.f=function(){return this.a};var _e="closure_listenable_"+(1e6*Math.random()|0),ye=0;function be(t,e,n,i,r){this.listener=t,this.proxy=null,this.src=e,this.type=n,this.capture=!!i,this.La=r,this.key=++ye,this.oa=this.Ia=!1}function we(t){t.oa=!0,t.listener=null,t.proxy=null,t.src=null,t.La=null}function ke(t){this.src=t,this.a={},this.b=0}function Ee(t,e){var n=e.type;n in t.a&&B(t.a[n],e)&&(we(e),0==t.a[n].length&&(delete t.a[n],t.b--))}function Ce(t,e,n,i){for(var r=0;r<t.length;++r){var o=t[r];if(!o.oa&&o.listener==e&&o.capture==!!n&&o.La==i)return r}return-1}ke.prototype.add=function(t,e,n,i,r){var o=t.toString();t=this.a[o],t||(t=this.a[o]=[],this.b++);var a=Ce(t,e,i,r);return-1<a?(e=t[a],n||(e.Ia=!1)):(e=new be(e,this.src,o,!!i,r),e.Ia=n,t.push(e)),e};var Se="closure_lm_"+(1e6*Math.random()|0),Ae={};function Te(t,e,n,i,r){if(i&&i.once)Pe(t,e,n,i,r);else if(c(e))for(var o=0;o<e.length;o++)Te(t,e[o],n,i,r);else n=Be(n),t&&t[_e]?Ue(t,e,n,f(i)?!!i.capture:!!i,r):Oe(t,e,n,!1,i,r)}function Oe(t,e,n,i,r,o){if(!e)throw Error("Invalid event type");var a=f(r)?!!r.capture:!!r,s=je(t);if(s||(t[Se]=s=new ke(t)),n=s.add(e,n,i,a,o),!n.proxy){if(i=xe(),n.proxy=i,i.src=t,i.listener=n,t.addEventListener)pe||(r=a),void 0===r&&(r=!1),t.addEventListener(e.toString(),i,r);else if(t.attachEvent)t.attachEvent(Le(e.toString()),i);else{if(!t.addListener||!t.removeListener)throw Error("addEventListener and attachEvent are unavailable.");t.addListener(i)}0}}function xe(){var t=Me,e=fe?function(n){return t.call(e.src,e.listener,n)}:function(n){if(n=t.call(e.src,e.listener,n),!n)return n};return e}function Pe(t,e,n,i,r){if(c(e))for(var o=0;o<e.length;o++)Pe(t,e[o],n,i,r);else n=Be(n),t&&t[_e]?$e(t,e,n,f(i)?!!i.capture:!!i,r):Oe(t,e,n,!0,i,r)}function Ie(t,e,n,i,r){if(c(e))for(var o=0;o<e.length;o++)Ie(t,e[o],n,i,r);else i=f(i)?!!i.capture:!!i,n=Be(n),t&&t[_e]?(t=t.l,e=String(e).toString(),e in t.a&&(o=t.a[e],n=Ce(o,n,i,r),-1<n&&(we(o[n]),Array.prototype.splice.call(o,n,1),0==o.length&&(delete t.a[e],t.b--)))):t&&(t=je(t))&&(e=t.a[e.toString()],t=-1,e&&(t=Ce(e,n,i,r)),(n=-1<t?e[t]:null)&&Ne(n))}function Ne(t){if("number"!=typeof t&&t&&!t.oa){var e=t.src;if(e&&e[_e])Ee(e.l,t);else{var n=t.type,i=t.proxy;e.removeEventListener?e.removeEventListener(n,i,t.capture):e.detachEvent?e.detachEvent(Le(n),i):e.addListener&&e.removeListener&&e.removeListener(i),0,(n=je(e))?(Ee(n,t),0==n.b&&(n.src=null,e[Se]=null)):we(t)}}}function Le(t){return t in Ae?Ae[t]:Ae[t]="on"+t}function De(t,e,n,i){var r=!0;if((t=je(t))&&(e=t.a[e.toString()]))for(e=e.concat(),t=0;t<e.length;t++){var o=e[t];o&&o.capture==n&&!o.oa&&(o=Re(o,i),r=r&&!1!==o)}return r}function Re(t,e){var n=t.listener,i=t.La||t.src;return t.Ia&&Ne(t),n.call(i,e)}function Me(t,e){if(t.oa)return!0;if(!fe){if(!e)t:{e=["window","event"];for(var i=n,r=0;r<e.length;r++)if(i=i[e[r]],null==i){e=null;break t}e=i}if(r=e,e=new me(r,this),i=!0,!(0>r.keyCode||void 0!=r.returnValue)){t:{var o=!1;if(0==r.keyCode)try{r.keyCode=-1;break t}catch(s){o=!0}(o||void 0==r.returnValue)&&(r.returnValue=!0)}for(r=[],o=e.b;o;o=o.parentNode)r.push(o);for(t=t.type,o=r.length-1;0<=o;o--){e.b=r[o];var a=De(r[o],t,!0,e);i=i&&a}for(o=0;o<r.length;o++)e.b=r[o],a=De(r[o],t,!1,e),i=i&&a}return i}return Re(t,new me(e,this))}function je(t){return t=t[Se],t instanceof ke?t:null}var Fe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Be(t){return h(t)?t:(t[Fe]||(t[Fe]=function(e){return t.handleEvent(e)}),t[Fe])}function qe(){Ht.call(this),this.l=new ke(this),this.Rb=this,this.Va=null}function Ue(t,e,n,i,r){t.l.add(String(e),n,!1,i,r)}function $e(t,e,n,i,r){t.l.add(String(e),n,!0,i,r)}function Ve(t,e,n,i){if(e=t.l.a[String(e)],!e)return!0;e=e.concat();for(var r=!0,o=0;o<e.length;++o){var a=e[o];if(a&&!a.oa&&a.capture==n){var s=a.listener,u=a.La||a.src;a.Ia&&Ee(t.l,a),r=!1!==s.call(u,i)&&r}}return r&&0!=i.Kb}function He(t,e,i){if(h(t))i&&(t=g(t,i));else{if(!t||"function"!=typeof t.handleEvent)throw Error("Invalid listener argument");t=g(t.handleEvent,t)}return 2147483647<Number(e)?-1:n.setTimeout(t,e||0)}function We(t){var e=null;return new yt(function(n,i){e=He(function(){n(void 0)},t),-1==e&&i(Error("Failed to schedule timer."))}).s(function(t){throw n.clearTimeout(e),t})}function ze(t){if(t.S&&"function"==typeof t.S)return t.S();if(r(t))return t.split("");if(l(t)){for(var e=[],n=t.length,i=0;i<n;i++)e.push(t[i]);return e}for(i in e=[],n=0,t)e[n++]=t[i];return e}function Ge(t){if(t.U&&"function"==typeof t.U)return t.U();if(!t.S||"function"!=typeof t.S){if(l(t)||r(t)){var e=[];t=t.length;for(var n=0;n<t;n++)e.push(n);return e}for(var i in e=[],n=0,t)e[n++]=i;return e}}function Ke(t,e){if(t.forEach&&"function"==typeof t.forEach)t.forEach(e,void 0);else if(l(t)||r(t))L(t,e,void 0);else for(var n=Ge(t),i=ze(t),o=i.length,a=0;a<o;a++)e.call(void 0,i[a],n&&n[a],t)}function Qe(t,e){this.b={},this.a=[],this.c=0;var n=arguments.length;if(1<n){if(n%2)throw Error("Uneven number of arguments");for(var i=0;i<n;i+=2)this.set(arguments[i],arguments[i+1])}else if(t)if(t instanceof Qe)for(n=t.U(),i=0;i<n.length;i++)this.set(n[i],t.get(n[i]));else for(i in t)this.set(i,t[i])}function Xe(t){if(t.c!=t.a.length){for(var e=0,n=0;e<t.a.length;){var i=t.a[e];Ye(t.b,i)&&(t.a[n++]=i),e++}t.a.length=n}if(t.c!=t.a.length){var r={};for(n=e=0;e<t.a.length;)i=t.a[e],Ye(r,i)||(t.a[n++]=i,r[i]=1),e++;t.a.length=n}}function Ye(t,e){return Object.prototype.hasOwnProperty.call(t,e)}b(qe,Ht),qe.prototype[_e]=!0,qe.prototype.addEventListener=function(t,e,n,i){Te(this,t,e,n,i)},qe.prototype.removeEventListener=function(t,e,n,i){Ie(this,t,e,n,i)},qe.prototype.dispatchEvent=function(t){var e,n=this.Va;if(n)for(e=[];n;n=n.Va)e.push(n);n=this.Rb;var i=t.type||t;if(r(t))t=new ve(t,n);else if(t instanceof ve)t.target=t.target||n;else{var o=t;t=new ve(i,n),ht(t,o)}if(o=!0,e)for(var a=e.length-1;0<=a;a--){var s=t.b=e[a];o=Ve(s,i,!0,t)&&o}if(s=t.b=n,o=Ve(s,i,!0,t)&&o,o=Ve(s,i,!1,t)&&o,e)for(a=0;a<e.length;a++)s=t.b=e[a],o=Ve(s,i,!1,t)&&o;return o},qe.prototype.va=function(){if(qe.ob.va.call(this),this.l){var t,e=this.l;for(t in e.a){for(var n=e.a[t],i=0;i<n.length;i++)0,we(n[i]);delete e.a[t],e.b--}}this.Va=null},t=Qe.prototype,t.S=function(){Xe(this);for(var t=[],e=0;e<this.a.length;e++)t.push(this.b[this.a[e]]);return t},t.U=function(){return Xe(this),this.a.concat()},t.clear=function(){this.b={},this.c=this.a.length=0},t.get=function(t,e){return Ye(this.b,t)?this.b[t]:e},t.set=function(t,e){Ye(this.b,t)||(this.c++,this.a.push(t)),this.b[t]=e},t.forEach=function(t,e){for(var n=this.U(),i=0;i<n.length;i++){var r=n[i],o=this.get(r);t.call(e,o,r,this)}};var Je=/^(?:([^:\/?#.]+):)?(?:\/\/(?:([^\/?#]*)@)?([^\/#?]*?)(?::([0-9]+))?(?=[\/#?]|$))?([^?#]+)?(?:\?([^#]*))?(?:#([\s\S]*))?$/;function Ze(t,e){if(t){t=t.split("&");for(var n=0;n<t.length;n++){var i=t[n].indexOf("="),r=null;if(0<=i){var o=t[n].substring(0,i);r=t[n].substring(i+1)}else o=t[n];e(o,r?decodeURIComponent(r.replace(/\+/g," ")):"")}}}function tn(t,e){if(this.b=this.l=this.c="",this.i=null,this.h=this.g="",this.f=!1,t instanceof tn){this.f=void 0!==e?e:t.f,en(this,t.c),this.l=t.l,this.b=t.b,nn(this,t.i),this.g=t.g,e=t.a;var n=new gn;n.c=e.c,e.a&&(n.a=new Qe(e.a),n.b=e.b),rn(this,n),this.h=t.h}else t&&(n=String(t).match(Je))?(this.f=!!e,en(this,n[1]||"",!0),this.l=cn(n[2]||""),this.b=cn(n[3]||"",!0),nn(this,n[4]),this.g=cn(n[5]||"",!0),rn(this,n[6]||"",!0),this.h=cn(n[7]||"")):(this.f=!!e,this.a=new gn(null,this.f))}function en(t,e,n){t.c=n?cn(e,!0):e,t.c&&(t.c=t.c.replace(/:$/,""))}function nn(t,e){if(e){if(e=Number(e),isNaN(e)||0>e)throw Error("Bad port number "+e);t.i=e}else t.i=null}function rn(t,e,n){e instanceof gn?(t.a=e,Cn(t.a,t.f)):(n||(e=ln(e,vn)),t.a=new gn(e,t.f))}function on(t,e,n){t.a.set(e,n)}function an(t,e){return t.a.get(e)}function sn(t){return t instanceof tn?new tn(t):new tn(t,void 0)}function un(t,e){var n=new tn(null,void 0);return en(n,"https"),t&&(n.b=t),e&&(n.g=e),n}function cn(t,e){return t?e?decodeURI(t.replace(/%25/g,"%2525")):decodeURIComponent(t):""}function ln(t,e,n){return r(t)?(t=encodeURI(t).replace(e,hn),n&&(t=t.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),t):null}function hn(t){return t=t.charCodeAt(0),"%"+(t>>4&15).toString(16)+(15&t).toString(16)}tn.prototype.toString=function(){var t=[],e=this.c;e&&t.push(ln(e,fn,!0),":");var n=this.b;return(n||"file"==e)&&(t.push("//"),(e=this.l)&&t.push(ln(e,fn,!0),"@"),t.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),n=this.i,null!=n&&t.push(":",String(n))),(n=this.g)&&(this.b&&"/"!=n.charAt(0)&&t.push("/"),t.push(ln(n,"/"==n.charAt(0)?pn:dn,!0))),(n=this.a.toString())&&t.push("?",n),(n=this.h)&&t.push("#",ln(n,mn)),t.join("")};var fn=/[#\/\?@]/g,dn=/[#\?:]/g,pn=/[#\?]/g,vn=/[#\?@]/g,mn=/#/g;function gn(t,e){this.b=this.a=null,this.c=t||null,this.f=!!e}function _n(t){t.a||(t.a=new Qe,t.b=0,t.c&&Ze(t.c,function(e,n){t.add(decodeURIComponent(e.replace(/\+/g," ")),n)}))}function yn(t){var e=Ge(t);if("undefined"==typeof e)throw Error("Keys are undefined");var n=new gn(null,void 0);t=ze(t);for(var i=0;i<e.length;i++){var r=e[i],o=t[i];c(o)?kn(n,r,o):n.add(r,o)}return n}function bn(t,e){_n(t),e=En(t,e),Ye(t.a.b,e)&&(t.c=null,t.b-=t.a.get(e).length,t=t.a,Ye(t.b,e)&&(delete t.b[e],t.c--,t.a.length>2*t.c&&Xe(t)))}function wn(t,e){return _n(t),e=En(t,e),Ye(t.a.b,e)}function kn(t,e,n){bn(t,e),0<n.length&&(t.c=null,t.a.set(En(t,e),$(n)),t.b+=n.length)}function En(t,e){return e=String(e),t.f&&(e=e.toLowerCase()),e}function Cn(t,e){e&&!t.f&&(_n(t),t.c=null,t.a.forEach(function(t,e){var n=e.toLowerCase();e!=n&&(bn(this,e),kn(this,n,t))},t)),t.f=e}t=gn.prototype,t.add=function(t,e){_n(this),this.c=null,t=En(this,t);var n=this.a.get(t);return n||this.a.set(t,n=[]),n.push(e),this.b+=1,this},t.clear=function(){this.a=this.c=null,this.b=0},t.forEach=function(t,e){_n(this),this.a.forEach(function(n,i){L(n,function(n){t.call(e,n,i,this)},this)},this)},t.U=function(){_n(this);for(var t=this.a.S(),e=this.a.U(),n=[],i=0;i<e.length;i++)for(var r=t[i],o=0;o<r.length;o++)n.push(e[i]);return n},t.S=function(t){_n(this);var e=[];if(r(t))wn(this,t)&&(e=U(e,this.a.get(En(this,t))));else{t=this.a.S();for(var n=0;n<t.length;n++)e=U(e,t[n])}return e},t.set=function(t,e){return _n(this),this.c=null,t=En(this,t),wn(this,t)&&(this.b-=this.a.get(t).length),this.a.set(t,[e]),this.b+=1,this},t.get=function(t,e){return t=t?this.S(t):[],0<t.length?String(t[0]):e},t.toString=function(){if(this.c)return this.c;if(!this.a)return"";for(var t=[],e=this.a.U(),n=0;n<e.length;n++){var i=e[n],r=encodeURIComponent(String(i));i=this.S(i);for(var o=0;o<i.length;o++){var a=r;""!==i[o]&&(a+="="+encodeURIComponent(String(i[o]))),t.push(a)}}return this.c=t.join("&")};var Sn=!Jt||9<=Number(se);function An(){this.a="",this.b=On}function Tn(t){return t instanceof An&&t.constructor===An&&t.b===On?t.a:(S("expected object of type Const, got '"+t+"'"),"type_error:Const")}An.prototype.na=!0,An.prototype.ma=function(){return this.a},An.prototype.toString=function(){return"Const{"+this.a+"}"};var On={};function xn(t){var e=new An;return e.a=t,e}function Pn(){this.a="",this.b=Rn}function In(t){return t instanceof Pn&&t.constructor===Pn&&t.b===Rn?t.a:(S("expected object of type TrustedResourceUrl, got '"+t+"' of type "+s(t)),"type_error:TrustedResourceUrl")}function Nn(t,e){var n=Tn(t);if(!Dn.test(n))throw Error("Invalid TrustedResourceUrl format: "+n);return t=n.replace(Ln,function(t,i){if(!Object.prototype.hasOwnProperty.call(e,i))throw Error('Found marker, "'+i+'", in format string, "'+n+'", but no valid label mapping found in args: '+JSON.stringify(e));return t=e[i],t instanceof An?Tn(t):encodeURIComponent(String(t))}),Mn(t)}xn(""),Pn.prototype.na=!0,Pn.prototype.ma=function(){return this.a},Pn.prototype.toString=function(){return"TrustedResourceUrl{"+this.a+"}"};var Ln=/%{(\w+)}/g,Dn=/^(?:https:)?\/\/[0-9a-z.:[\]-]+\/|^\/[^\/\\]|^about:blank#/i,Rn={};function Mn(t){var e=new Pn;return e.a=t,e}function jn(){this.a="",this.b=Un}function Fn(t){return t instanceof jn&&t.constructor===jn&&t.b===Un?t.a:(S("expected object of type SafeUrl, got '"+t+"' of type "+s(t)),"type_error:SafeUrl")}jn.prototype.na=!0,jn.prototype.ma=function(){return this.a},jn.prototype.toString=function(){return"SafeUrl{"+this.a+"}"};var Bn=/^(?:(?:https?|mailto|ftp):|[^:\/?#]*(?:[\/?#]|$))/i;function qn(t){return t instanceof jn?t:(t=t.na?t.ma():String(t),Bn.test(t)||(t="about:invalid#zClosurez"),$n(t))}var Un={};function $n(t){var e=new jn;return e.a=t,e}function Vn(){this.a="",this.b=Wn}function Hn(t){return t instanceof Vn&&t.constructor===Vn&&t.b===Wn?t.a:(S("expected object of type SafeHtml, got '"+t+"' of type "+s(t)),"type_error:SafeHtml")}$n("about:blank"),Vn.prototype.na=!0,Vn.prototype.ma=function(){return this.a},Vn.prototype.toString=function(){return"SafeHtml{"+this.a+"}"};var Wn={};function zn(t){var e=new Vn;return e.a=t,e}function Gn(t){var e=document;return r(t)?e.getElementById(t):t}function Kn(t,e){ot(e,function(e,n){e&&e.na&&(e=e.ma()),"style"==n?t.style.cssText=e:"class"==n?t.className=e:"for"==n?t.htmlFor=e:Qn.hasOwnProperty(n)?t.setAttribute(Qn[n],e):0==n.lastIndexOf("aria-",0)||0==n.lastIndexOf("data-",0)?t.setAttribute(n,e):t[n]=e})}zn("<!DOCTYPE html>"),zn(""),zn("<br>");var Qn={cellpadding:"cellPadding",cellspacing:"cellSpacing",colspan:"colSpan",frameborder:"frameBorder",height:"height",maxlength:"maxLength",nonce:"nonce",role:"role",rowspan:"rowSpan",type:"type",usemap:"useMap",valign:"vAlign",width:"width"};function Xn(t,e,n){var i=arguments,o=document,a=String(i[0]),s=i[1];if(!Sn&&s&&(s.name||s.type)){if(a=["<",a],s.name&&a.push(' name="',W(s.name),'"'),s.type){a.push(' type="',W(s.type),'"');var u={};ht(u,s),delete u.type,s=u}a.push(">"),a=a.join("")}return a=o.createElement(a),s&&(r(s)?a.className=s:c(s)?a.className=s.join(" "):Kn(a,s)),2<i.length&&Yn(o,a,i),a}function Yn(t,e,n){function i(n){n&&e.appendChild(r(n)?t.createTextNode(n):n)}for(var o=2;o<n.length;o++){var a=n[o];!l(a)||f(a)&&0<a.nodeType?i(a):L(Jn(a)?$(a):a,i)}}function Jn(t){if(t&&"number"==typeof t.length){if(f(t))return"function"==typeof t.item||"string"==typeof t.item;if(h(t))return"function"==typeof t.item}return!1}function Zn(t){var e=[];return ei(new ti,t,e),e.join("")}function ti(){}function ei(t,e,n){if(null==e)n.push("null");else{if("object"==typeof e){if(c(e)){var i=e;e=i.length,n.push("[");for(var r="",o=0;o<e;o++)n.push(r),ei(t,i[o],n),r=",";return void n.push("]")}if(!(e instanceof String||e instanceof Number||e instanceof Boolean)){for(i in n.push("{"),r="",e)Object.prototype.hasOwnProperty.call(e,i)&&(o=e[i],"function"!=typeof o&&(n.push(r),ri(i,n),n.push(":"),ei(t,o,n),r=","));return void n.push("}")}e=e.valueOf()}switch(typeof e){case"string":ri(e,n);break;case"number":n.push(isFinite(e)&&!isNaN(e)?String(e):"null");break;case"boolean":n.push(String(e));break;case"function":n.push("null");break;default:throw Error("Unknown type: "+typeof e)}}}var ni={'"':'\\"',"\\":"\\\\","/":"\\/","\b":"\\b","\f":"\\f","\n":"\\n","\r":"\\r","\t":"\\t","\v":"\\u000b"},ii=/\uffff/.test("￿")?/[\\"\x00-\x1f\x7f-\uffff]/g:/[\\"\x00-\x1f\x7f-\xff]/g;function ri(t,e){e.push('"',t.replace(ii,function(t){var e=ni[t];return e||(e="\\u"+(65536|t.charCodeAt(0)).toString(16).substr(1),ni[t]=e),e}),'"')}function oi(){var t=xi();return Jt&&!!se&&11==se||/Edge\/\d+/.test(t)}function ai(){return n.window&&n.window.location.href||self&&self.location&&self.location.href||""}function si(t,e){e=e||n.window;var i="about:blank";t&&(i=Fn(qn(t))),e.location.href=i}function ui(t,e){var n,i=[];for(n in t)n in e?typeof t[n]!=typeof e[n]?i.push(n):"object"==typeof t[n]&&null!=t[n]&&null!=e[n]?0<ui(t[n],e[n]).length&&i.push(n):t[n]!==e[n]&&i.push(n):i.push(n);for(n in e)n in t||i.push(n);return i}function ci(){var t=xi();return t=Ai(t)!=Si?null:(t=t.match(/\sChrome\/(\d+)/i))&&2==t.length?parseInt(t[1],10):null,!(t&&30>t)&&(!Jt||!se||9<se)}function li(t){return t=(t||xi()).toLowerCase(),!!(t.match(/android/)||t.match(/webos/)||t.match(/iphone|ipad|ipod/)||t.match(/blackberry/)||t.match(/windows phone/)||t.match(/iemobile/))}function hi(t){t=t||n.window;try{t.close()}catch(e){}}function fi(t,e,n){var i=Math.floor(1e9*Math.random()).toString();e=e||500,n=n||600;var r=(window.screen.availHeight-n)/2,o=(window.screen.availWidth-e)/2;for(a in e={width:e,height:n,top:0<r?r:0,left:0<o?o:0,location:!0,resizable:!0,statusbar:!0,toolbar:!1},n=xi().toLowerCase(),i&&(e.target=i,tt(n,"crios/")&&(e.target="_blank")),Ai(xi())==Ci&&(t=t||"http://localhost",e.scrollbars=!0),n=t||"",(t=e)||(t={}),i=window,e=n instanceof jn?n:qn("undefined"!=typeof n.href?n.href:String(n)),n=t.target||n.target,r=[],t)switch(a){case"width":case"height":case"top":case"left":r.push(a+"="+t[a]);break;case"target":case"noopener":case"noreferrer":break;default:r.push(a+"="+(t[a]?1:0))}var a=r.join(",");if((rt("iPhone")&&!rt("iPod")&&!rt("iPad")||rt("iPad")||rt("iPod"))&&i.navigator&&i.navigator.standalone&&n&&"_self"!=n?(a=i.document.createElement("A"),e instanceof jn||e instanceof jn||(e=e.na?e.ma():String(e),Bn.test(e)||(e="about:invalid#zClosurez"),e=$n(e)),a.href=Fn(e),a.setAttribute("target",n),t.noreferrer&&a.setAttribute("rel","noreferrer"),t=document.createEvent("MouseEvent"),t.initMouseEvent("click",!0,!0,i,1),a.dispatchEvent(t),a={}):t.noreferrer?(a=i.open("",n,a),t=Fn(e),a&&(te&&tt(t,";")&&(t="'"+t.replace(/'/g,"%27")+"'"),a.opener=null,xn("b/12014412, meta tag with sanitized URL"),t='<meta name="referrer" content="no-referrer"><meta http-equiv="refresh" content="0; url='+W(t)+'">',t=zn(t),a.document.write(Hn(t)),a.document.close())):(a=i.open(Fn(e),n,a))&&t.noopener&&(a.opener=null),a)try{a.focus()}catch(s){}return a}function di(t){return new yt(function(e){function n(){We(2e3).then(function(){if(t&&!t.closed)return n();e()})}return n()})}var pi=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,vi=/^[^@]+@[^@]+$/;function mi(){var t=null;return new yt(function(e){"complete"==n.document.readyState?e():(t=function(){e()},Pe(window,"load",t))}).s(function(e){throw Ie(window,"load",t),e})}function gi(){return _i(void 0)?mi().then(function(){return new yt(function(t,e){var i=n.document,r=setTimeout(function(){e(Error("Cordova framework is not ready."))},1e3);i.addEventListener("deviceready",function(){clearTimeout(r),t()},!1)})}):Tt(Error("Cordova must run in an Android or iOS file scheme."))}function _i(t){return t=t||xi(),!("file:"!==Di()||!t.toLowerCase().match(/iphone|ipad|ipod|android/))}function yi(){var t=n.window;try{return!(!t||t==t.top)}catch(e){return!1}}function bi(){return"object"!==typeof n.window&&"function"===typeof n.importScripts}function wi(){return i.a.INTERNAL.hasOwnProperty("reactNative")?"ReactNative":i.a.INTERNAL.hasOwnProperty("node")?"Node":bi()?"Worker":"Browser"}function ki(){var t=wi();return"ReactNative"===t||"Node"===t}function Ei(){for(var t=50,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}var Ci="Firefox",Si="Chrome";function Ai(t){var e=t.toLowerCase();return tt(e,"opera/")||tt(e,"opr/")||tt(e,"opios/")?"Opera":tt(e,"iemobile")?"IEMobile":tt(e,"msie")||tt(e,"trident/")?"IE":tt(e,"edge/")?"Edge":tt(e,"firefox/")?Ci:tt(e,"silk/")?"Silk":tt(e,"blackberry")?"Blackberry":tt(e,"webos")?"Webos":!tt(e,"safari/")||tt(e,"chrome/")||tt(e,"crios/")||tt(e,"android")?!tt(e,"chrome/")&&!tt(e,"crios/")||tt(e,"edge/")?tt(e,"android")?"Android":(t=t.match(/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/))&&2==t.length?t[1]:"Other":Si:"Safari"}var Ti={Uc:"FirebaseCore-web",Wc:"FirebaseUI-web"};function Oi(t,e){e=e||[];var n,i=[],r={};for(n in Ti)r[Ti[n]]=!0;for(n=0;n<e.length;n++)"undefined"!==typeof r[e[n]]&&(delete r[e[n]],i.push(e[n]));return i.sort(),e=i,e.length||(e=["FirebaseCore-web"]),i=wi(),"Browser"===i?(r=xi(),i=Ai(r)):"Worker"===i&&(r=xi(),i=Ai(r)+"-"+i),i+"/JsCore/"+t+"/"+e.join(",")}function xi(){return n.navigator&&n.navigator.userAgent||""}function Pi(t,e){t=t.split("."),e=e||n;for(var i=0;i<t.length&&"object"==typeof e&&null!=e;i++)e=e[t[i]];return i!=t.length&&(e=void 0),e}function Ii(){try{var t=n.localStorage,e=Bi();if(t)return t.setItem(e,"1"),t.removeItem(e),!oi()||!!n.indexedDB}catch(i){return bi()&&!!n.indexedDB}return!1}function Ni(){return(Li()||"chrome-extension:"===Di()||_i())&&!ki()&&Ii()&&!bi()}function Li(){return"http:"===Di()||"https:"===Di()}function Di(){return n.location&&n.location.protocol||null}function Ri(t){return t=t||xi(),!li(t)&&Ai(t)!=Ci}function Mi(t){return"undefined"===typeof t?null:Zn(t)}function ji(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&null!==t[e]&&void 0!==t[e]&&(n[e]=t[e]);return n}function Fi(t){if(null!==t)return JSON.parse(t)}function Bi(t){return t||Math.floor(1e9*Math.random()).toString()}function qi(t){return t=t||xi(),"Safari"!=Ai(t)&&!t.toLowerCase().match(/iphone|ipad|ipod/)}function Ui(){var t=n.___jsl;if(t&&t.H)for(var e in t.H)if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=t.H[e].L.concat(),t.CP)for(var i=0;i<t.CP.length;i++)t.CP[i]=null}function $i(t,e){if(t>e)throw Error("Short delay should be less than long delay!");this.a=t,this.c=e,t=xi(),e=wi(),this.b=li(t)||"ReactNative"===e}function Vi(){var t=n.document;return!t||"undefined"===typeof t.visibilityState||"visible"==t.visibilityState}function Hi(){var t=n.document,e=null;return Vi()||!t?At():new yt(function(n){e=function(){Vi()&&(t.removeEventListener("visibilitychange",e,!1),n())},t.addEventListener("visibilitychange",e,!1)}).s(function(n){throw t.removeEventListener("visibilitychange",e,!1),n})}function Wi(t){try{var e=new Date(parseInt(t,10));if(!isNaN(e.getTime())&&!/[^0-9]/.test(t))return e.toUTCString()}catch(n){}return null}function zi(){return!(!Pi("fireauth.oauthhelper",n)&&!Pi("fireauth.iframe",n))}function Gi(){var t=n.navigator;return t&&t.serviceWorker&&t.serviceWorker.controller||null}function Ki(){var t=n.navigator;return t&&t.serviceWorker?At().then(function(){return t.serviceWorker.ready}).then(function(t){return t.active||null}).s(function(){return null}):At(null)}$i.prototype.get=function(){var t=n.navigator;return!t||"boolean"!==typeof t.onLine||!Li()&&"chrome-extension:"!==Di()&&"undefined"===typeof t.connection||t.onLine?this.b?this.c:this.a:Math.min(5e3,this.a)};var Qi,Xi={};function Yi(t){Xi[t]||(Xi[t]=!0,"undefined"!==typeof console&&"function"===typeof console.warn&&console.warn(t))}try{var Ji={};Object.defineProperty(Ji,"abcd",{configurable:!0,enumerable:!0,value:1}),Object.defineProperty(Ji,"abcd",{configurable:!0,enumerable:!0,value:2}),Qi=2==Ji.abcd}catch(wf){Qi=!1}function Zi(t,e,n){Qi?Object.defineProperty(t,e,{configurable:!0,enumerable:!0,value:n}):t[e]=n}function tr(t,e){if(e)for(var n in e)e.hasOwnProperty(n)&&Zi(t,n,e[n])}function er(t){var e={};return tr(e,t),e}function nr(t){var e,n={};for(e in t)t.hasOwnProperty(e)&&(n[e]=t[e]);return n}function ir(t,e){if(!e||!e.length)return!0;if(!t)return!1;for(var n=0;n<e.length;n++){var i=t[e[n]];if(void 0===i||null===i||""===i)return!1}return!0}function rr(t){var e=t;if("object"==typeof t&&null!=t)for(var n in e="length"in t?[]:{},t)Zi(e,n,rr(t[n]));return e}function or(t){var e={},n=t[sr],i=t[ur];if(t=t[cr],!t||t!=ar&&!n)throw Error("Invalid provider user info!");e[hr]=i||null,e[lr]=n||null,Zi(this,dr,t),Zi(this,fr,rr(e))}var ar="EMAIL_SIGNIN",sr="email",ur="newEmail",cr="requestType",lr="email",hr="fromEmail",fr="data",dr="operation";function pr(t,e){this.code=mr+t,this.message=e||gr[t]||""}function vr(t){var e=t&&t.code;return e?new pr(e.substring(mr.length),t.message):null}b(pr,Error),pr.prototype.C=function(){return{code:this.code,message:this.message}},pr.prototype.toJSON=function(){return this.C()};var mr="auth/",gr={"argument-error":"","app-not-authorized":"This app, identified by the domain where it's hosted, is not authorized to use Firebase Authentication with the provided API key. Review your key configuration in the Google API console.","app-not-installed":"The requested mobile application corresponding to the identifier (Android package name or iOS bundle ID) provided is not installed on this device.","captcha-check-failed":"The reCAPTCHA response token provided is either invalid, expired, already used or the domain associated with it does not match the list of whitelisted domains.","code-expired":"The SMS code has expired. Please re-send the verification code to try again.","cordova-not-ready":"Cordova framework is not ready.","cors-unsupported":"This browser is not supported.","credential-already-in-use":"This credential is already associated with a different user account.","custom-token-mismatch":"The custom token corresponds to a different audience.","requires-recent-login":"This operation is sensitive and requires recent authentication. Log in again before retrying this request.","dynamic-link-not-activated":"Please activate Dynamic Links in the Firebase Console and agree to the terms and conditions.","email-already-in-use":"The email address is already in use by another account.","expired-action-code":"The action code has expired. ","cancelled-popup-request":"This operation has been cancelled due to another conflicting popup being opened.","internal-error":"An internal error has occurred.","invalid-app-credential":"The phone verification request contains an invalid application verifier. The reCAPTCHA token response is either invalid or expired.","invalid-app-id":"The mobile app identifier is not registed for the current project.","invalid-user-token":"This user's credential isn't valid for this project. This can happen if the user's token has been tampered with, or if the user isn't for the project associated with this API key.","invalid-auth-event":"An internal error has occurred.","invalid-verification-code":"The SMS verification code used to create the phone auth credential is invalid. Please resend the verification code sms and be sure use the verification code provided by the user.","invalid-continue-uri":"The continue URL provided in the request is invalid.","invalid-cordova-configuration":"The following Cordova plugins must be installed to enable OAuth sign-in: cordova-plugin-buildinfo, cordova-universal-links-plugin, cordova-plugin-browsertab, cordova-plugin-inappbrowser and cordova-plugin-customurlscheme.","invalid-custom-token":"The custom token format is incorrect. Please check the documentation.","invalid-dynamic-link-domain":"The provided dynamic link domain is not configured or authorized for the current project.","invalid-email":"The email address is badly formatted.","invalid-api-key":"Your API key is invalid, please check you have copied it correctly.","invalid-cert-hash":"The SHA-1 certificate hash provided is invalid.","invalid-credential":"The supplied auth credential is malformed or has expired.","invalid-persistence-type":"The specified persistence type is invalid. It can only be local, session or none.","invalid-message-payload":"The email template corresponding to this action contains invalid characters in its message. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-oauth-provider":"EmailAuthProvider is not supported for this operation. This operation only supports OAuth providers.","invalid-oauth-client-id":"The OAuth client ID provided is either invalid or does not match the specified API key.","unauthorized-domain":"This domain is not authorized for OAuth operations for your Firebase project. Edit the list of authorized domains from the Firebase console.","invalid-action-code":"The action code is invalid. This can happen if the code is malformed, expired, or has already been used.","wrong-password":"The password is invalid or the user does not have a password.","invalid-phone-number":"The format of the phone number provided is incorrect. Please enter the phone number in a format that can be parsed into E.164 format. E.164 phone numbers are written in the format [+][country code][subscriber number including area code].","invalid-provider-id":"The specified provider ID is invalid.","invalid-recipient-email":"The email corresponding to this action failed to send as the provided recipient email address is invalid.","invalid-sender":"The email template corresponding to this action contains an invalid sender email or name. Please fix by going to the Auth email templates section in the Firebase Console.","invalid-verification-id":"The verification ID used to create the phone auth credential is invalid.","missing-android-pkg-name":"An Android Package Name must be provided if the Android App is required to be installed.","auth-domain-config-required":"Be sure to include authDomain when calling firebase.initializeApp(), by following the instructions in the Firebase console.","missing-app-credential":"The phone verification request is missing an application verifier assertion. A reCAPTCHA response token needs to be provided.","missing-verification-code":"The phone auth credential was created with an empty SMS verification code.","missing-continue-uri":"A continue URL must be provided in the request.","missing-iframe-start":"An internal error has occurred.","missing-ios-bundle-id":"An iOS Bundle ID must be provided if an App Store ID is provided.","missing-or-invalid-nonce":"The OIDC ID token requires a valid unhashed nonce.","missing-phone-number":"To send verification codes, provide a phone number for the recipient.","missing-verification-id":"The phone auth credential was created with an empty verification ID.","app-deleted":"This instance of FirebaseApp has been deleted.","account-exists-with-different-credential":"An account already exists with the same email address but different sign-in credentials. Sign in using a provider associated with this email address.","network-request-failed":"A network error (such as timeout, interrupted connection or unreachable host) has occurred.","no-auth-event":"An internal error has occurred.","no-such-provider":"User was not linked to an account with the given provider.","null-user":"A null user object was provided as the argument for an operation which requires a non-null user object.","operation-not-allowed":"The given sign-in provider is disabled for this Firebase project. Enable it in the Firebase console, under the sign-in method tab of the Auth section.","operation-not-supported-in-this-environment":'This operation is not supported in the environment this application is running on. "location.protocol" must be http, https or chrome-extension and web storage must be enabled.',"popup-blocked":"Unable to establish a connection with the popup. It may have been blocked by the browser.","popup-closed-by-user":"The popup has been closed by the user before finalizing the operation.","provider-already-linked":"User can only be linked to one identity for the given provider.","quota-exceeded":"The project's quota for this operation has been exceeded.","redirect-cancelled-by-user":"The redirect operation has been cancelled by the user before finalizing.","redirect-operation-pending":"A redirect sign-in operation is already pending.","rejected-credential":"The request contains malformed or mismatching credentials.",timeout:"The operation has timed out.","user-token-expired":"The user's credential is no longer valid. The user must sign in again.","too-many-requests":"We have blocked all requests from this device due to unusual activity. Try again later.","unauthorized-continue-uri":"The domain of the continue URL is not whitelisted.  Please whitelist the domain in the Firebase console.","unsupported-persistence-type":"The current environment does not support the specified persistence type.","user-cancelled":"User did not grant your application the permissions it requested.","user-not-found":"There is no user record corresponding to this identifier. The user may have been deleted.","user-disabled":"The user account has been disabled by an administrator.","user-mismatch":"The supplied credentials do not correspond to the previously signed in user.","user-signed-out":"","weak-password":"The password must be 6 characters long or more.","web-storage-unsupported":"This browser is not supported or 3rd party cookies and data may be disabled."};function _r(t){var e=t[Er];if("undefined"===typeof e)throw new pr("missing-continue-uri");if("string"!==typeof e||"string"===typeof e&&!e.length)throw new pr("invalid-continue-uri");this.h=e,this.b=this.a=null,this.g=!1;var n=t[yr];if(n&&"object"===typeof n){e=n[Ar];var i=n[Cr];if(n=n[Sr],"string"===typeof e&&e.length){if(this.a=e,"undefined"!==typeof i&&"boolean"!==typeof i)throw new pr("argument-error",Cr+" property must be a boolean when specified.");if(this.g=!!i,"undefined"!==typeof n&&("string"!==typeof n||"string"===typeof n&&!n.length))throw new pr("argument-error",Sr+" property must be a non empty string when specified.");this.b=n||null}else{if("undefined"!==typeof e)throw new pr("argument-error",Ar+" property must be a non empty string when specified.");if("undefined"!==typeof i||"undefined"!==typeof n)throw new pr("missing-android-pkg-name")}}else if("undefined"!==typeof n)throw new pr("argument-error",yr+" property must be a non null object when specified.");if(this.f=null,(e=t[kr])&&"object"===typeof e){if(e=e[Tr],"string"===typeof e&&e.length)this.f=e;else if("undefined"!==typeof e)throw new pr("argument-error",Tr+" property must be a non empty string when specified.")}else if("undefined"!==typeof e)throw new pr("argument-error",kr+" property must be a non null object when specified.");if(e=t[wr],"undefined"!==typeof e&&"boolean"!==typeof e)throw new pr("argument-error",wr+" property must be a boolean when specified.");if(this.c=!!e,t=t[br],"undefined"!==typeof t&&("string"!==typeof t||"string"===typeof t&&!t.length))throw new pr("argument-error",br+" property must be a non empty string when specified.");this.i=t||null}var yr="android",br="dynamicLinkDomain",wr="handleCodeInApp",kr="iOS",Er="url",Cr="installApp",Sr="minimumVersion",Ar="packageName",Tr="bundleId";function Or(t){var e={};for(var n in e.continueUrl=t.h,e.canHandleCodeInApp=t.c,(e.androidPackageName=t.a)&&(e.androidMinimumVersion=t.b,e.androidInstallApp=t.g),e.iOSBundleId=t.f,e.dynamicLinkDomain=t.i,e)null===e[n]&&delete e[n];return e}function xr(t){return R(t,function(t){return t=t.toString(16),1<t.length?t:"0"+t}).join("")}var Pr=null,Ir=null;function Nr(t){var e="";return Lr(t,function(t){e+=String.fromCharCode(t)}),e}function Lr(t,e){function n(e){for(;i<t.length;){var n=t.charAt(i++),r=Ir[n];if(null!=r)return r;if(!/^[\s\xa0]*$/.test(n))throw Error("Unknown base64 encoding at char: "+n)}return e}Dr();for(var i=0;;){var r=n(-1),o=n(0),a=n(64),s=n(64);if(64===s&&-1===r)break;e(r<<2|o>>4),64!=a&&(e(o<<4&240|a>>2),64!=s&&e(a<<6&192|s))}}function Dr(){if(!Pr){Pr={},Ir={};for(var t=0;65>t;t++)Pr[t]="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=".charAt(t),Ir[Pr[t]]=t,62<=t&&(Ir["ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789-_.".charAt(t)]=t)}}function Rr(t){this.c=t.sub,y(),this.a=t.provider_id||t.firebase&&t.firebase.sign_in_provider||null,this.b=!!t.is_anonymous||"anonymous"==this.a}function Mr(t){return(t=jr(t))&&t.sub&&t.iss&&t.aud&&t.exp?new Rr(t):null}function jr(t){if(!t)return null;if(t=t.split("."),3!=t.length)return null;t=t[1];for(var e=(4-t.length%4)%4,n=0;n<e;n++)t+=".";try{return JSON.parse(Nr(t))}catch(i){}return null}Rr.prototype.f=function(){return this.b};var Fr,Br={$c:{ab:"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://securetoken.googleapis.com/v1/token",id:"p"},bd:{ab:"https://staging-www.sandbox.googleapis.com/identitytoolkit/v3/relyingparty/",ib:"https://staging-securetoken.sandbox.googleapis.com/v1/token",id:"s"},cd:{ab:"https://www-googleapis-test.sandbox.google.com/identitytoolkit/v3/relyingparty/",ib:"https://test-securetoken.sandbox.googleapis.com/v1/token",id:"t"}};function qr(t){for(var e in Br)if(Br[e].id===t)return t=Br[e],{firebaseEndpoint:t.ab,secureTokenEndpoint:t.ib};return null}Fr=qr("__EID__")?"__EID__":void 0;var Ur="oauth_consumer_key oauth_nonce oauth_signature oauth_signature_method oauth_timestamp oauth_token oauth_version".split(" "),$r=["client_id","response_type","scope","redirect_uri","state"],Vr={Vc:{Ma:"locale",Ba:500,Aa:600,Na:"facebook.com",hb:$r},Xc:{Ma:null,Ba:500,Aa:620,Na:"github.com",hb:$r},Yc:{Ma:"hl",Ba:515,Aa:680,Na:"google.com",hb:$r},dd:{Ma:"lang",Ba:485,Aa:705,Na:"twitter.com",hb:Ur}};function Hr(t){for(var e in Vr)if(Vr[e].Na==t)return Vr[e];return null}function Wr(t){var e={};e["facebook.com"]=Xr,e["google.com"]=Jr,e["github.com"]=Yr,e["twitter.com"]=Zr;var n=t&&t[Gr];try{if(n)return e[n]?new e[n](t):new Qr(t);if("undefined"!==typeof t[zr])return new Kr(t)}catch(i){}return null}var zr="idToken",Gr="providerId";function Kr(t){var e=t[Gr];if(!e&&t[zr]){var n=Mr(t[zr]);n&&n.a&&(e=n.a)}if(!e)throw Error("Invalid additional user info!");"anonymous"!=e&&"custom"!=e||(e=null),n=!1,"undefined"!==typeof t.isNewUser?n=!!t.isNewUser:"identitytoolkit#SignupNewUserResponse"===t.kind&&(n=!0),Zi(this,"providerId",e),Zi(this,"isNewUser",n)}function Qr(t){Kr.call(this,t),t=Fi(t.rawUserInfo||"{}"),Zi(this,"profile",rr(t||{}))}function Xr(t){if(Qr.call(this,t),"facebook.com"!=this.providerId)throw Error("Invalid provider ID!")}function Yr(t){if(Qr.call(this,t),"github.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",this.profile&&this.profile.login||null)}function Jr(t){if(Qr.call(this,t),"google.com"!=this.providerId)throw Error("Invalid provider ID!")}function Zr(t){if(Qr.call(this,t),"twitter.com"!=this.providerId)throw Error("Invalid provider ID!");Zi(this,"username",t.screenName||null)}function to(t){this.a=sn(t)}function eo(t){var e=sn(t),n=an(e,"link"),i=an(sn(n),"link");return e=an(e,"deep_link_id"),an(sn(e),"link")||e||i||n||t}function no(t,e){return t.then(function(t){if(t[Va]){var n=Mr(t[Va]);if(!n||e!=n.c)throw new pr("user-mismatch");return t}throw new pr("user-mismatch")}).s(function(t){throw t&&t.code&&t.code==mr+"user-not-found"?new pr("user-mismatch"):t})}function io(t,e){if(!e)throw new pr("internal-error","failed to construct a credential");this.a=e,Zi(this,"providerId",t),Zi(this,"signInMethod",t)}function ro(t){return{pendingToken:t.a,requestUri:"http://localhost"}}function oo(t,e,n){if(this.a=null,e.idToken||e.accessToken)e.idToken&&Zi(this,"idToken",e.idToken),e.accessToken&&Zi(this,"accessToken",e.accessToken),e.nonce&&!e.pendingToken&&Zi(this,"nonce",e.nonce),e.pendingToken&&(this.a=e.pendingToken);else{if(!e.oauthToken||!e.oauthTokenSecret)throw new pr("internal-error","failed to construct a credential");Zi(this,"accessToken",e.oauthToken),Zi(this,"secret",e.oauthTokenSecret)}Zi(this,"providerId",t),Zi(this,"signInMethod",n)}function ao(t){var e={};return t.idToken&&(e.id_token=t.idToken),t.accessToken&&(e.access_token=t.accessToken),t.secret&&(e.oauth_token_secret=t.secret),e.providerId=t.providerId,t.nonce&&!t.a&&(e.nonce=t.nonce),e={postBody:yn(e).toString(),requestUri:"http://localhost"},t.a&&(delete e.postBody,e.pendingToken=t.a),e}function so(t,e){this.Dc=e||[],tr(this,{providerId:t,isOAuthProvider:!0}),this.yb={},this.cb=(Hr(t)||{}).Ma||null,this.$a=null}function uo(t){if("string"!==typeof t||0!=t.indexOf("saml."))throw new pr("argument-error",'SAML provider IDs must be prefixed with "saml."');so.call(this,t,[])}function co(t){so.call(this,t,$r),this.a=[]}function lo(){co.call(this,"facebook.com")}function ho(t){if(!t)throw new pr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new lo).credential(null,e)}function fo(){co.call(this,"github.com")}function po(t){if(!t)throw new pr("argument-error","credential failed: expected 1 argument (the OAuth access token).");var e=t;return f(t)&&(e=t.accessToken),(new fo).credential(null,e)}function vo(){co.call(this,"google.com"),this.ua("profile")}function mo(t,e){var n=t;return f(t)&&(n=t.idToken,e=t.accessToken),(new vo).credential(n,e)}function go(){so.call(this,"twitter.com",Ur)}function _o(t,e){var n=t;if(f(n)||(n={oauthToken:t,oauthTokenSecret:e}),!n.oauthToken||!n.oauthTokenSecret)throw new pr("argument-error","credential failed: expected 2 arguments (the OAuth access token and secret).");return new oo("twitter.com",n,"twitter.com")}function yo(t,e,n){this.a=t,this.c=e,Zi(this,"providerId","password"),Zi(this,"signInMethod",n===bo.EMAIL_LINK_SIGN_IN_METHOD?bo.EMAIL_LINK_SIGN_IN_METHOD:bo.EMAIL_PASSWORD_SIGN_IN_METHOD)}function bo(){tr(this,{providerId:"password",isOAuthProvider:!1})}function wo(t,e){if(e=ko(e),!e)throw new pr("argument-error","Invalid email link!");return new yo(t,e,bo.EMAIL_LINK_SIGN_IN_METHOD)}function ko(t){t=eo(t),t=new to(t);var e=an(t.a,"oobCode")||null;return"signIn"===(an(t.a,"mode")||null)&&e?e:null}function Eo(t){if(!(t.Ta&&t.Sa||t.Fa&&t.$))throw new pr("internal-error");this.a=t,Zi(this,"providerId","phone"),Zi(this,"signInMethod","phone")}function Co(t){return t.a.Fa&&t.a.$?{temporaryProof:t.a.Fa,phoneNumber:t.a.$}:{sessionInfo:t.a.Ta,code:t.a.Sa}}function So(t){try{this.a=t||i.a.auth()}catch(e){throw new pr("argument-error","Either an instance of firebase.auth.Auth must be passed as an argument to the firebase.auth.PhoneAuthProvider constructor, or the default firebase App instance must be initialized via firebase.initializeApp().")}tr(this,{providerId:"phone",isOAuthProvider:!1})}function Ao(t,e){if(!t)throw new pr("missing-verification-id");if(!e)throw new pr("missing-verification-code");return new Eo({Ta:t,Sa:e})}function To(t){if(t.temporaryProof&&t.phoneNumber)return new Eo({Fa:t.temporaryProof,$:t.phoneNumber});var e=t&&t.providerId;if(!e||"password"===e)return null;var n=t&&t.oauthAccessToken,i=t&&t.oauthTokenSecret,r=t&&t.nonce,o=t&&t.oauthIdToken,a=t&&t.pendingToken;try{switch(e){case"google.com":return mo(o,n);case"facebook.com":return ho(n);case"github.com":return po(n);case"twitter.com":return _o(n,i);default:return n||i||o||a?a?0==e.indexOf("saml.")?new io(e,a):new oo(e,{pendingToken:a,idToken:t.oauthIdToken,accessToken:t.oauthAccessToken},e):new co(e).credential(o,n,r):null}}catch(s){return null}}function Oo(t){if(!t.isOAuthProvider)throw new pr("invalid-oauth-provider")}function xo(t,e,n,i,r,o){if(this.b=t,this.c=e||null,this.f=n||null,this.g=i||null,this.h=o||null,this.a=r||null,!this.f&&!this.a)throw new pr("invalid-auth-event");if(this.f&&this.a)throw new pr("invalid-auth-event");if(this.f&&!this.g)throw new pr("invalid-auth-event")}function Po(t){return t=t||{},t.type?new xo(t.type,t.eventId,t.urlResponse,t.sessionId,t.error&&vr(t.error),t.postBody):null}function Io(){this.b=null,this.a=[]}b(Qr,Kr),b(Xr,Qr),b(Yr,Qr),b(Jr,Qr),b(Zr,Qr),io.prototype.la=function(t){return vs(t,ro(this))},io.prototype.b=function(t,e){var n=ro(this);return n.idToken=e,ms(t,n)},io.prototype.f=function(t,e){return no(gs(t,ro(this)),e)},io.prototype.C=function(){return{providerId:this.providerId,signInMethod:this.signInMethod,pendingToken:this.a}},oo.prototype.la=function(t){return vs(t,ao(this))},oo.prototype.b=function(t,e){var n=ao(this);return n.idToken=e,ms(t,n)},oo.prototype.f=function(t,e){var n=ao(this);return no(gs(t,n),e)},oo.prototype.C=function(){var t={providerId:this.providerId,signInMethod:this.signInMethod};return this.idToken&&(t.oauthIdToken=this.idToken),this.accessToken&&(t.oauthAccessToken=this.accessToken),this.secret&&(t.oauthTokenSecret=this.secret),this.nonce&&(t.nonce=this.nonce),this.a&&(t.pendingToken=this.a),t},so.prototype.Da=function(t){return this.yb=st(t),this},b(uo,so),b(co,so),co.prototype.ua=function(t){return F(this.a,t)||this.a.push(t),this},co.prototype.Eb=function(){return $(this.a)},co.prototype.credential=function(t,e,n){if(!t&&!e)throw new pr("argument-error","credential failed: must provide the ID token and/or the access token.");return new oo(this.providerId,{idToken:t||null,accessToken:e||null,nonce:n||null},this.providerId)},b(lo,co),Zi(lo,"PROVIDER_ID","facebook.com"),Zi(lo,"FACEBOOK_SIGN_IN_METHOD","facebook.com"),b(fo,co),Zi(fo,"PROVIDER_ID","github.com"),Zi(fo,"GITHUB_SIGN_IN_METHOD","github.com"),b(vo,co),Zi(vo,"PROVIDER_ID","google.com"),Zi(vo,"GOOGLE_SIGN_IN_METHOD","google.com"),b(go,so),Zi(go,"PROVIDER_ID","twitter.com"),Zi(go,"TWITTER_SIGN_IN_METHOD","twitter.com"),yo.prototype.la=function(t){return this.signInMethod==bo.EMAIL_LINK_SIGN_IN_METHOD?zs(t,Ss,{email:this.a,oobCode:this.c}):zs(t,$s,{email:this.a,password:this.c})},yo.prototype.b=function(t,e){return this.signInMethod==bo.EMAIL_LINK_SIGN_IN_METHOD?zs(t,As,{idToken:e,email:this.a,oobCode:this.c}):zs(t,Ms,{idToken:e,email:this.a,password:this.c})},yo.prototype.f=function(t,e){return no(this.la(t),e)},yo.prototype.C=function(){return{email:this.a,password:this.c,signInMethod:this.signInMethod}},tr(bo,{PROVIDER_ID:"password"}),tr(bo,{EMAIL_LINK_SIGN_IN_METHOD:"emailLink"}),tr(bo,{EMAIL_PASSWORD_SIGN_IN_METHOD:"password"}),Eo.prototype.la=function(t){return t.Ua(Co(this))},Eo.prototype.b=function(t,e){var n=Co(this);return n.idToken=e,zs(t,Hs,n)},Eo.prototype.f=function(t,e){var n=Co(this);return n.operation="REAUTH",t=zs(t,Ws,n),no(t,e)},Eo.prototype.C=function(){var t={providerId:"phone"};return this.a.Ta&&(t.verificationId=this.a.Ta),this.a.Sa&&(t.verificationCode=this.a.Sa),this.a.Fa&&(t.temporaryProof=this.a.Fa),this.a.$&&(t.phoneNumber=this.a.$),t},So.prototype.Ua=function(t,e){var n=this.a.b;return At(e.verify()).then(function(i){if(!r(i))throw new pr("argument-error","An implementation of firebase.auth.ApplicationVerifier.prototype.verify() must return a firebase.Promise that resolves with a string.");switch(e.type){case"recaptcha":return ls(n,{phoneNumber:t,recaptchaToken:i}).then(function(t){return"function"===typeof e.reset&&e.reset(),t},function(t){throw"function"===typeof e.reset&&e.reset(),t});default:throw new pr("argument-error",'Only firebase.auth.ApplicationVerifiers with type="recaptcha" are currently supported.')}})},tr(So,{PROVIDER_ID:"phone"}),tr(So,{PHONE_SIGN_IN_METHOD:"phone"}),xo.prototype.C=function(){return{type:this.b,eventId:this.c,urlResponse:this.f,sessionId:this.g,postBody:this.h,error:this.a&&this.a.C()}};var No,Lo=null;function Do(t){var e="unauthorized-domain",n=void 0,i=sn(t);t=i.b,i=i.c,"chrome-extension"==i?n=V("This chrome extension ID (chrome-extension://%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):"http"==i||"https"==i?n=V("This domain (%s) is not authorized to run this operation. Add it to the OAuth redirect domains list in the Firebase console -> Auth section -> Sign in method tab.",t):e="operation-not-supported-in-this-environment",pr.call(this,e,n)}function Ro(t,e,n){pr.call(this,t,n),t=e||{},t.zb&&Zi(this,"email",t.zb),t.$&&Zi(this,"phoneNumber",t.$),t.credential&&Zi(this,"credential",t.credential)}function Mo(t){if(t.code){var e=t.code||"";0==e.indexOf(mr)&&(e=e.substring(mr.length));var n={credential:To(t)};if(t.email)n.zb=t.email;else if(t.phoneNumber)n.$=t.phoneNumber;else if(!n.credential)return new pr(e,t.message||void 0);return new Ro(e,n,t.message)}return null}function jo(){}function Fo(t){return t.c||(t.c=t.b())}function Bo(){}function qo(t){if(!t.f&&"undefined"==typeof XMLHttpRequest&&"undefined"!=typeof ActiveXObject){for(var e=["MSXML2.XMLHTTP.6.0","MSXML2.XMLHTTP.3.0","MSXML2.XMLHTTP","Microsoft.XMLHTTP"],n=0;n<e.length;n++){var i=e[n];try{return new ActiveXObject(i),t.f=i}catch(r){}}throw Error("Could not create ActiveXObject. ActiveX might be disabled, or MSXML might not be installed")}return t.f}function Uo(){}function $o(){this.a=new XDomainRequest,this.readyState=0,this.onreadystatechange=null,this.responseText="",this.status=-1,this.statusText="",this.a.onload=g(this.ec,this),this.a.onerror=g(this.Fb,this),this.a.onprogress=g(this.fc,this),this.a.ontimeout=g(this.ic,this)}function Vo(t,e){t.readyState=e,t.onreadystatechange&&t.onreadystatechange()}function Ho(t,e,n){this.reset(t,e,n,void 0,void 0)}Io.prototype.subscribe=function(t){var e=this;this.a.push(t),this.b||(this.b=function(t){for(var n=0;n<e.a.length;n++)e.a[n](t)},t=Pi("universalLinks.subscribe",n),"function"===typeof t&&t(null,this.b))},Io.prototype.unsubscribe=function(t){q(this.a,function(e){return e==t})},b(Do,pr),b(Ro,pr),Ro.prototype.C=function(){var t={code:this.code,message:this.message};this.email&&(t.email=this.email),this.phoneNumber&&(t.phoneNumber=this.phoneNumber);var e=this.credential&&this.credential.C();return e&&ht(t,e),t},Ro.prototype.toJSON=function(){return this.C()},jo.prototype.c=null,b(Bo,jo),Bo.prototype.a=function(){var t=qo(this);return t?new ActiveXObject(t):new XMLHttpRequest},Bo.prototype.b=function(){var t={};return qo(this)&&(t[0]=!0,t[1]=!0),t},No=new Bo,b(Uo,jo),Uo.prototype.a=function(){var t=new XMLHttpRequest;if("withCredentials"in t)return t;if("undefined"!=typeof XDomainRequest)return new $o;throw Error("Unsupported browser")},Uo.prototype.b=function(){return{}},t=$o.prototype,t.open=function(t,e,n){if(null!=n&&!n)throw Error("Only async requests are supported.");this.a.open(t,e)},t.send=function(t){if(t){if("string"!=typeof t)throw Error("Only string data is supported");this.a.send(t)}else this.a.send()},t.abort=function(){this.a.abort()},t.setRequestHeader=function(){},t.getResponseHeader=function(t){return"content-type"==t.toLowerCase()?this.a.contentType:""},t.ec=function(){this.status=200,this.responseText=this.a.responseText,Vo(this,4)},t.Fb=function(){this.status=500,this.responseText="",Vo(this,4)},t.ic=function(){this.Fb()},t.fc=function(){this.status=200,Vo(this,1)},t.getAllResponseHeaders=function(){return"content-type: "+this.a.contentType},Ho.prototype.a=null;function Wo(t){this.f=t,this.b=this.c=this.a=null}function zo(t,e){this.name=t,this.value=e}Ho.prototype.reset=function(t,e,n,i,r){"number"==typeof r||0,i||y(),delete this.a},zo.prototype.toString=function(){return this.name};var Go=new zo("SEVERE",1e3),Ko=new zo("WARNING",900),Qo=new zo("CONFIG",700),Xo=new zo("FINE",500);function Yo(t){return t.c?t.c:t.a?Yo(t.a):(S("Root logger has no level set."),null)}Wo.prototype.log=function(t,e,n){if(t.value>=Yo(this).value)for(h(e)&&(e=e()),t=new Ho(t,String(e),this.f),n&&(t.a=n),n=this;n;)n=n.a};var Jo={},Zo=null;function ta(t){var e;if(Zo||(Zo=new Wo(""),Jo[""]=Zo,Zo.c=Qo),!(e=Jo[t])){e=new Wo(t);var n=t.lastIndexOf("."),i=t.substr(n+1);n=ta(t.substr(0,n)),n.b||(n.b={}),n.b[i]=e,e.a=n,Jo[t]=e}return e}function ea(t,e){t&&t.log(Xo,e,void 0)}function na(t){this.f=t}function ia(t){qe.call(this),this.i=t,this.readyState=ra,this.status=0,this.responseText=this.statusText="",this.onreadystatechange=null,this.g=new Headers,this.b=null,this.h="GET",this.c="",this.a=!1,this.f=ta("goog.net.FetchXmlHttp")}b(na,jo),na.prototype.a=function(){return new ia(this.f)},na.prototype.b=function(t){return function(){return t}}({}),b(ia,qe);var ra=0;function oa(t){t.onreadystatechange&&t.onreadystatechange.call(t)}function aa(t){qe.call(this),this.headers=new Qe,this.D=t||null,this.c=!1,this.w=this.a=null,this.h=this.N=this.m="",this.f=this.I=this.i=this.G=!1,this.g=0,this.u=null,this.o=sa,this.v=this.O=!1}t=ia.prototype,t.open=function(t,e){if(this.readyState!=ra)throw this.abort(),Error("Error reopening a connection");this.h=t,this.c=e,this.readyState=1,oa(this)},t.send=function(t){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.a=!0;var e={headers:this.g,method:this.h,credentials:void 0,cache:void 0};t&&(e.body=t),this.i.fetch(new Request(this.c,e)).then(this.hc.bind(this),this.Gb.bind(this))},t.abort=function(){this.responseText="",this.g=new Headers,this.status=0,1<=this.readyState&&this.a&&4!=this.readyState&&(this.readyState=4,this.a=!1,oa(this)),this.readyState=ra},t.hc=function(t){this.a&&(this.b||(this.b=t.headers,this.readyState=2,oa(this)),this.a&&(this.readyState=3,oa(this),this.a&&t.text().then(this.gc.bind(this,t),this.Gb.bind(this))))},t.gc=function(t,e){this.a&&(this.status=t.status,this.statusText=t.statusText,this.responseText=e,this.readyState=4,oa(this))},t.Gb=function(t){var e=this.f;e&&e.log(Ko,"Failed to fetch url "+this.c,t instanceof Error?t:Error(t)),this.a&&(this.readyState=4,oa(this))},t.setRequestHeader=function(t,e){this.g.append(t,e)},t.getResponseHeader=function(t){return this.b?this.b.get(t.toLowerCase())||"":((t=this.f)&&t.log(Ko,"Attempting to get response header but no headers have been received for url: "+this.c,void 0),"")},t.getAllResponseHeaders=function(){if(!this.b){var t=this.f;return t&&t.log(Ko,"Attempting to get all response headers but no headers have been received for url: "+this.c,void 0),""}t=[];for(var e=this.b.entries(),n=e.next();!n.done;)n=n.value,t.push(n[0]+": "+n[1]),n=e.next();return t.join("\r\n")},b(aa,qe);var sa="";aa.prototype.b=ta("goog.net.XhrIo");var ua=/^https?$/i,ca=["POST","PUT"];function la(t,e,i,r,o){if(t.a)throw Error("[goog.net.XhrIo] Object is active with another request="+t.m+"; newUri="+e);i=i?i.toUpperCase():"GET",t.m=e,t.h="",t.N=i,t.G=!1,t.c=!0,t.a=t.D?t.D.a():No.a(),t.w=t.D?Fo(t.D):Fo(No),t.a.onreadystatechange=g(t.Jb,t);try{ea(t.b,wa(t,"Opening Xhr")),t.I=!0,t.a.open(i,String(e),!0),t.I=!1}catch(s){return ea(t.b,wa(t,"Error opening Xhr: "+s.message)),void da(t,s)}e=r||"";var a=new Qe(t.headers);o&&Ke(o,function(t,e){a.set(e,t)}),o=j(a.U()),r=n.FormData&&e instanceof n.FormData,!F(ca,i)||o||r||a.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8"),a.forEach(function(t,e){this.a.setRequestHeader(e,t)},t),t.o&&(t.a.responseType=t.o),"withCredentials"in t.a&&t.a.withCredentials!==t.O&&(t.a.withCredentials=t.O);try{ga(t),0<t.g&&(t.v=ha(t.a),ea(t.b,wa(t,"Will abort after "+t.g+"ms if incomplete, xhr2 "+t.v)),t.v?(t.a.timeout=t.g,t.a.ontimeout=g(t.Ga,t)):t.u=He(t.Ga,t.g,t)),ea(t.b,wa(t,"Sending request")),t.i=!0,t.a.send(e),t.i=!1}catch(s){ea(t.b,wa(t,"Send error: "+s.message)),da(t,s)}}function ha(t){return Jt&&ce(9)&&"number"==typeof t.timeout&&void 0!==t.ontimeout}function fa(t){return"content-type"==t.toLowerCase()}function da(t,e){t.c=!1,t.a&&(t.f=!0,t.a.abort(),t.f=!1),t.h=e,pa(t),ma(t)}function pa(t){t.G||(t.G=!0,t.dispatchEvent("complete"),t.dispatchEvent("error"))}function va(t){if(t.c&&"undefined"!=typeof e)if(t.w[1]&&4==_a(t)&&2==ya(t))ea(t.b,wa(t,"Local request error detected and ignored"));else if(t.i&&4==_a(t))He(t.Jb,0,t);else if(t.dispatchEvent("readystatechange"),4==_a(t)){ea(t.b,wa(t,"Request complete")),t.c=!1;try{var i,r=ya(t);t:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var o=!0;break t;default:o=!1}if(!(i=o)){var a;if(a=0===r){var s=String(t.m).match(Je)[1]||null;if(!s&&n.self&&n.self.location){var u=n.self.location.protocol;s=u.substr(0,u.length-1)}a=!ua.test(s?s.toLowerCase():"")}i=a}if(i)t.dispatchEvent("complete"),t.dispatchEvent("success");else{try{var c=2<_a(t)?t.a.statusText:""}catch(l){ea(t.b,"Can not get status: "+l.message),c=""}t.h=c+" ["+ya(t)+"]",pa(t)}}finally{ma(t)}}}function ma(t,e){if(t.a){ga(t);var n=t.a,i=t.w[0]?a:null;t.a=null,t.w=null,e||t.dispatchEvent("ready");try{n.onreadystatechange=i}catch(r){(t=t.b)&&t.log(Go,"Problem encountered resetting onreadystatechange: "+r.message,void 0)}}}function ga(t){t.a&&t.v&&(t.a.ontimeout=null),t.u&&(n.clearTimeout(t.u),t.u=null)}function _a(t){return t.a?t.a.readyState:0}function ya(t){try{return 2<_a(t)?t.a.status:-1}catch(e){return-1}}function ba(t){try{return t.a?t.a.responseText:""}catch(e){return ea(t.b,"Can not get responseText: "+e.message),""}}function wa(t,e){return e+" ["+t.N+" "+t.m+" "+ya(t)+"]"}function ka(t,e){this.g=[],this.v=t,this.u=e||null,this.f=this.a=!1,this.c=void 0,this.m=this.w=this.i=!1,this.h=0,this.b=null,this.l=0}function Ea(t,e,n){t.a=!0,t.c=n,t.f=!e,Oa(t)}function Ca(t){if(t.a){if(!t.m)throw new xa(t);t.m=!1}}function Sa(t,e){Aa(t,null,e,void 0)}function Aa(t,e,n,i){t.g.push([e,n,i]),t.a&&Oa(t)}function Ta(t){return M(t.g,function(t){return h(t[1])})}function Oa(t){if(t.h&&t.a&&Ta(t)){var e=t.h,i=Na[e];i&&(n.clearTimeout(i.a),delete Na[e]),t.h=0}t.b&&(t.b.l--,delete t.b),e=t.c;for(var r=i=!1;t.g.length&&!t.i;){var o=t.g.shift(),a=o[0],s=o[1];if(o=o[2],a=t.f?s:a)try{var u=a.call(o||t.u,e);void 0!==u&&(t.f=t.f&&(u==e||u instanceof Error),t.c=e=u),(k(e)||"function"===typeof n.Promise&&e instanceof n.Promise)&&(r=!0,t.i=!0)}catch(c){e=c,t.f=!0,Ta(t)||(i=!0)}}t.c=e,r&&(u=g(t.o,t,!0),r=g(t.o,t,!1),e instanceof ka?(Aa(e,u,r),e.w=!0):e.then(u,r)),i&&(e=new Ia(e),Na[e.a]=e,t.h=e.a)}function xa(){E.call(this)}function Pa(){E.call(this)}function Ia(t){this.a=n.setTimeout(g(this.c,this),0),this.b=t}t=aa.prototype,t.Ga=function(){"undefined"!=typeof e&&this.a&&(this.h="Timed out after "+this.g+"ms, aborting",ea(this.b,wa(this,this.h)),this.dispatchEvent("timeout"),this.abort(8))},t.abort=function(){this.a&&this.c&&(ea(this.b,wa(this,"Aborting")),this.c=!1,this.f=!0,this.a.abort(),this.f=!1,this.dispatchEvent("complete"),this.dispatchEvent("abort"),ma(this))},t.va=function(){this.a&&(this.c&&(this.c=!1,this.f=!0,this.a.abort(),this.f=!1),ma(this,!0)),aa.ob.va.call(this)},t.Jb=function(){this.qa||(this.I||this.i||this.f?va(this):this.wc())},t.wc=function(){va(this)},t.getResponse=function(){try{if(!this.a)return null;if("response"in this.a)return this.a.response;switch(this.o){case sa:case"text":return this.a.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in this.a)return this.a.mozResponseArrayBuffer}var t=this.b;return t&&t.log(Go,"Response type "+this.o+" is not supported on this browser",void 0),null}catch(e){return ea(this.b,"Can not get response: "+e.message),null}},ka.prototype.cancel=function(t){if(this.a)this.c instanceof ka&&this.c.cancel();else{if(this.b){var e=this.b;delete this.b,t?e.cancel(t):(e.l--,0>=e.l&&e.cancel())}this.v?this.v.call(this.u,this):this.m=!0,this.a||(t=new Pa(this),Ca(this),Ea(this,!1,t))}},ka.prototype.o=function(t,e){this.i=!1,Ea(this,t,e)},ka.prototype.D=function(){Ca(this),Ea(this,!0,null)},ka.prototype.then=function(t,e,n){var i,r,o=new yt(function(t,e){i=t,r=e});return Aa(this,i,function(t){t instanceof Pa?o.cancel():r(t)}),o.then(t,e,n)},w(ka),b(xa,E),xa.prototype.message="Deferred has already fired",xa.prototype.name="AlreadyCalledError",b(Pa,E),Pa.prototype.message="Deferred was canceled",Pa.prototype.name="CanceledError",Ia.prototype.c=function(){throw delete Na[this.a],this.b};var Na={};function La(t){var e={},n=e.document||document,i=In(t),r=document.createElement("SCRIPT"),o={Lb:r,Ga:void 0},a=new ka(Ra,o),s=null,u=null!=e.timeout?e.timeout:5e3;return 0<u&&(s=window.setTimeout(function(){Ma(r,!0);var t=new Ba(Fa,"Timeout reached for loading script "+i);Ca(a),Ea(a,!1,t)},u),o.Ga=s),r.onload=r.onreadystatechange=function(){r.readyState&&"loaded"!=r.readyState&&"complete"!=r.readyState||(Ma(r,e.fd||!1,s),a.D())},r.onerror=function(){Ma(r,!0,s);var t=new Ba(ja,"Error while loading script "+i);Ca(a),Ea(a,!1,t)},o=e.attributes||{},ht(o,{type:"text/javascript",charset:"UTF-8"}),Kn(r,o),r.src=In(t),Da(n).appendChild(r),a}function Da(t){var e;return(e=(t||document).getElementsByTagName("HEAD"))&&0!=e.length?e[0]:t.documentElement}function Ra(){if(this&&this.Lb){var t=this.Lb;t&&"SCRIPT"==t.tagName&&Ma(t,!0,this.Ga)}}function Ma(t,e,i){null!=i&&n.clearTimeout(i),t.onload=a,t.onerror=a,t.onreadystatechange=a,e&&window.setTimeout(function(){t&&t.parentNode&&t.parentNode.removeChild(t)},0)}var ja=0,Fa=1;function Ba(t,e){var n="Jsloader error (code #"+t+")";e&&(n+=": "+e),E.call(this,n),this.code=t}function qa(t){this.f=t}function Ua(t,e,r){if(this.b=t,t=e||{},this.i=t.secureTokenEndpoint||"https://securetoken.googleapis.com/v1/token",this.l=t.secureTokenTimeout||Ha,this.f=st(t.secureTokenHeaders||Wa),this.g=t.firebaseEndpoint||"https://www.googleapis.com/identitytoolkit/v3/relyingparty/",this.h=t.firebaseTimeout||za,this.a=st(t.firebaseHeaders||Ga),r&&(this.a["X-Client-Version"]=r,this.f["X-Client-Version"]=r),r="Node"==wi(),r=n.XMLHttpRequest||r&&i.a.INTERNAL.node&&i.a.INTERNAL.node.XMLHttpRequest,!r&&!bi())throw new pr("internal-error","The XMLHttpRequest compatibility library was not found.");this.c=void 0,bi()?this.c=new na(self):ki()?this.c=new qa(r):this.c=new Uo}b(Ba,E),b(qa,jo),qa.prototype.a=function(){return new this.f},qa.prototype.b=function(){return{}};var $a,Va="idToken",Ha=new $i(3e4,6e4),Wa={"Content-Type":"application/x-www-form-urlencoded"},za=new $i(3e4,6e4),Ga={"Content-Type":"application/json"};function Ka(t,e){e?t.a["X-Firebase-Locale"]=e:delete t.a["X-Firebase-Locale"]}function Qa(t,e){e?(t.a["X-Client-Version"]=e,t.f["X-Client-Version"]=e):(delete t.a["X-Client-Version"],delete t.f["X-Client-Version"])}function Xa(t,e,n,i,r,o,a){ci()||bi()?t=g(t.o,t):($a||($a=new yt(function(t,e){Za(t,e)})),t=g(t.m,t)),t(e,n,i,r,o,a)}Ua.prototype.o=function(t,e,i,r,o,a){if(bi()&&("undefined"===typeof n.fetch||"undefined"===typeof n.Headers||"undefined"===typeof n.Request))throw new pr("operation-not-supported-in-this-environment","fetch, Headers and Request native APIs or equivalent Polyfills must be available to support HTTP requests from a Worker environment.");var s=new aa(this.c);if(a){s.g=Math.max(0,a);var u=setTimeout(function(){s.dispatchEvent("timeout")},a)}Ue(s,"complete",function(){u&&clearTimeout(u);var t=null;try{t=JSON.parse(ba(this))||null}catch(n){t=null}e&&e(t)}),$e(s,"ready",function(){u&&clearTimeout(u),Gt(this)}),$e(s,"timeout",function(){u&&clearTimeout(u),Gt(this),e&&e(null)}),la(s,t,i,r,o)};var Ya=xn("https://apis.google.com/js/client.js?onload=%{onload}"),Ja="__fcb"+Math.floor(1e6*Math.random()).toString();function Za(t,e){if(((window.gapi||{}).client||{}).request)t();else{n[Ja]=function(){((window.gapi||{}).client||{}).request?t():e(Error("CORS_UNSUPPORTED"))};var i=Nn(Ya,{onload:Ja});Sa(La(i),function(){e(Error("CORS_UNSUPPORTED"))})}}function ts(t,e){return new yt(function(n,i){"refresh_token"==e.grant_type&&e.refresh_token||"authorization_code"==e.grant_type&&e.code?Xa(t,t.i+"?key="+encodeURIComponent(t.b),function(t){t?t.error?i(Ks(t)):t.access_token&&t.refresh_token?n(t):i(new pr("internal-error")):i(new pr("network-request-failed"))},"POST",yn(e).toString(),t.f,t.l.get()):i(new pr("internal-error"))})}function es(t,e,n,i,r,o){var a=sn(t.g+e);on(a,"key",t.b),o&&on(a,"cb",y().toString());var s="GET"==n;if(s)for(var u in i)i.hasOwnProperty(u)&&on(a,u,i[u]);return new yt(function(e,o){Xa(t,a.toString(),function(t){t?t.error?o(Ks(t,r||{})):e(t):o(new pr("network-request-failed"))},n,s?void 0:Zn(ji(i)),t.a,t.h.get())})}function ns(t){if(t=t.email,!r(t)||!vi.test(t))throw new pr("invalid-email")}function is(t){"email"in t&&ns(t)}function rs(t,e){return zs(t,ks,{identifier:e,continueUri:Li()?ai():"http://localhost"}).then(function(t){return t.allProviders||[]})}function os(t,e){return zs(t,ks,{identifier:e,continueUri:Li()?ai():"http://localhost"}).then(function(t){return t.signinMethods||[]})}function as(t){return zs(t,Is,{}).then(function(t){return t.authorizedDomains||[]})}function ss(t){if(!t[Va])throw new pr("internal-error")}function us(t){if(t.phoneNumber||t.temporaryProof){if(!t.phoneNumber||!t.temporaryProof)throw new pr("internal-error")}else{if(!t.sessionInfo)throw new pr("missing-verification-id");if(!t.code)throw new pr("missing-verification-code")}}Ua.prototype.m=function(t,e,n,i,r){var o=this;$a.then(function(){window.gapi.client.setApiKey(o.b);var a=window.gapi.auth.getToken();window.gapi.auth.setToken(null),window.gapi.client.request({path:t,method:n,body:i,headers:r,authType:"none",callback:function(t){window.gapi.auth.setToken(a),e&&e(t)}})}).s(function(t){e&&e({error:{message:t&&t.message||"CORS_UNSUPPORTED"}})})},Ua.prototype.Qa=function(){return zs(this,js,{})},Ua.prototype.pb=function(t,e){return zs(this,Rs,{idToken:t,email:e})},Ua.prototype.qb=function(t,e){return zs(this,Ms,{idToken:t,password:e})};var cs={displayName:"DISPLAY_NAME",photoUrl:"PHOTO_URL"};function ls(t,e){return zs(t,Ds,e)}function hs(t,e,n){return zs(t,Cs,{idToken:e,deleteProvider:n})}function fs(t){if(!t.requestUri||!t.sessionId&&!t.postBody&&!t.pendingToken)throw new pr("internal-error")}function ds(t,e){return e.oauthIdToken&&e.providerId&&0==e.providerId.indexOf("oidc.")&&!e.pendingToken&&(t.sessionId?e.nonce=t.sessionId:t.postBody&&(t=new gn(t.postBody),wn(t,"nonce")&&(e.nonce=t.get("nonce")))),e}function ps(t){var e=null;if(t.needConfirmation?(t.code="account-exists-with-different-credential",e=Mo(t)):"FEDERATED_USER_ID_ALREADY_LINKED"==t.errorMessage?(t.code="credential-already-in-use",e=Mo(t)):"EMAIL_EXISTS"==t.errorMessage?(t.code="email-already-in-use",e=Mo(t)):t.errorMessage&&(e=Gs(t.errorMessage)),e)throw e;if(!t[Va])throw new pr("internal-error")}function vs(t,e){return e.returnIdpCredential=!0,zs(t,Fs,e)}function ms(t,e){return e.returnIdpCredential=!0,zs(t,qs,e)}function gs(t,e){return e.returnIdpCredential=!0,e.autoCreate=!1,zs(t,Bs,e)}function _s(t){if(!t.oobCode)throw new pr("invalid-action-code")}t=Ua.prototype,t.rb=function(t,e){var n={idToken:t},i=[];return ot(cs,function(t,r){var o=e[r];null===o?i.push(t):r in e&&(n[r]=o)}),i.length&&(n.deleteAttribute=i),zs(this,Rs,n)},t.kb=function(t,e){return t={requestType:"PASSWORD_RESET",email:t},ht(t,e),zs(this,Ps,t)},t.lb=function(t,e){return t={requestType:"EMAIL_SIGNIN",email:t},ht(t,e),zs(this,Os,t)},t.jb=function(t,e){return t={requestType:"VERIFY_EMAIL",idToken:t},ht(t,e),zs(this,xs,t)},t.Ua=function(t){return zs(this,Vs,t)},t.Za=function(t,e){return zs(this,Ls,{oobCode:t,newPassword:e})},t.Ja=function(t){return zs(this,bs,{oobCode:t})},t.Wa=function(t){return zs(this,ys,{oobCode:t})};var ys={endpoint:"setAccountInfo",B:_s,da:"email"},bs={endpoint:"resetPassword",B:_s,J:function(t){var e=t.requestType;if(!e||!t.email&&"EMAIL_SIGNIN"!=e)throw new pr("internal-error")}},ws={endpoint:"signupNewUser",B:function(t){if(ns(t),!t.password)throw new pr("weak-password")},J:ss,R:!0},ks={endpoint:"createAuthUri"},Es={endpoint:"deleteAccount",T:["idToken"]},Cs={endpoint:"setAccountInfo",T:["idToken","deleteProvider"],B:function(t){if(!c(t.deleteProvider))throw new pr("internal-error")}},Ss={endpoint:"emailLinkSignin",T:["email","oobCode"],B:ns,J:ss,R:!0},As={endpoint:"emailLinkSignin",T:["idToken","email","oobCode"],B:ns,J:ss,R:!0},Ts={endpoint:"getAccountInfo"},Os={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("EMAIL_SIGNIN"!=t.requestType)throw new pr("internal-error");ns(t)},da:"email"},xs={endpoint:"getOobConfirmationCode",T:["idToken","requestType"],B:function(t){if("VERIFY_EMAIL"!=t.requestType)throw new pr("internal-error")},da:"email"},Ps={endpoint:"getOobConfirmationCode",T:["requestType"],B:function(t){if("PASSWORD_RESET"!=t.requestType)throw new pr("internal-error");ns(t)},da:"email"},Is={ub:!0,endpoint:"getProjectConfig",Ib:"GET"},Ns={ub:!0,endpoint:"getRecaptchaParam",Ib:"GET",J:function(t){if(!t.recaptchaSiteKey)throw new pr("internal-error")}},Ls={endpoint:"resetPassword",B:_s,da:"email"},Ds={endpoint:"sendVerificationCode",T:["phoneNumber","recaptchaToken"],da:"sessionInfo"},Rs={endpoint:"setAccountInfo",T:["idToken"],B:is,R:!0},Ms={endpoint:"setAccountInfo",T:["idToken"],B:function(t){if(is(t),!t.password)throw new pr("weak-password")},J:ss,R:!0},js={endpoint:"signupNewUser",J:ss,R:!0},Fs={endpoint:"verifyAssertion",B:fs,Oa:ds,J:ps,R:!0},Bs={endpoint:"verifyAssertion",B:fs,Oa:ds,J:function(t){if(t.errorMessage&&"USER_NOT_FOUND"==t.errorMessage)throw new pr("user-not-found");if(t.errorMessage)throw Gs(t.errorMessage);if(!t[Va])throw new pr("internal-error")},R:!0},qs={endpoint:"verifyAssertion",B:function(t){if(fs(t),!t.idToken)throw new pr("internal-error")},Oa:ds,J:ps,R:!0},Us={endpoint:"verifyCustomToken",B:function(t){if(!t.token)throw new pr("invalid-custom-token")},J:ss,R:!0},$s={endpoint:"verifyPassword",B:function(t){if(ns(t),!t.password)throw new pr("wrong-password")},J:ss,R:!0},Vs={endpoint:"verifyPhoneNumber",B:us,J:ss},Hs={endpoint:"verifyPhoneNumber",B:function(t){if(!t.idToken)throw new pr("internal-error");us(t)},J:function(t){if(t.temporaryProof)throw t.code="credential-already-in-use",Mo(t);ss(t)}},Ws={Xb:{USER_NOT_FOUND:"user-not-found"},endpoint:"verifyPhoneNumber",B:us,J:ss};function zs(t,e,n){if(!ir(n,e.T))return Tt(new pr("internal-error"));var i,r=e.Ib||"POST";return At(n).then(e.B).then(function(){return e.R&&(n.returnSecureToken=!0),es(t,e.endpoint,r,n,e.Xb,e.ub||!1)}).then(function(t){return i=t,e.Oa?e.Oa(n,i):i}).then(e.J).then(function(){if(!e.da)return i;if(!(e.da in i))throw new pr("internal-error");return i[e.da]})}function Gs(t){return Ks({error:{errors:[{message:t}],code:400,message:t}})}function Ks(t,e){var n=(t.error&&t.error.errors&&t.error.errors[0]||{}).reason||"",i={keyInvalid:"invalid-api-key",ipRefererBlocked:"app-not-authorized"};if(n=i[n]?new pr(i[n]):null)return n;for(var r in n=t.error&&t.error.message||"",i={INVALID_CUSTOM_TOKEN:"invalid-custom-token",CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_EMAIL:"invalid-email",INVALID_PASSWORD:"wrong-password",USER_DISABLED:"user-disabled",MISSING_PASSWORD:"internal-error",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_OR_INVALID_NONCE:"missing-or-invalid-nonce",INVALID_MESSAGE_PAYLOAD:"invalid-message-payload",INVALID_RECIPIENT_EMAIL:"invalid-recipient-email",INVALID_SENDER:"invalid-sender",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",INVALID_PROVIDER_ID:"invalid-provider-id",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",CORS_UNSUPPORTED:"cors-unsupported",DYNAMIC_LINK_NOT_ACTIVATED:"dynamic-link-not-activated",INVALID_APP_ID:"invalid-app-id",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",WEAK_PASSWORD:"weak-password",OPERATION_NOT_ALLOWED:"operation-not-allowed",USER_CANCELLED:"user-cancelled",CAPTCHA_CHECK_FAILED:"captcha-check-failed",INVALID_APP_CREDENTIAL:"invalid-app-credential",INVALID_CODE:"invalid-verification-code",INVALID_PHONE_NUMBER:"invalid-phone-number",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_APP_CREDENTIAL:"missing-app-credential",MISSING_CODE:"missing-verification-code",MISSING_PHONE_NUMBER:"missing-phone-number",MISSING_SESSION_INFO:"missing-verification-id",QUOTA_EXCEEDED:"quota-exceeded",SESSION_EXPIRED:"code-expired",REJECTED_CREDENTIAL:"rejected-credential",INVALID_CONTINUE_URI:"invalid-continue-uri",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",MISSING_IOS_BUNDLE_ID:"missing-ios-bundle-id",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_DYNAMIC_LINK_DOMAIN:"invalid-dynamic-link-domain",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",INVALID_CERT_HASH:"invalid-cert-hash"},ht(i,e||{}),e=(e=n.match(/^[^\s]+\s*:\s*(.*)$/))&&1<e.length?e[1]:void 0,i)if(0===n.indexOf(r))return new pr(i[r],e);return!e&&t&&(e=Mi(t)),new pr("internal-error",e)}function Qs(t){this.b=t,this.a=null,this.fb=Xs(this)}function Xs(t){return iu().then(function(){return new yt(function(e,n){Pi("gapi.iframes.getContext")().open({where:document.body,url:t.b,messageHandlersFilter:Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"),attributes:{style:{position:"absolute",top:"-100px",width:"1px",height:"1px"}},dontclear:!0},function(i){function r(){clearTimeout(o),e()}t.a=i,t.a.restyle({setHideOnLeave:!1});var o=setTimeout(function(){n(Error("Network Error"))},eu.get());i.ping(r).then(r,function(){n(Error("Network Error"))})})})})}function Ys(t,e){return t.fb.then(function(){return new yt(function(n){t.a.send(e.type,e,n,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})})}function Js(t,e){t.fb.then(function(){t.a.register("authEvent",e,Pi("gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER"))})}var Zs=xn("https://apis.google.com/js/api.js?onload=%{onload}"),tu=new $i(3e4,6e4),eu=new $i(5e3,15e3),nu=null;function iu(){return nu||(nu=new yt(function(t,e){function i(){Ui(),Pi("gapi.load")("gapi.iframes",{callback:t,ontimeout:function(){Ui(),e(Error("Network Error"))},timeout:tu.get()})}if(Pi("gapi.iframes.Iframe"))t();else if(Pi("gapi.load"))i();else{var r="__iframefcb"+Math.floor(1e6*Math.random()).toString();n[r]=function(){Pi("gapi.load")?i():e(Error("Network Error"))},r=Nn(Zs,{onload:r}),At(La(r)).s(function(){e(Error("Network Error"))})}}).s(function(t){throw nu=null,t}))}function ru(t,e,n){this.i=t,this.g=e,this.h=n,this.f=null,this.a=un(this.i,"/__/auth/iframe"),on(this.a,"apiKey",this.g),on(this.a,"appName",this.h),this.b=null,this.c=[]}function ou(t,e,n,i,r){this.o=t,this.m=e,this.c=n,this.l=i,this.h=this.g=this.i=null,this.a=r,this.f=null}function au(t){try{return i.a.app(t).auth().ya()}catch(e){return[]}}function su(t,e,n,i,r){this.m=t,this.f=e,this.b=n,this.c=i||null,this.h=r||null,this.o=this.u=this.v=null,this.g=[],this.l=this.a=null}function uu(t){var e=ai();return as(t).then(function(t){t:{var n=sn(e),i=n.c;n=n.b;for(var r=0;r<t.length;r++){var o=t[r],a=n,s=i;if(0==o.indexOf("chrome-extension://")?a=sn(o).b==a&&"chrome-extension"==s:"http"!=s&&"https"!=s?a=!1:pi.test(o)?a=a==o:(o=o.split(".").join("\\."),a=new RegExp("^(.+\\."+o+"|"+o+")$","i").test(a)),a){t=!0;break t}}t=!1}if(!t)throw new Do(ai())})}function cu(t){return t.l?t.l:(t.l=mi().then(function(){if(!t.u){var e=t.c,n=t.h,i=au(t.b),r=new ru(t.m,t.f,t.b);r.f=e,r.b=n,r.c=$(i||[]),t.u=r.toString()}t.i=new Qs(t.u),fu(t)}),t.l)}function lu(t){return t.o||(t.v=t.c?Oi(t.c,au(t.b)):null,t.o=new Ua(t.f,qr(t.h),t.v)),t.o}function hu(t,e,n,i,r,o,a,s,u,c){return t=new ou(t,e,n,i,r),t.i=o,t.g=a,t.h=s,t.b=st(u||null),t.f=c,t.toString()}function fu(t){if(!t.i)throw Error("IfcHandler must be initialized!");Js(t.i,function(e){var n={};if(e&&e.authEvent){var i=!1;for(e=Po(e.authEvent),n=0;n<t.g.length;n++)i=t.g[n](e)||i;return n={},n.status=i?"ACK":"ERROR",At(n)}return n.status="ERROR",At(n)})}function du(t){var e={type:"webStorageSupport"};return cu(t).then(function(){return Ys(t.i,e)}).then(function(t){if(t&&t.length&&"undefined"!==typeof t[0].webStorageSupport)return t[0].webStorageSupport;throw Error()})}function pu(t){if(this.a=t||i.a.INTERNAL.reactNative&&i.a.INTERNAL.reactNative.AsyncStorage,!this.a)throw new pr("internal-error","The React Native compatibility library was not found.");this.type="asyncStorage"}function vu(t){this.b=t,this.a={},this.c=g(this.f,this)}ru.prototype.toString=function(){return this.f?on(this.a,"v",this.f):bn(this.a.a,"v"),this.b?on(this.a,"eid",this.b):bn(this.a.a,"eid"),this.c.length?on(this.a,"fw",this.c.join(",")):bn(this.a.a,"fw"),this.a.toString()},ou.prototype.toString=function(){var t=un(this.o,"/__/auth/handler");if(on(t,"apiKey",this.m),on(t,"appName",this.c),on(t,"authType",this.l),this.a.isOAuthProvider){var e=this.a;try{var n=i.a.app(this.c).auth().ea()}catch(u){n=null}for(var r in e.$a=n,on(t,"providerId",this.a.providerId),e=this.a,n=ji(e.yb),n)n[r]=n[r].toString();r=e.Dc,n=st(n);for(var o=0;o<r.length;o++){var a=r[o];a in n&&delete n[a]}e.cb&&e.$a&&!n[e.cb]&&(n[e.cb]=e.$a),at(n)||on(t,"customParameters",Mi(n))}if("function"===typeof this.a.Eb&&(e=this.a.Eb(),e.length&&on(t,"scopes",e.join(","))),this.i?on(t,"redirectUrl",this.i):bn(t.a,"redirectUrl"),this.g?on(t,"eventId",this.g):bn(t.a,"eventId"),this.h?on(t,"v",this.h):bn(t.a,"v"),this.b)for(var s in this.b)this.b.hasOwnProperty(s)&&!an(t,s)&&on(t,s,this.b[s]);return this.f?on(t,"eid",this.f):bn(t.a,"eid"),s=au(this.c),s.length&&on(t,"fw",s.join(",")),t.toString()},t=su.prototype,t.Ea=function(t,e,n){var i=new pr("popup-closed-by-user"),r=new pr("web-storage-unsupported"),o=this,a=!1;return this.ga().then(function(){du(o).then(function(n){n||(t&&hi(t),e(r),a=!0)})}).s(function(){}).then(function(){if(!a)return di(t)}).then(function(){if(!a)return We(n).then(function(){e(i)})})},t.Mb=function(){var t=xi();return!Ri(t)&&!qi(t)},t.Hb=function(){return!1},t.Cb=function(t,e,n,i,r,o,a){if(!t)return Tt(new pr("popup-blocked"));if(a&&!Ri())return this.ga().s(function(e){hi(t),r(e)}),i(),At();this.a||(this.a=uu(lu(this)));var s=this;return this.a.then(function(){var e=s.ga().s(function(e){throw hi(t),r(e),e});return i(),e}).then(function(){if(Oo(n),!a){var i=hu(s.m,s.f,s.b,e,n,null,o,s.c,void 0,s.h);si(i,t)}}).s(function(t){throw"auth/network-request-failed"==t.code&&(s.a=null),t})},t.Ca=function(t,e,n){this.a||(this.a=uu(lu(this)));var i=this;return this.a.then(function(){Oo(e);var r=hu(i.m,i.f,i.b,t,e,ai(),n,i.c,void 0,i.h);si(r)}).s(function(t){throw"auth/network-request-failed"==t.code&&(i.a=null),t})},t.ga=function(){var t=this;return cu(this).then(function(){return t.i.fb}).s(function(){throw t.a=null,new pr("network-request-failed")})},t.Qb=function(){return!0},t.wa=function(t){this.g.push(t)},t.Ka=function(t){q(this.g,function(e){return e==t})},t=pu.prototype,t.get=function(t){return At(this.a.getItem(t)).then(function(t){return t&&Fi(t)})},t.set=function(t,e){return At(this.a.setItem(t,Mi(e)))},t.P=function(t){return At(this.a.removeItem(t))},t.Y=function(){},t.ca=function(){};var mu,gu=[];function _u(){var t=bi()?self:null;if(L(gu,function(n){n.b==t&&(e=n)}),!e){var e=new vu(t);gu.push(e)}return e}function yu(t){this.a=t}function bu(t){this.c=t,this.b=!1,this.a=[]}function wu(t,e,n,i){var r,o,a,s,u=n||{},c=null;if(t.b)return Tt(Error("connection_unavailable"));var l=i?800:50,h="undefined"!==typeof MessageChannel?new MessageChannel:null;return new yt(function(n,i){h?(r=Math.floor(Math.random()*Math.pow(10,20)).toString(),h.port1.start(),a=setTimeout(function(){i(Error("unsupported_event"))},l),o=function(t){t.data.eventId===r&&("ack"===t.data.status?(clearTimeout(a),s=setTimeout(function(){i(Error("timeout"))},3e3)):"done"===t.data.status?(clearTimeout(s),"undefined"!==typeof t.data.response?n(t.data.response):i(Error("unknown_error"))):(clearTimeout(a),clearTimeout(s),i(Error("invalid_response"))))},c={messageChannel:h,onMessage:o},t.a.push(c),h.port1.addEventListener("message",o),t.c.postMessage({eventType:e,eventId:r,data:u},[h.port2])):i(Error("connection_unavailable"))}).then(function(e){return ku(t,c),e}).s(function(e){throw ku(t,c),e})}function ku(t,e){if(e){var n=e.messageChannel,i=e.onMessage;n&&(n.port1.removeEventListener("message",i),n.port1.close()),q(t.a,function(t){return t==e})}}function Eu(){if(!Tu())throw new pr("web-storage-unsupported");this.c={},this.a=[],this.b=0,this.m=n.indexedDB,this.type="indexedDB",this.g=this.l=this.f=this.i=null,this.u=!1,this.h=null;var t=this;bi()&&self?(this.l=_u(),this.l.subscribe("keyChanged",function(e,n){return Nu(t).then(function(e){return 0<e.length&&L(t.a,function(t){t(e)}),{keyProcessed:F(e,n.key)}})}),this.l.subscribe("ping",function(){return At(["keyChanged"])})):Ki().then(function(e){(t.h=e)&&(t.g=new bu(new yu(e)),wu(t.g,"ping",null,!0).then(function(e){e[0].fulfilled&&F(e[0].value,"keyChanged")&&(t.u=!0)}).s(function(){}))})}function Cu(t){return new yt(function(e,n){var i=t.m.deleteDatabase("firebaseLocalStorageDb");i.onsuccess=function(){e()},i.onerror=function(t){n(Error(t.target.error))}})}function Su(t){return new yt(function(e,n){var i=t.m.open("firebaseLocalStorageDb",1);i.onerror=function(t){try{t.preventDefault()}catch(e){}n(Error(t.target.error))},i.onupgradeneeded=function(t){t=t.target.result;try{t.createObjectStore("firebaseLocalStorage",{keyPath:"fbase_key"})}catch(e){n(e)}},i.onsuccess=function(i){i=i.target.result,i.objectStoreNames.contains("firebaseLocalStorage")?e(i):Cu(t).then(function(){return Su(t)}).then(function(t){e(t)}).s(function(t){n(t)})}})}function Au(t){return t.o||(t.o=Su(t)),t.o}function Tu(){try{return!!n.indexedDB}catch(wf){return!1}}function Ou(t){return t.objectStore("firebaseLocalStorage")}function xu(t,e){return t.transaction(["firebaseLocalStorage"],e?"readwrite":"readonly")}function Pu(t){return new yt(function(e,n){t.onsuccess=function(t){t&&t.target?e(t.target.result):e()},t.onerror=function(t){n(t.target.error)}})}function Iu(t,e){return t.g&&t.h&&Gi()===t.h?wu(t.g,"keyChanged",{key:e},t.u).then(function(){}).s(function(){}):At()}function Nu(t){return Au(t).then(function(t){var e=Ou(xu(t,!1));return e.getAll?Pu(e.getAll()):new yt(function(t,n){var i=[],r=e.openCursor();r.onsuccess=function(e){(e=e.target.result)?(i.push(e.value),e["continue"]()):t(i)},r.onerror=function(t){n(t.target.error)}})}).then(function(e){var n={},i=[];if(0==t.b){for(i=0;i<e.length;i++)n[e[i].fbase_key]=e[i].value;i=ui(t.c,n),t.c=n}return i})}function Lu(t){function e(){t.f=setTimeout(function(){t.i=Nu(t).then(function(e){0<e.length&&L(t.a,function(t){t(e)})}).then(function(){e()}).s(function(t){"STOP_EVENT"!=t.message&&e()})},800)}Du(t),e()}function Du(t){t.i&&t.i.cancel("STOP_EVENT"),t.f&&(clearTimeout(t.f),t.f=null)}function Ru(t){var e=this,n=null;this.a=[],this.type="indexedDB",this.c=t,this.b=At().then(function(){if(Tu()){var t=Bi(),i="__sak"+t;return mu||(mu=new Eu),n=mu,n.set(i,t).then(function(){return n.get(i)}).then(function(e){if(e!==t)throw Error("indexedDB not supported!");return n.P(i)}).then(function(){return n}).s(function(){return e.c})}return e.c}).then(function(t){return e.type=t.type,t.Y(function(t){L(e.a,function(e){e(t)})}),t})}function Mu(){this.a={},this.type="inMemory"}function ju(){if(!Bu()){if("Node"==wi())throw new pr("internal-error","The LocalStorage compatibility library was not found.");throw new pr("web-storage-unsupported")}this.a=Fu()||i.a.INTERNAL.node.localStorage,this.type="localStorage"}function Fu(){try{var t=n.localStorage,e=Bi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(i){return null}}function Bu(){var t="Node"==wi();if(t=Fu()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.localStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function qu(){this.type="nullStorage"}function Uu(){if(!Vu()){if("Node"==wi())throw new pr("internal-error","The SessionStorage compatibility library was not found.");throw new pr("web-storage-unsupported")}this.a=$u()||i.a.INTERNAL.node.sessionStorage,this.type="sessionStorage"}function $u(){try{var t=n.sessionStorage,e=Bi();return t&&(t.setItem(e,"1"),t.removeItem(e)),t}catch(i){return null}}function Vu(){var t="Node"==wi();if(t=$u()||t&&i.a.INTERNAL.node&&i.a.INTERNAL.node.sessionStorage,!t)return!1;try{return t.setItem("__sak","1"),t.removeItem("__sak"),!0}catch(e){return!1}}function Hu(){var t={};t.Browser=Gu,t.Node=Ku,t.ReactNative=Qu,t.Worker=Xu,this.a=t[wi()]}vu.prototype.f=function(t){var e=t.data.eventType,n=t.data.eventId,i=this.a[e];if(i&&0<i.length){t.ports[0].postMessage({status:"ack",eventId:n,eventType:e,response:null});var r=[];L(i,function(e){r.push(At().then(function(){return e(t.origin,t.data.data)}))}),Pt(r).then(function(i){var r=[];L(i,function(t){r.push({fulfilled:t.Db,value:t.value,reason:t.reason?t.reason.message:void 0})}),L(r,function(t){for(var e in t)"undefined"===typeof t[e]&&delete t[e]}),t.ports[0].postMessage({status:"done",eventId:n,eventType:e,response:r})})}},vu.prototype.subscribe=function(t,e){at(this.a)&&this.b.addEventListener("message",this.c),"undefined"===typeof this.a[t]&&(this.a[t]=[]),this.a[t].push(e)},vu.prototype.unsubscribe=function(t,e){"undefined"!==typeof this.a[t]&&e?(q(this.a[t],function(t){return t==e}),0==this.a[t].length&&delete this.a[t]):e||delete this.a[t],at(this.a)&&this.b.removeEventListener("message",this.c)},yu.prototype.postMessage=function(t,e){this.a.postMessage(t,e)},bu.prototype.close=function(){for(;0<this.a.length;)ku(this,this.a[0]);this.b=!0},t=Eu.prototype,t.set=function(t,e){var n,i=!1,r=this;return Au(this).then(function(e){return n=e,e=Ou(xu(n,!0)),Pu(e.get(t))}).then(function(o){var a=Ou(xu(n,!0));return o?(o.value=e,Pu(a.put(o))):(r.b++,i=!0,o={},o.fbase_key=t,o.value=e,Pu(a.add(o)))}).then(function(){return r.c[t]=e,Iu(r,t)}).ia(function(){i&&r.b--})},t.get=function(t){return Au(this).then(function(e){return Pu(Ou(xu(e,!1)).get(t))}).then(function(t){return t&&t.value})},t.P=function(t){var e=!1,n=this;return Au(this).then(function(i){return e=!0,n.b++,Pu(Ou(xu(i,!0))["delete"](t))}).then(function(){return delete n.c[t],Iu(n,t)}).ia(function(){e&&n.b--})},t.Y=function(t){0==this.a.length&&Lu(this),this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t}),0==this.a.length&&Du(this)},t=Ru.prototype,t.get=function(t){return this.b.then(function(e){return e.get(t)})},t.set=function(t,e){return this.b.then(function(n){return n.set(t,e)})},t.P=function(t){return this.b.then(function(e){return e.P(t)})},t.Y=function(t){this.a.push(t)},t.ca=function(t){q(this.a,function(e){return e==t})},t=Mu.prototype,t.get=function(t){return At(this.a[t])},t.set=function(t,e){return this.a[t]=e,At()},t.P=function(t){return delete this.a[t],At()},t.Y=function(){},t.ca=function(){},t=ju.prototype,t.get=function(t){var e=this;return At().then(function(){var n=e.a.getItem(t);return Fi(n)})},t.set=function(t,e){var n=this;return At().then(function(){var i=Mi(e);null===i?n.P(t):n.a.setItem(t,i)})},t.P=function(t){var e=this;return At().then(function(){e.a.removeItem(t)})},t.Y=function(t){n.window&&Te(n.window,"storage",t)},t.ca=function(t){n.window&&Ie(n.window,"storage",t)},t=qu.prototype,t.get=function(){return At(null)},t.set=function(){return At()},t.P=function(){return At()},t.Y=function(){},t.ca=function(){},t=Uu.prototype,t.get=function(t){var e=this;return At().then(function(){var n=e.a.getItem(t);return Fi(n)})},t.set=function(t,e){var n=this;return At().then(function(){var i=Mi(e);null===i?n.P(t):n.a.setItem(t,i)})},t.P=function(t){var e=this;return At().then(function(){e.a.removeItem(t)})},t.Y=function(){},t.ca=function(){};var Wu,zu,Gu={A:ju,Ra:Uu},Ku={A:ju,Ra:Uu},Qu={A:pu,Ra:qu},Xu={A:ju,Ra:qu},Yu={Zc:"local",NONE:"none",ad:"session"};function Ju(t){var e=new pr("invalid-persistence-type"),n=new pr("unsupported-persistence-type");t:{for(i in Yu)if(Yu[i]==t){var i=!0;break t}i=!1}if(!i||"string"!==typeof t)throw e;switch(wi()){case"ReactNative":if("session"===t)throw n;break;case"Node":if("none"!==t)throw n;break;default:if(!Ii()&&"none"!==t)throw n}}function Zu(){var t=!(qi(xi())||!yi()),e=Ri(),i=Ii();this.o=t,this.h=e,this.l=i,this.a={},Wu||(Wu=new Hu),t=Wu;try{this.g=!oi()&&zi()||!n.indexedDB?new t.a.A:new Ru(bi()?new Mu:new t.a.A)}catch(r){this.g=new Mu,this.h=!0}try{this.i=new t.a.Ra}catch(r){this.i=new Mu}this.m=new Mu,this.f=g(this.Pb,this),this.b={}}function tc(){return zu||(zu=new Zu),zu}function ec(t,e){switch(e){case"session":return t.i;case"none":return t.m;default:return t.g}}function nc(t,e){return"firebase:"+t.name+(e?":"+e:"")}function ic(t,e,i){var r=nc(e,i),o=ec(t,e.A);return t.get(e,i).then(function(a){var s=null;try{s=Fi(n.localStorage.getItem(r))}catch(u){}if(s&&!a)return n.localStorage.removeItem(r),t.set(e,s,i);s&&a&&"localStorage"!=o.type&&n.localStorage.removeItem(r)})}function rc(t,e,n){return n=nc(e,n),"local"==e.A&&(t.b[n]=null),ec(t,e.A).P(n)}function oc(t){ac(t),t.c=setInterval(function(){for(var e in t.a){var i=n.localStorage.getItem(e),r=t.b[e];i!=r&&(t.b[e]=i,i=new me({type:"storage",key:e,target:window,oldValue:r,newValue:i,a:!0}),t.Pb(i))}},1e3)}function ac(t){t.c&&(clearInterval(t.c),t.c=null)}function sc(t){this.a=t,this.b=tc()}t=Zu.prototype,t.get=function(t,e){return ec(this,t.A).get(nc(t,e))},t.set=function(t,e,n){var i=nc(t,n),r=this,o=ec(this,t.A);return o.set(i,e).then(function(){return o.get(i)}).then(function(e){"local"==t.A&&(r.b[i]=e)})},t.addListener=function(t,e,i){t=nc(t,e),this.l&&(this.b[t]=n.localStorage.getItem(t)),at(this.a)&&(ec(this,"local").Y(this.f),this.h||(oi()||!zi())&&n.indexedDB||!this.l||oc(this)),this.a[t]||(this.a[t]=[]),this.a[t].push(i)},t.removeListener=function(t,e,n){t=nc(t,e),this.a[t]&&(q(this.a[t],function(t){return t==n}),0==this.a[t].length&&delete this.a[t]),at(this.a)&&(ec(this,"local").ca(this.f),ac(this))},t.Pb=function(t){if(t&&t.f){var e=t.a.key;if(null==e)for(var i in this.a){var r=this.b[i];"undefined"===typeof r&&(r=null);var o=n.localStorage.getItem(i);o!==r&&(this.b[i]=o,this.Xa(i))}else if(0==e.indexOf("firebase:")&&this.a[e]){if("undefined"!==typeof t.a.a?ec(this,"local").ca(this.f):ac(this),this.o)if(i=n.localStorage.getItem(e),r=t.a.newValue,r!==i)null!==r?n.localStorage.setItem(e,r):n.localStorage.removeItem(e);else if(this.b[e]===r&&"undefined"===typeof t.a.a)return;var a=this;i=function(){"undefined"===typeof t.a.a&&a.b[e]===n.localStorage.getItem(e)||(a.b[e]=n.localStorage.getItem(e),a.Xa(e))},Jt&&se&&10==se&&n.localStorage.getItem(e)!==t.a.newValue&&t.a.newValue!==t.a.oldValue?setTimeout(i,10):i()}}else L(t,g(this.Xa,this))},t.Xa=function(t){this.a[t]&&L(this.a[t],function(t){t()})};var uc,cc={name:"authEvent",A:"local"};function lc(t){return t.b.get(cc,t.a).then(function(t){return Po(t)})}function hc(){this.a=tc()}function fc(){this.b=-1}function dc(t,e){this.b=pc,this.f=n.Uint8Array?new Uint8Array(this.b):Array(this.b),this.g=this.c=0,this.a=[],this.i=t,this.h=e,this.l=n.Int32Array?new Int32Array(64):Array(64),void 0!==uc||(uc=n.Int32Array?new Int32Array(wc):wc),this.reset()}b(dc,fc);for(var pc=64,vc=pc-1,mc=[],gc=0;gc<vc;gc++)mc[gc]=0;var _c=U(128,mc);function yc(t){for(var e=t.f,n=t.l,i=0,r=0;r<e.length;)n[i++]=e[r]<<24|e[r+1]<<16|e[r+2]<<8|e[r+3],r=4*i;for(e=16;64>e;e++){r=0|n[e-15],i=0|n[e-2];var o=(0|n[e-16])+((r>>>7|r<<25)^(r>>>18|r<<14)^r>>>3)|0,a=(0|n[e-7])+((i>>>17|i<<15)^(i>>>19|i<<13)^i>>>10)|0;n[e]=o+a|0}i=0|t.a[0],r=0|t.a[1];var s=0|t.a[2],u=0|t.a[3],c=0|t.a[4],l=0|t.a[5],h=0|t.a[6];for(o=0|t.a[7],e=0;64>e;e++){var f=((i>>>2|i<<30)^(i>>>13|i<<19)^(i>>>22|i<<10))+(i&r^i&s^r&s)|0;a=c&l^~c&h,o=o+((c>>>6|c<<26)^(c>>>11|c<<21)^(c>>>25|c<<7))|0,a=a+(0|uc[e])|0,a=o+(a+(0|n[e])|0)|0,o=h,h=l,l=c,c=u+a|0,u=s,s=r,r=i,i=a+f|0}t.a[0]=t.a[0]+i|0,t.a[1]=t.a[1]+r|0,t.a[2]=t.a[2]+s|0,t.a[3]=t.a[3]+u|0,t.a[4]=t.a[4]+c|0,t.a[5]=t.a[5]+l|0,t.a[6]=t.a[6]+h|0,t.a[7]=t.a[7]+o|0}function bc(t,e,n){void 0===n&&(n=e.length);var i=0,o=t.c;if(r(e))for(;i<n;)t.f[o++]=e.charCodeAt(i++),o==t.b&&(yc(t),o=0);else{if(!l(e))throw Error("message must be string or array");for(;i<n;){var a=e[i++];if(!("number"==typeof a&&0<=a&&255>=a&&a==(0|a)))throw Error("message must be a byte array");t.f[o++]=a,o==t.b&&(yc(t),o=0)}}t.c=o,t.g+=n}dc.prototype.reset=function(){this.g=this.c=0,this.a=n.Int32Array?new Int32Array(this.h):$(this.h)};var wc=[1116352408,1899447441,3049323471,3921009573,961987163,1508970993,2453635748,2870763221,3624381080,310598401,607225278,1426881987,1925078388,2162078206,2614888103,3248222580,3835390401,4022224774,264347078,604807628,770255983,1249150122,1555081692,1996064986,2554220882,2821834349,2952996808,3210313671,3336571891,3584528711,113926993,338241895,666307205,773529912,1294757372,1396182291,1695183700,1986661051,2177026350,2456956037,2730485921,2820302411,3259730800,3345764771,3516065817,3600352804,4094571909,275423344,430227734,506948616,659060556,883997877,958139571,1322822218,1537002063,1747873779,1955562222,2024104815,2227730452,2361852424,2428436474,2756734187,3204031479,3329325298];function kc(){dc.call(this,8,Ec)}b(kc,dc);var Ec=[1779033703,3144134277,1013904242,2773480762,1359893119,2600822924,528734635,1541459225];function Cc(t,e,n,i,r){this.m=t,this.i=e,this.l=n,this.o=i||null,this.u=r||null,this.h=e+":"+n,this.v=new hc,this.g=new sc(this.h),this.f=null,this.b=[],this.a=this.c=null}function Sc(t){return new pr("invalid-cordova-configuration",t)}function Ac(){for(var t=20,e=[];0<t;)e.push("1234567890abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ".charAt(Math.floor(62*Math.random()))),t--;return e.join("")}function Tc(t){var e=new kc;bc(e,t),t=[];var n=8*e.g;56>e.c?bc(e,_c,56-e.c):bc(e,_c,e.b-(e.c-56));for(var i=63;56<=i;i--)e.f[i]=255&n,n/=256;for(yc(e),i=n=0;i<e.i;i++)for(var r=24;0<=r;r-=8)t[n++]=e.a[i]>>r&255;return xr(t)}function Oc(t,e,i,r){var o=Ac(),a=new xo(e,r,null,o,new pr("no-auth-event")),s=Pi("BuildInfo.packageName",n);if("string"!==typeof s)throw new pr("invalid-cordova-configuration");var u=Pi("BuildInfo.displayName",n),c={};if(xi().toLowerCase().match(/iphone|ipad|ipod/))c.ibi=s;else{if(!xi().toLowerCase().match(/android/))return Tt(new pr("operation-not-supported-in-this-environment"));c.apn=s}u&&(c.appDisplayName=u),o=Tc(o),c.sessionId=o;var l=hu(t.m,t.i,t.l,e,i,null,r,t.o,c,t.u);return t.ga().then(function(){var e=t.h;return t.v.a.set(cc,a.C(),e)}).then(function(){var e=Pi("cordova.plugins.browsertab.isAvailable",n);if("function"!==typeof e)throw new pr("invalid-cordova-configuration");var i=null;e(function(e){if(e){if(i=Pi("cordova.plugins.browsertab.openUrl",n),"function"!==typeof i)throw new pr("invalid-cordova-configuration");i(l)}else{if(i=Pi("cordova.InAppBrowser.open",n),"function"!==typeof i)throw new pr("invalid-cordova-configuration");e=xi(),e=!(!e.match(/(iPad|iPhone|iPod).*OS 7_\d/i)&&!e.match(/(iPad|iPhone|iPod).*OS 8_\d/i)),t.a=i(l,e?"_blank":"_system","location=yes")}})})}function xc(t,e){for(var n=0;n<t.b.length;n++)try{t.b[n](e)}catch(i){}}function Pc(t){return t.f||(t.f=t.ga().then(function(){return new yt(function(e){function n(i){return e(i),t.Ka(n),!1}t.wa(n),Nc(t)})})),t.f}function Ic(t){var e=null;return lc(t.g).then(function(n){return e=n,n=t.g,rc(n.b,cc,n.a)}).then(function(){return e})}function Nc(t){function e(e){r=!0,o&&o.cancel(),Ic(t).then(function(n){var r=i;if(n&&e&&e.url){var o=null;r=eo(e.url),-1!=r.indexOf("/__/auth/callback")&&(o=sn(r),o=Fi(an(o,"firebaseError")||null),o=(o="object"===typeof o?vr(o):null)?new xo(n.b,n.c,null,null,o):new xo(n.b,n.c,r,n.g)),r=o||i}xc(t,r)})}var i=new xo("unknown",null,null,null,new pr("no-auth-event")),r=!1,o=We(500).then(function(){return Ic(t).then(function(){r||xc(t,i)})}),a=n.handleOpenURL;n.handleOpenURL=function(t){if(0==t.toLowerCase().indexOf(Pi("BuildInfo.packageName",n).toLowerCase()+"://")&&e({url:t}),"function"===typeof a)try{a(t)}catch(i){console.error(i)}},Lo||(Lo=new Io),Lo.subscribe(e)}function Lc(t){this.a=t,this.b=tc()}t=Cc.prototype,t.ga=function(){return this.za?this.za:this.za=gi().then(function(){if("function"!==typeof Pi("universalLinks.subscribe",n))throw Sc("cordova-universal-links-plugin-fix is not installed");if("undefined"===typeof Pi("BuildInfo.packageName",n))throw Sc("cordova-plugin-buildinfo is not installed");if("function"!==typeof Pi("cordova.plugins.browsertab.openUrl",n))throw Sc("cordova-plugin-browsertab is not installed");if("function"!==typeof Pi("cordova.InAppBrowser.open",n))throw Sc("cordova-plugin-inappbrowser is not installed")},function(){throw new pr("cordova-not-ready")})},t.Ea=function(t,e){return e(new pr("operation-not-supported-in-this-environment")),At()},t.Cb=function(){return Tt(new pr("operation-not-supported-in-this-environment"))},t.Qb=function(){return!1},t.Mb=function(){return!0},t.Hb=function(){return!0},t.Ca=function(t,e,i){if(this.c)return Tt(new pr("redirect-operation-pending"));var r=this,o=n.document,a=null,s=null,u=null,c=null;return this.c=At().then(function(){return Oo(e),Pc(r)}).then(function(){return Oc(r,t,e,i)}).then(function(){return new yt(function(t,e){s=function(){var e=Pi("cordova.plugins.browsertab.close",n);return t(),"function"===typeof e&&e(),r.a&&"function"===typeof r.a.close&&(r.a.close(),r.a=null),!1},r.wa(s),u=function(){a||(a=We(2e3).then(function(){e(new pr("redirect-cancelled-by-user"))}))},c=function(){Vi()&&u()},o.addEventListener("resume",u,!1),xi().toLowerCase().match(/android/)||o.addEventListener("visibilitychange",c,!1)}).s(function(t){return Ic(r).then(function(){throw t})})}).ia(function(){u&&o.removeEventListener("resume",u,!1),c&&o.removeEventListener("visibilitychange",c,!1),a&&a.cancel(),s&&r.Ka(s),r.c=null})},t.wa=function(t){this.b.push(t),Pc(this).s(function(e){"auth/invalid-cordova-configuration"===e.code&&(e=new xo("unknown",null,null,null,new pr("no-auth-event")),t(e))})},t.Ka=function(t){q(this.b,function(e){return e==t})};var Dc={name:"pendingRedirect",A:"session"};function Rc(t){return t.b.set(Dc,"pending",t.a)}function Mc(t){return rc(t.b,Dc,t.a)}function jc(t){return t.b.get(Dc,t.a).then(function(t){return"pending"==t})}function Fc(t,e,n){this.u=t,this.l=e,this.m=n,this.h=[],this.f=!1,this.i=g(this.bb,this),this.b=new Kc,this.o=new el,this.g=new Lc(this.l+":"+this.m),this.c={},this.c.unknown=this.b,this.c.signInViaRedirect=this.b,this.c.linkViaRedirect=this.b,this.c.reauthViaRedirect=this.b,this.c.signInViaPopup=this.o,this.c.linkViaPopup=this.o,this.c.reauthViaPopup=this.o,this.a=Bc(this.u,this.l,this.m,Fr)}function Bc(t,e,n,r){var o=i.a.SDK_VERSION||null;return _i()?new Cc(t,e,n,o,r):new su(t,e,n,o,r)}function qc(t){t.f||(t.f=!0,t.a.wa(t.i));var e=t.a;return t.a.ga().s(function(n){throw t.a==e&&t.reset(),n})}function Uc(t){t.a.Mb()&&qc(t).s(function(e){var n=new xo("unknown",null,null,null,new pr("operation-not-supported-in-this-environment"));Wc(e)&&t.bb(n)}),t.a.Hb()||Qc(t.b)}t=Fc.prototype,t.reset=function(){this.f=!1,this.a.Ka(this.i),this.a=Bc(this.u,this.l,this.m)},t.Ya=function(){this.b.Ya()},t.subscribe=function(t){if(F(this.h,t)||this.h.push(t),!this.f){var e=this;jc(this.g).then(function(t){t?Mc(e.g).then(function(){qc(e).s(function(t){var n=new xo("unknown",null,null,null,new pr("operation-not-supported-in-this-environment"));Wc(t)&&e.bb(n)})}):Uc(e)}).s(function(){Uc(e)})}},t.unsubscribe=function(t){q(this.h,function(e){return e==t})},t.bb=function(t){if(!t)throw new pr("invalid-auth-event");for(var e=!1,n=0;n<this.h.length;n++){var i=this.h[n];if(i.vb(t.b,t.c)){(e=this.c[t.b])&&e.h(t,i),e=!0;break}}return Qc(this.b),e};var $c=new $i(2e3,1e4),Vc=new $i(3e4,6e4);function Hc(t,e,n,i,r,o){return t.a.Cb(e,n,i,function(){t.f||(t.f=!0,t.a.wa(t.i))},function(){t.reset()},r,o)}function Wc(t){return!(!t||"auth/cordova-not-ready"!=t.code)}Fc.prototype.fa=function(){return this.b.fa()},Fc.prototype.Ca=function(t,e,n){var i,r=this;return Rc(this.g).then(function(){return r.a.Ca(t,e,n).s(function(t){if(Wc(t))throw new pr("operation-not-supported-in-this-environment");return i=t,Mc(r.g).then(function(){throw i})}).then(function(){return r.a.Qb()?new yt(function(){}):Mc(r.g).then(function(){return r.fa()}).then(function(){}).s(function(){})})})},Fc.prototype.Ea=function(t,e,n,i){return this.a.Ea(n,function(n){t.ha(e,null,n,i)},$c.get())};var zc={};function Gc(t,e,n){var i=e+":"+n;return zc[i]||(zc[i]=new Fc(t,e,n)),zc[i]}function Kc(){this.b=null,this.f=[],this.c=[],this.a=null,this.i=this.g=!1}function Qc(t){t.g||(t.g=!0,Zc(t,!1,null,null))}function Xc(t,e,n){n=n.xa(e.b,e.c);var i=e.f,r=e.g,o=e.h,a=!!e.b.match(/Redirect$/);n(i,r,o).then(function(e){Zc(t,a,e,null)}).s(function(e){Zc(t,a,null,e)})}function Yc(t,e){if(t.b=function(){return Tt(e)},t.c.length)for(var n=0;n<t.c.length;n++)t.c[n](e)}function Jc(t,e){if(t.b=function(){return At(e)},t.f.length)for(var n=0;n<t.f.length;n++)t.f[n](e)}function Zc(t,e,n,i){e?i?Yc(t,i):Jc(t,n):Jc(t,{user:null}),t.f=[],t.c=[]}function tl(t){var e=new pr("timeout");t.a&&t.a.cancel(),t.a=We(Vc.get()).then(function(){t.b||(t.g=!0,Zc(t,!0,null,e))})}function el(){}function nl(t,e){var n=t.c,i=t.b;e.xa(i,n)(t.f,t.g,t.h).then(function(t){e.ha(i,t,null,n)}).s(function(t){e.ha(i,null,t,n)})}function il(){this.sb=!1,Object.defineProperty(this,"appVerificationDisabled",{get:function(){return this.sb},set:function(t){this.sb=t},enumerable:!1})}function rl(t,e){this.a=e,Zi(this,"verificationId",t)}function ol(t,e,n,i){return new So(t).Ua(e,n).then(function(t){return new rl(t,i)})}function al(t){var e=jr(t);if(!(e&&e.exp&&e.auth_time&&e.iat))throw new pr("internal-error","An internal error occurred. The token obtained by Firebase appears to be malformed. Please retry the operation.");tr(this,{token:t,expirationTime:Wi(1e3*e.exp),authTime:Wi(1e3*e.auth_time),issuedAtTime:Wi(1e3*e.iat),signInProvider:e.firebase&&e.firebase.sign_in_provider?e.firebase.sign_in_provider:null,claims:e})}function sl(t,e,n){if(this.h=t,this.i=e,this.g=n,this.c=3e4,this.f=96e4,this.b=null,this.a=this.c,this.f<this.c)throw Error("Proactive refresh lower bound greater than upper bound!")}function ul(t,e){return e?(t.a=t.c,t.g()):(e=t.a,t.a*=2,t.a>t.f&&(t.a=t.f),e)}function cl(t,e){t.stop(),t.b=We(ul(t,e)).then(function(){return Hi()}).then(function(){return t.h()}).then(function(){cl(t,!0)}).s(function(e){t.i(e)&&cl(t,!1)})}function ll(t){this.f=t,this.b=this.a=null,this.c=0}function hl(t,e){var n=e[Va],i=e.refreshToken;e=dl(e.expiresIn),t.b=n,t.c=e,t.a=i}function fl(t,e){t.b=e.b,t.a=e.a,t.c=e.c}function dl(t){return y()+1e3*parseInt(t,10)}function pl(t,e){return ts(t.f,e).then(function(e){return t.b=e.access_token,t.c=dl(e.expires_in),t.a=e.refresh_token,{accessToken:t.b,expirationTime:t.c,refreshToken:t.a}}).s(function(e){throw"auth/user-token-expired"==e.code&&(t.a=null),e})}function vl(t,e){this.a=t||null,this.b=e||null,tr(this,{lastSignInTime:Wi(e||null),creationTime:Wi(t||null)})}function ml(t){return new vl(t.a,t.b)}function gl(t,e,n,i,r,o){tr(this,{uid:t,displayName:i||null,photoURL:r||null,email:n||null,phoneNumber:o||null,providerId:e})}function _l(t,e){for(var n in ve.call(this,t),e)this[n]=e[n]}function yl(t,e,n){this.G=[],this.m=t.apiKey,this.o=t.appName,this.u=t.authDomain||null,t=i.a.SDK_VERSION?Oi(i.a.SDK_VERSION):null,this.b=new Ua(this.m,qr(Fr),t),this.h=new ll(this.b),Tl(this,e[Va]),hl(this.h,e),Zi(this,"refreshToken",this.h.a),Il(this,n||{}),qe.call(this),this.I=!1,this.u&&Ni()&&(this.a=Gc(this.u,this.m,this.o)),this.N=[],this.i=null,this.w=Cl(this),this.V=g(this.Ha,this);var r=this;this.ka=null,this.ta=function(t){r.pa(t.g)},this.X=null,this.O=[],this.sa=function(t){wl(r,t.c)},this.W=null}function bl(t,e){t.X&&Ie(t.X,"languageCodeChanged",t.ta),(t.X=e)&&Te(e,"languageCodeChanged",t.ta)}function wl(t,e){t.O=e,Qa(t.b,i.a.SDK_VERSION?Oi(i.a.SDK_VERSION,t.O):null)}function kl(t,e){t.W&&Ie(t.W,"frameworkChanged",t.sa),(t.W=e)&&Te(e,"frameworkChanged",t.sa)}function El(t){try{return i.a.app(t.o).auth()}catch(e){throw new pr("internal-error","No firebase.auth.Auth instance is available for the Firebase App '"+t.o+"'!")}}function Cl(t){return new sl(function(){return t.F(!0)},function(t){return!(!t||"auth/network-request-failed"!=t.code)},function(){var e=t.h.c-y()-3e5;return 0<e?e:0})}function Sl(t){t.D||t.w.b||(t.w.start(),Ie(t,"tokenChanged",t.V),Te(t,"tokenChanged",t.V))}function Al(t){Ie(t,"tokenChanged",t.V),t.w.stop()}function Tl(t,e){t.ra=e,Zi(t,"_lat",e)}function Ol(t,e){q(t.N,function(t){return t==e})}function xl(t){for(var e=[],n=0;n<t.N.length;n++)e.push(t.N[n](t));return Pt(e).then(function(){return t})}function Pl(t){t.a&&!t.I&&(t.I=!0,t.a.subscribe(t))}function Il(t,e){tr(t,{uid:e.uid,displayName:e.displayName||null,photoURL:e.photoURL||null,email:e.email||null,emailVerified:e.emailVerified||!1,phoneNumber:e.phoneNumber||null,isAnonymous:e.isAnonymous||!1,metadata:new vl(e.createdAt,e.lastLoginAt),providerData:[]})}function Nl(){}function Ll(t){return At().then(function(){if(t.D)throw new pr("app-deleted")})}function Dl(t){return R(t.providerData,function(t){return t.providerId})}function Rl(t,e){e&&(Ml(t,e.providerId),t.providerData.push(e))}function Ml(t,e){q(t.providerData,function(t){return t.providerId==e})}function jl(t,e,n){("uid"!=e||n)&&t.hasOwnProperty(e)&&Zi(t,e,n)}function Fl(t,e){t!=e&&(tr(t,{uid:e.uid,displayName:e.displayName,photoURL:e.photoURL,email:e.email,emailVerified:e.emailVerified,phoneNumber:e.phoneNumber,isAnonymous:e.isAnonymous,providerData:[]}),e.metadata?Zi(t,"metadata",ml(e.metadata)):Zi(t,"metadata",new vl),L(e.providerData,function(e){Rl(t,e)}),fl(t.h,e.h),Zi(t,"refreshToken",t.h.a))}function Bl(t){return t.F().then(function(e){var n=t.isAnonymous;return Ul(t,e).then(function(){return n||jl(t,"isAnonymous",!1),e})})}function ql(t,e){e[Va]&&t.ra!=e[Va]&&(hl(t.h,e),t.dispatchEvent(new _l("tokenChanged")),Tl(t,e[Va]),jl(t,"refreshToken",t.h.a))}function Ul(t,e){return zs(t.b,Ts,{idToken:e}).then(g(t.xc,t))}function $l(t){return(t=t.providerUserInfo)&&t.length?R(t,function(t){return new gl(t.rawId,t.providerId,t.email,t.displayName,t.photoUrl,t.phoneNumber)}):[]}function Vl(t,e){return Bl(t).then(function(){if(F(Dl(t),e))return xl(t).then(function(){throw new pr("provider-already-linked")})})}function Hl(t,e,n){var i=To(e);return e=Wr(e),er({user:t,credential:i,additionalUserInfo:e,operationType:n})}function Wl(t,e){return ql(t,e),t.reload().then(function(){return t})}function zl(t,e,n,r,o){if(!Ni())return Tt(new pr("operation-not-supported-in-this-environment"));if(t.i&&!o)return Tt(t.i);var a=Hr(n.providerId),s=Bi(t.uid+":::"),u=null;(!Ri()||yi())&&t.u&&n.isOAuthProvider&&(u=hu(t.u,t.m,t.o,e,n,null,s,i.a.SDK_VERSION||null));var c=fi(u,a&&a.Ba,a&&a.Aa);return r=r().then(function(){if(Kl(t),!o)return t.F().then(function(){})}).then(function(){return Hc(t.a,c,e,n,s,!!u)}).then(function(){return new yt(function(n,i){t.ha(e,null,new pr("cancelled-popup-request"),t.g||null),t.f=n,t.v=i,t.g=s,t.c=t.a.Ea(t,e,c,s)})}).then(function(t){return c&&hi(c),t?er(t):null}).s(function(t){throw c&&hi(c),t}),Ql(t,r,o)}function Gl(t,e,n,i,r){if(!Ni())return Tt(new pr("operation-not-supported-in-this-environment"));if(t.i&&!r)return Tt(t.i);var o=null,a=Bi(t.uid+":::");return i=i().then(function(){if(Kl(t),!r)return t.F().then(function(){})}).then(function(){return t.aa=a,xl(t)}).then(function(e){return t.ba&&(e=t.ba,e=e.b.set(eh,t.C(),e.a)),e}).then(function(){return t.a.Ca(e,n,a)}).s(function(e){if(o=e,t.ba)return nh(t.ba);throw o}).then(function(){if(o)throw o}),Ql(t,i,r)}function Kl(t){if(!t.a||!t.I){if(t.a&&!t.I)throw new pr("internal-error");throw new pr("auth-domain-config-required")}}function Ql(t,e,n){var i=Xl(t,e,n);return t.G.push(i),i.ia(function(){B(t.G,i)}),i}function Xl(t,e,n){return t.i&&!n?(e.cancel(),Tt(t.i)):e.s(function(e){throw!e||"auth/user-disabled"!=e.code&&"auth/user-token-expired"!=e.code||(t.i||t.dispatchEvent(new _l("userInvalidated")),t.i=e),e})}function Yl(t){if(!t.apiKey)return null;var e={apiKey:t.apiKey,authDomain:t.authDomain,appName:t.appName},n={};if(!(t.stsTokenManager&&t.stsTokenManager.accessToken&&t.stsTokenManager.expirationTime))return null;n[Va]=t.stsTokenManager.accessToken,n.refreshToken=t.stsTokenManager.refreshToken||null,n.expiresIn=(t.stsTokenManager.expirationTime-y())/1e3;var i=new yl(e,n,t);return t.providerData&&L(t.providerData,function(t){t&&Rl(i,er(t))}),t.redirectEventId&&(i.aa=t.redirectEventId),i}function Jl(t,e,n,i){var r=new yl(t,e);return n&&(r.ba=n),i&&wl(r,i),r.reload().then(function(){return r})}function Zl(t,e,n,i){e=e||{apiKey:t.m,authDomain:t.u,appName:t.o};var r=t.h,o={};return o[Va]=r.b,o.refreshToken=r.a,o.expiresIn=(r.c-y())/1e3,e=new yl(e,o),n&&(e.ba=n),i&&wl(e,i),Fl(e,t),e}function th(t){this.a=t,this.b=tc()}Kc.prototype.reset=function(){this.b=null,this.a&&(this.a.cancel(),this.a=null)},Kc.prototype.h=function(t,e){if(t){this.reset(),this.g=!0;var n=t.b,i=t.c,r=t.a&&"auth/web-storage-unsupported"==t.a.code,o=t.a&&"auth/operation-not-supported-in-this-environment"==t.a.code;this.i=!(!r&&!o),"unknown"!=n||r||o?t.a?(Zc(this,!0,null,t.a),At()):e.xa(n,i)?Xc(this,t,e):Tt(new pr("invalid-auth-event")):(Zc(this,!1,null,null),At())}else Tt(new pr("invalid-auth-event"))},Kc.prototype.Ya=function(){this.g&&!this.i&&Zc(this,!1,null,null)},Kc.prototype.fa=function(){var t=this;return new yt(function(e,n){t.b?t.b().then(e,n):(t.f.push(e),t.c.push(n),tl(t))})},el.prototype.h=function(t,e){if(t){var n=t.b,i=t.c;t.a?(e.ha(t.b,null,t.a,t.c),At()):e.xa(n,i)?nl(t,e):Tt(new pr("invalid-auth-event"))}else Tt(new pr("invalid-auth-event"))},rl.prototype.confirm=function(t){return t=Ao(this.verificationId,t),this.a(t)},sl.prototype.start=function(){this.a=this.c,cl(this,!0)},sl.prototype.stop=function(){this.b&&(this.b.cancel(),this.b=null)},ll.prototype.C=function(){return{apiKey:this.f.b,refreshToken:this.a,accessToken:this.b,expirationTime:this.c}},ll.prototype.getToken=function(t){return t=!!t,this.b&&!this.a?Tt(new pr("user-token-expired")):t||!this.b||y()>this.c-3e4?this.a?pl(this,{grant_type:"refresh_token",refresh_token:this.a}):At(null):At({accessToken:this.b,expirationTime:this.c,refreshToken:this.a})},vl.prototype.C=function(){return{lastLoginAt:this.b,createdAt:this.a}},b(_l,ve),b(yl,qe),yl.prototype.pa=function(t){this.ka=t,Ka(this.b,t)},yl.prototype.ea=function(){return this.ka},yl.prototype.ya=function(){return $(this.O)},yl.prototype.Ha=function(){this.w.b&&(this.w.stop(),this.w.start())},Zi(yl.prototype,"providerId","firebase"),t=yl.prototype,t.reload=function(){var t=this;return Ql(this,Ll(this).then(function(){return Bl(t).then(function(){return xl(t)}).then(Nl)}))},t.dc=function(t){return this.F(t).then(function(t){return new al(t)})},t.F=function(t){var e=this;return Ql(this,Ll(this).then(function(){return e.h.getToken(t)}).then(function(t){if(!t)throw new pr("internal-error");return t.accessToken!=e.ra&&(Tl(e,t.accessToken),e.dispatchEvent(new _l("tokenChanged"))),jl(e,"refreshToken",t.refreshToken),t.accessToken}))},t.xc=function(t){if(t=t.users,!t||!t.length)throw new pr("internal-error");t=t[0],Il(this,{uid:t.localId,displayName:t.displayName,photoURL:t.photoUrl,email:t.email,emailVerified:!!t.emailVerified,phoneNumber:t.phoneNumber,lastLoginAt:t.lastLoginAt,createdAt:t.createdAt});for(var e=$l(t),n=0;n<e.length;n++)Rl(this,e[n]);jl(this,"isAnonymous",!(this.email&&t.passwordHash)&&!(this.providerData&&this.providerData.length))},t.gb=function(t){var e=this,n=null;return Ql(this,t.f(this.b,this.uid).then(function(t){return ql(e,t),n=Hl(e,t,"reauthenticate"),e.i=null,e.reload()}).then(function(){return n}),!0)},t.yc=function(t){return Yi("firebase.User.prototype.reauthenticateWithCredential is deprecated. Please use firebase.User.prototype.reauthenticateAndRetrieveDataWithCredential instead."),this.gb(t).then(function(){})},t.eb=function(t){var e=this,n=null;return Ql(this,Vl(this,t.providerId).then(function(){return e.F()}).then(function(n){return t.b(e.b,n)}).then(function(t){return n=Hl(e,t,"link"),Wl(e,t)}).then(function(){return n}))},t.pc=function(t){return Yi("firebase.User.prototype.linkWithCredential is deprecated. Please use firebase.User.prototype.linkAndRetrieveDataWithCredential instead."),this.eb(t).then(function(t){return t.user})},t.qc=function(t,e){var n=this;return Ql(this,Vl(this,"phone").then(function(){return ol(El(n),t,e,g(n.eb,n))}))},t.zc=function(t,e){var n=this;return Ql(this,At().then(function(){return ol(El(n),t,e,g(n.gb,n))}),!0)},t.pb=function(t){var e=this;return Ql(this,this.F().then(function(n){return e.b.pb(n,t)}).then(function(t){return ql(e,t),e.reload()}))},t.Rc=function(t){var e=this;return Ql(this,this.F().then(function(n){return t.b(e.b,n)}).then(function(t){return ql(e,t),e.reload()}))},t.qb=function(t){var e=this;return Ql(this,this.F().then(function(n){return e.b.qb(n,t)}).then(function(t){return ql(e,t),e.reload()}))},t.rb=function(t){if(void 0===t.displayName&&void 0===t.photoURL)return Ll(this);var e=this;return Ql(this,this.F().then(function(n){return e.b.rb(n,{displayName:t.displayName,photoUrl:t.photoURL})}).then(function(t){return ql(e,t),jl(e,"displayName",t.displayName||null),jl(e,"photoURL",t.photoUrl||null),L(e.providerData,function(t){"password"===t.providerId&&(Zi(t,"displayName",e.displayName),Zi(t,"photoURL",e.photoURL))}),xl(e)}).then(Nl))},t.Pc=function(t){var e=this;return Ql(this,Bl(this).then(function(n){return F(Dl(e),t)?hs(e.b,n,[t]).then(function(t){var n={};return L(t.providerUserInfo||[],function(t){n[t.providerId]=!0}),L(Dl(e),function(t){n[t]||Ml(e,t)}),n[So.PROVIDER_ID]||Zi(e,"phoneNumber",null),xl(e)}):xl(e).then(function(){throw new pr("no-such-provider")})}))},t.delete=function(){var t=this;return Ql(this,this.F().then(function(e){return zs(t.b,Es,{idToken:e})}).then(function(){t.dispatchEvent(new _l("userDeleted"))})).then(function(){for(var e=0;e<t.G.length;e++)t.G[e].cancel("app-deleted");bl(t,null),kl(t,null),t.G=[],t.D=!0,Al(t),Zi(t,"refreshToken",null),t.a&&t.a.unsubscribe(t)})},t.vb=function(t,e){return!!("linkViaPopup"==t&&(this.g||null)==e&&this.f||"reauthViaPopup"==t&&(this.g||null)==e&&this.f||"linkViaRedirect"==t&&(this.aa||null)==e||"reauthViaRedirect"==t&&(this.aa||null)==e)},t.ha=function(t,e,n,i){"linkViaPopup"!=t&&"reauthViaPopup"!=t||i!=(this.g||null)||(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"linkViaPopup"==t&&e==(this.g||null)?g(this.Ab,this):"reauthViaPopup"==t&&e==(this.g||null)?g(this.Bb,this):"linkViaRedirect"==t&&(this.aa||null)==e?g(this.Ab,this):"reauthViaRedirect"==t&&(this.aa||null)==e?g(this.Bb,this):null},t.rc=function(t){var e=this;return zl(this,"linkViaPopup",t,function(){return Vl(e,t.providerId).then(function(){return xl(e)})},!1)},t.Ac=function(t){return zl(this,"reauthViaPopup",t,function(){return At()},!0)},t.sc=function(t){var e=this;return Gl(this,"linkViaRedirect",t,function(){return Vl(e,t.providerId)},!1)},t.Bc=function(t){return Gl(this,"reauthViaRedirect",t,function(){return At()},!0)},t.Ab=function(t,e,n){var i=this;this.c&&(this.c.cancel(),this.c=null);var r=null,o=this.F().then(function(r){return ms(i.b,{requestUri:t,postBody:n,sessionId:e,idToken:r})}).then(function(t){return r=Hl(i,t,"link"),Wl(i,t)}).then(function(){return r});return Ql(this,o)},t.Bb=function(t,e,n){var i=this;this.c&&(this.c.cancel(),this.c=null);var r=null,o=At().then(function(){return no(gs(i.b,{requestUri:t,sessionId:e,postBody:n}),i.uid)}).then(function(t){return r=Hl(i,t,"reauthenticate"),ql(i,t),i.i=null,i.reload()}).then(function(){return r});return Ql(this,o,!0)},t.jb=function(t){var e=this,n=null;return Ql(this,this.F().then(function(e){return n=e,"undefined"===typeof t||at(t)?{}:Or(new _r(t))}).then(function(t){return e.b.jb(n,t)}).then(function(t){if(e.email!=t)return e.reload()}).then(function(){}))},t.toJSON=function(){return this.C()},t.C=function(){var t={uid:this.uid,displayName:this.displayName,photoURL:this.photoURL,email:this.email,emailVerified:this.emailVerified,phoneNumber:this.phoneNumber,isAnonymous:this.isAnonymous,providerData:[],apiKey:this.m,appName:this.o,authDomain:this.u,stsTokenManager:this.h.C(),redirectEventId:this.aa||null};return this.metadata&&ht(t,this.metadata.C()),L(this.providerData,function(e){t.providerData.push(nr(e))}),t};var eh={name:"redirectUser",A:"session"};function nh(t){return rc(t.b,eh,t.a)}function ih(t,e){return t.b.get(eh,t.a).then(function(t){return t&&e&&(t.authDomain=e),Yl(t||{})})}function rh(t){this.a=t,this.b=tc(),this.c=null,this.f=ah(this),this.b.addListener(uh("local"),this.a,g(this.g,this))}function oh(t,e){var n,i=[];for(n in Yu)Yu[n]!==e&&i.push(rc(t.b,uh(Yu[n]),t.a));return i.push(rc(t.b,sh,t.a)),xt(i)}function ah(t){var e=uh("local"),n=uh("session"),i=uh("none");return ic(t.b,e,t.a).then(function(){return t.b.get(n,t.a)}).then(function(r){return r?n:t.b.get(i,t.a).then(function(n){return n?i:t.b.get(e,t.a).then(function(n){return n?e:t.b.get(sh,t.a).then(function(t){return t?uh(t):e})})})}).then(function(e){return t.c=e,oh(t,e.A)}).s(function(){t.c||(t.c=e)})}rh.prototype.g=function(){var t=this,e=uh("local");dh(this,function(){return At().then(function(){return t.c&&"local"!=t.c.A?t.b.get(e,t.a):null}).then(function(n){if(n)return oh(t,"local").then(function(){t.c=e})})})};var sh={name:"persistence",A:"session"};function uh(t){return{name:"authUser",A:t}}function ch(t){return dh(t,function(){return t.b.set(sh,t.c.A,t.a)})}function lh(t,e){return dh(t,function(){return t.b.set(t.c,e.C(),t.a)})}function hh(t){return dh(t,function(){return rc(t.b,t.c,t.a)})}function fh(t,e){return dh(t,function(){return t.b.get(t.c,t.a).then(function(t){return t&&e&&(t.authDomain=e),Yl(t||{})})})}function dh(t,e){return t.f=t.f.then(e,e),t.f}function ph(t){if(this.m=!1,Zi(this,"settings",new il),Zi(this,"app",t),!Ah(this).options||!Ah(this).options.apiKey)throw new pr("invalid-api-key");t=i.a.SDK_VERSION?Oi(i.a.SDK_VERSION):null,this.b=new Ua(Ah(this).options&&Ah(this).options.apiKey,qr(Fr),t),this.N=[],this.o=[],this.I=[],this.Tb=i.a.INTERNAL.createSubscribe(g(this.mc,this)),this.O=void 0,this.Ub=i.a.INTERNAL.createSubscribe(g(this.nc,this)),wh(this,null),this.h=new rh(Ah(this).options.apiKey+":"+Ah(this).name),this.w=new th(Ah(this).options.apiKey+":"+Ah(this).name),this.V=Ih(this,Eh(this)),this.i=Ih(this,Ch(this)),this.X=!1,this.ka=g(this.Mc,this),this.Ha=g(this.Z,this),this.ra=g(this.bc,this),this.sa=g(this.jc,this),this.ta=g(this.kc,this),yh(this),this.INTERNAL={},this.INTERNAL["delete"]=g(this.delete,this),this.INTERNAL.logFramework=g(this.tc,this),this.u=0,qe.call(this),gh(this),this.G=[]}function vh(t){ve.call(this,"languageCodeChanged"),this.g=t}function mh(t){ve.call(this,"frameworkChanged"),this.c=t}function gh(t){Object.defineProperty(t,"lc",{get:function(){return this.ea()},set:function(t){this.pa(t)},enumerable:!1}),t.W=null}function _h(t){return t.Sb||Tt(new pr("auth-domain-config-required"))}function yh(t){var e=Ah(t).options.authDomain,n=Ah(t).options.apiKey;e&&Ni()&&(t.Sb=t.V.then(function(){if(!t.m){if(t.a=Gc(e,n,Ah(t).name),t.a.subscribe(t),Th(t)&&Pl(Th(t)),t.D){Pl(t.D);var i=t.D;i.pa(t.ea()),bl(i,t),i=t.D,wl(i,t.G),kl(i,t),t.D=null}return t.a}}))}function bh(t,e){var n={};return n.apiKey=Ah(t).options.apiKey,n.authDomain=Ah(t).options.authDomain,n.appName=Ah(t).name,t.V.then(function(){return Jl(n,e,t.w,t.ya())}).then(function(e){return Th(t)&&e.uid==Th(t).uid?(Fl(Th(t),e),t.Z(e)):(wh(t,e),Pl(e),t.Z(e))}).then(function(){xh(t)})}function wh(t,e){Th(t)&&(Ol(Th(t),t.Ha),Ie(Th(t),"tokenChanged",t.ra),Ie(Th(t),"userDeleted",t.sa),Ie(Th(t),"userInvalidated",t.ta),Al(Th(t))),e&&(e.N.push(t.Ha),Te(e,"tokenChanged",t.ra),Te(e,"userDeleted",t.sa),Te(e,"userInvalidated",t.ta),0<t.u&&Sl(e)),Zi(t,"currentUser",e),e&&(e.pa(t.ea()),bl(e,t),wl(e,t.G),kl(e,t))}function kh(t){var e=ih(t.w,Ah(t).options.authDomain).then(function(e){return(t.D=e)&&(e.ba=t.w),nh(t.w)});return Ih(t,e)}function Eh(t){var e=Ah(t).options.authDomain,n=kh(t).then(function(){return fh(t.h,e)}).then(function(e){return e?(e.ba=t.w,t.D&&(t.D.aa||null)==(e.aa||null)?e:e.reload().then(function(){return lh(t.h,e).then(function(){return e})}).s(function(n){return"auth/network-request-failed"==n.code?e:hh(t.h)})):null}).then(function(e){wh(t,e||null)});return Ih(t,n)}function Ch(t){return t.V.then(function(){return t.fa()}).s(function(){}).then(function(){if(!t.m)return t.ka()}).s(function(){}).then(function(){if(!t.m){t.X=!0;var e=t.h;e.b.addListener(uh("local"),e.a,t.ka)}})}function Sh(t,e){var n=null,i=null;return Ih(t,e.then(function(e){return n=To(e),i=Wr(e),bh(t,e)}).then(function(){return er({user:Th(t),credential:n,additionalUserInfo:i,operationType:"signIn"})}))}function Ah(t){return t.app}function Th(t){return t.currentUser}function Oh(t){return Th(t)&&Th(t)._lat||null}function xh(t){if(t.X){for(var e=0;e<t.o.length;e++)t.o[e]&&t.o[e](Oh(t));if(t.O!==t.getUid()&&t.I.length)for(t.O=t.getUid(),e=0;e<t.I.length;e++)t.I[e]&&t.I[e](Oh(t))}}function Ph(t,e){t.I.push(e),Ih(t,t.i.then(function(){!t.m&&F(t.I,e)&&t.O!==t.getUid()&&(t.O=t.getUid(),e(Oh(t)))}))}function Ih(t,e){return t.N.push(e),e.ia(function(){B(t.N,e)}),e}function Nh(){}function Lh(){this.a={},this.b=1e12}rh.prototype.mb=function(t){var e=null,n=this;return Ju(t),dh(this,function(){return t!=n.c.A?n.b.get(n.c,n.a).then(function(i){return e=i,oh(n,t)}).then(function(){if(n.c=uh(t),e)return n.b.set(n.c,e,n.a)}):At()})},b(ph,qe),b(vh,ve),b(mh,ve),t=ph.prototype,t.mb=function(t){return t=this.h.mb(t),Ih(this,t)},t.pa=function(t){this.W===t||this.m||(this.W=t,Ka(this.b,this.W),this.dispatchEvent(new vh(this.ea())))},t.ea=function(){return this.W},t.Sc=function(){var t=n.navigator;this.pa(t&&(t.languages&&t.languages[0]||t.language||t.userLanguage)||null)},t.tc=function(t){this.G.push(t),Qa(this.b,i.a.SDK_VERSION?Oi(i.a.SDK_VERSION,this.G):null),this.dispatchEvent(new mh(this.G))},t.ya=function(){return $(this.G)},t.toJSON=function(){return{apiKey:Ah(this).options.apiKey,authDomain:Ah(this).options.authDomain,appName:Ah(this).name,currentUser:Th(this)&&Th(this).C()}},t.vb=function(t,e){switch(t){case"unknown":case"signInViaRedirect":return!0;case"signInViaPopup":return this.g==e&&!!this.f;default:return!1}},t.ha=function(t,e,n,i){"signInViaPopup"==t&&this.g==i&&(n&&this.v?this.v(n):e&&!n&&this.f&&this.f(e),this.c&&(this.c.cancel(),this.c=null),delete this.f,delete this.v)},t.xa=function(t,e){return"signInViaRedirect"==t||"signInViaPopup"==t&&this.g==e&&this.f?g(this.ac,this):null},t.ac=function(t,e,n){var i=this;t={requestUri:t,postBody:n,sessionId:e},this.c&&(this.c.cancel(),this.c=null);var r=null,o=null,a=vs(i.b,t).then(function(t){return r=To(t),o=Wr(t),t});return t=i.V.then(function(){return a}).then(function(t){return bh(i,t)}).then(function(){return er({user:Th(i),credential:r,additionalUserInfo:o,operationType:"signIn"})}),Ih(this,t)},t.Kc=function(t){if(!Ni())return Tt(new pr("operation-not-supported-in-this-environment"));var e=this,n=Hr(t.providerId),r=Bi(),o=null;(!Ri()||yi())&&Ah(this).options.authDomain&&t.isOAuthProvider&&(o=hu(Ah(this).options.authDomain,Ah(this).options.apiKey,Ah(this).name,"signInViaPopup",t,null,r,i.a.SDK_VERSION||null));var a=fi(o,n&&n.Ba,n&&n.Aa);return n=_h(this).then(function(e){return Hc(e,a,"signInViaPopup",t,r,!!o)}).then(function(){return new yt(function(t,n){e.ha("signInViaPopup",null,new pr("cancelled-popup-request"),e.g),e.f=t,e.v=n,e.g=r,e.c=e.a.Ea(e,"signInViaPopup",a,r)})}).then(function(t){return a&&hi(a),t?er(t):null}).s(function(t){throw a&&hi(a),t}),Ih(this,n)},t.Lc=function(t){if(!Ni())return Tt(new pr("operation-not-supported-in-this-environment"));var e=this,n=_h(this).then(function(){return ch(e.h)}).then(function(){return e.a.Ca("signInViaRedirect",t)});return Ih(this,n)},t.fa=function(){if(!Ni())return Tt(new pr("operation-not-supported-in-this-environment"));var t=this,e=_h(this).then(function(){return t.a.fa()}).then(function(t){return t?er(t):null});return Ih(this,e)},t.Qc=function(t){if(!t)return Tt(new pr("null-user"));var e=this,n={};n.apiKey=Ah(this).options.apiKey,n.authDomain=Ah(this).options.authDomain,n.appName=Ah(this).name;var i=Zl(t,n,e.w,e.ya());return Ih(this,this.i.then(function(){if(Ah(e).options.apiKey!=t.m)return i.reload()}).then(function(){return Th(e)&&t.uid==Th(e).uid?(Fl(Th(e),t),e.Z(t)):(wh(e,i),Pl(i),e.Z(i))}).then(function(){xh(e)}))},t.nb=function(){var t=this,e=this.i.then(function(){return Th(t)?(wh(t,null),hh(t.h).then(function(){xh(t)})):At()});return Ih(this,e)},t.Mc=function(){var t=this;return fh(this.h,Ah(this).options.authDomain).then(function(e){if(!t.m){var n;if(n=Th(t)&&e){n=Th(t).uid;var i=e.uid;n=void 0!==n&&null!==n&&""!==n&&void 0!==i&&null!==i&&""!==i&&n==i}if(n)return Fl(Th(t),e),Th(t).F();(Th(t)||e)&&(wh(t,e),e&&(Pl(e),e.ba=t.w),t.a&&t.a.subscribe(t),xh(t))}})},t.Z=function(t){return lh(this.h,t)},t.bc=function(){xh(this),this.Z(Th(this))},t.jc=function(){this.nb()},t.kc=function(){this.nb()},t.mc=function(t){var e=this;this.addAuthTokenListener(function(){t.next(Th(e))})},t.nc=function(t){var e=this;Ph(this,function(){t.next(Th(e))})},t.vc=function(t,e,n){var r=this;return this.X&&i.a.Promise.resolve().then(function(){h(t)?t(Th(r)):h(t.next)&&t.next(Th(r))}),this.Tb(t,e,n)},t.uc=function(t,e,n){var r=this;return this.X&&i.a.Promise.resolve().then(function(){r.O=r.getUid(),h(t)?t(Th(r)):h(t.next)&&t.next(Th(r))}),this.Ub(t,e,n)},t.cc=function(t){var e=this,n=this.i.then(function(){return Th(e)?Th(e).F(t).then(function(t){return{accessToken:t}}):null});return Ih(this,n)},t.Nb=function(t){var e=this;return this.i.then(function(){return Sh(e,zs(e.b,Us,{token:t}))}).then(function(t){var n=t.user;return jl(n,"isAnonymous",!1),e.Z(n),t})},t.Ec=function(t){return Yi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithCustomToken is deprecated. Please use firebase.auth.Auth.prototype.signInWithCustomToken instead."),this.Nb(t)},t.Fc=function(t,e){return Yi("firebase.auth.Auth.prototype.signInAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.signInWithEmailAndPassword instead."),this.Ob(t,e)},t.Ob=function(t,e){var n=this;return this.i.then(function(){return Sh(n,zs(n.b,$s,{email:t,password:e}))})},t.xb=function(t,e){var n=this;return this.i.then(function(){return Sh(n,zs(n.b,ws,{email:t,password:e}))})},t.Wb=function(t,e){return Yi("firebase.auth.Auth.prototype.createUserAndRetrieveDataWithEmailAndPassword is deprecated. Please use firebase.auth.Auth.prototype.createUserWithEmailAndPassword instead."),this.xb(t,e)},t.Hc=function(t){return Yi("firebase.auth.Auth.prototype.signInWithCredential is deprecated. Please use firebase.auth.Auth.prototype.signInAndRetrieveDataWithCredential instead."),this.Pa(t).then(function(t){return t.user})},t.Pa=function(t){var e=this;return this.i.then(function(){return Sh(e,t.la(e.b))})},t.Qa=function(){var t=this;return this.i.then(function(){var e=Th(t);if(e&&e.isAnonymous){var n=er({providerId:null,isNewUser:!1});return er({user:e,credential:null,additionalUserInfo:n,operationType:"signIn"})}return Sh(t,t.b.Qa()).then(function(e){var n=e.user;return jl(n,"isAnonymous",!0),t.Z(n),e})})},t.Gc=function(){return Yi("firebase.auth.Auth.prototype.signInAnonymouslyAndRetrieveData is deprecated. Please use firebase.auth.Auth.prototype.signInAnonymously instead."),this.Qa()},t.getUid=function(){return Th(this)&&Th(this).uid||null},t.Vb=function(t){this.addAuthTokenListener(t),this.u++,0<this.u&&Th(this)&&Sl(Th(this))},t.Cc=function(t){var e=this;L(this.o,function(n){n==t&&e.u--}),0>this.u&&(this.u=0),0==this.u&&Th(this)&&Al(Th(this)),this.removeAuthTokenListener(t)},t.addAuthTokenListener=function(t){var e=this;this.o.push(t),Ih(this,this.i.then(function(){e.m||F(e.o,t)&&t(Oh(e))}))},t.removeAuthTokenListener=function(t){q(this.o,function(e){return e==t})},t.delete=function(){this.m=!0;for(var t=0;t<this.N.length;t++)this.N[t].cancel("app-deleted");return this.N=[],this.h&&(t=this.h,t.b.removeListener(uh("local"),t.a,this.ka)),this.a&&(this.a.unsubscribe(this),this.a.Ya()),i.a.Promise.resolve()},t.Zb=function(t){return Yi("firebase.auth.Auth.prototype.fetchProvidersForEmail is deprecated. Please use firebase.auth.Auth.prototype.fetchSignInMethodsForEmail instead."),Ih(this,rs(this.b,t))},t.$b=function(t){return Ih(this,os(this.b,t))},t.oc=function(t){return!!ko(t)},t.lb=function(t,e){var n=this;return Ih(this,At().then(function(){var t=new _r(e);if(!t.c)throw new pr("argument-error",wr+" must be true when sending sign in link to email");return Or(t)}).then(function(e){return n.b.lb(t,e)}).then(function(){}))},t.Tc=function(t){return this.Ja(t).then(function(t){return t.data.email})},t.Za=function(t,e){return Ih(this,this.b.Za(t,e).then(function(){}))},t.Ja=function(t){return Ih(this,this.b.Ja(t).then(function(t){return new or(t)}))},t.Wa=function(t){return Ih(this,this.b.Wa(t).then(function(){}))},t.kb=function(t,e){var n=this;return Ih(this,At().then(function(){return"undefined"===typeof e||at(e)?{}:Or(new _r(e))}).then(function(e){return n.b.kb(t,e)}).then(function(){}))},t.Jc=function(t,e){return Ih(this,ol(this,t,e,g(this.Pa,this)))},t.Ic=function(t,e){var n=this;return Ih(this,At().then(function(){var i=wo(t,e||ai());return n.Pa(i)}))},Nh.prototype.render=function(){},Nh.prototype.reset=function(){},Nh.prototype.getResponse=function(){},Nh.prototype.execute=function(){};var Dh=null;function Rh(t,e){return(e=Mh(e))&&t.a[e]||null}function Mh(t){return(t="undefined"===typeof t?1e12:t)?t.toString():null}function jh(t,e){this.g=!1,this.c=e,this.a=this.b=null,this.h="invisible"!==this.c.size,this.f=Gn(t);var n=this;this.i=function(){n.execute()},this.h?this.execute():Te(this.f,"click",this.i)}function Fh(t){if(t.g)throw Error("reCAPTCHA mock was already deleted!")}function Bh(){}Lh.prototype.render=function(t,e){return this.a[this.b.toString()]=new jh(t,e),this.b++},Lh.prototype.reset=function(t){var e=Rh(this,t);t=Mh(t),e&&t&&(e.delete(),delete this.a[t])},Lh.prototype.getResponse=function(t){return(t=Rh(this,t))?t.getResponse():null},Lh.prototype.execute=function(t){(t=Rh(this,t))&&t.execute()},jh.prototype.getResponse=function(){return Fh(this),this.b},jh.prototype.execute=function(){Fh(this);var t=this;this.a||(this.a=setTimeout(function(){t.b=Ei();var e=t.c.callback,n=t.c["expired-callback"];if(e)try{e(t.b)}catch(i){}t.a=setTimeout(function(){if(t.a=null,t.b=null,n)try{n()}catch(i){}t.h&&t.execute()},6e4)},500))},jh.prototype.delete=function(){Fh(this),this.g=!0,clearTimeout(this.a),this.a=null,Ie(this.f,"click",this.i)},Bh.prototype.g=function(){return Dh||(Dh=new Lh),At(Dh)},Bh.prototype.c=function(){};var qh=null;function Uh(){this.b=n.grecaptcha?1/0:0,this.f=null,this.a="__rcb"+Math.floor(1e6*Math.random()).toString()}var $h=xn("https://www.google.com/recaptcha/api.js?onload=%{onload}&render=explicit&hl=%{hl}"),Vh=new $i(3e4,6e4);Uh.prototype.g=function(t){var e=this;return new yt(function(i,r){var o=setTimeout(function(){r(new pr("network-request-failed"))},Vh.get());if(!n.grecaptcha||t!==e.f&&!e.b){n[e.a]=function(){if(n.grecaptcha){e.f=t;var a=n.grecaptcha.render;n.grecaptcha.render=function(t,n){return t=a(t,n),e.b++,t},clearTimeout(o),i(n.grecaptcha)}else clearTimeout(o),r(new pr("internal-error"));delete n[e.a]};var a=Nn($h,{onload:e.a,hl:t||""});At(La(a)).s(function(){clearTimeout(o),r(new pr("internal-error","Unable to load external reCAPTCHA dependencies!"))})}else clearTimeout(o),i(n.grecaptcha)})},Uh.prototype.c=function(){this.b--};var Hh=null;function Wh(t,e,i,r,o,a,s){if(Zi(this,"type","recaptcha"),this.c=this.f=null,this.D=!1,this.m=e,this.g=null,s?(qh||(qh=new Bh),s=qh):(Hh||(Hh=new Uh),s=Hh),this.o=s,this.a=i||{theme:"light",type:"image"},this.h=[],this.a[Kh])throw new pr("argument-error","sitekey should not be provided for reCAPTCHA as one is automatically provisioned for the current project.");if(this.i="invisible"===this.a[Qh],!n.document)throw new pr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment with DOM support.");if(!Gn(e)||!this.i&&Gn(e).hasChildNodes())throw new pr("argument-error","reCAPTCHA container is either not found or already contains inner elements!");this.u=new Ua(t,a||null,o||null),this.v=r||function(){return null};var u=this;this.l=[];var c=this.a[zh];this.a[zh]=function(t){if(Xh(u,t),"function"===typeof c)c(t);else if("string"===typeof c){var e=Pi(c,n);"function"===typeof e&&e(t)}};var l=this.a[Gh];this.a[Gh]=function(){if(Xh(u,null),"function"===typeof l)l();else if("string"===typeof l){var t=Pi(l,n);"function"===typeof t&&t()}}}var zh="callback",Gh="expired-callback",Kh="sitekey",Qh="size";function Xh(t,e){for(var n=0;n<t.l.length;n++)try{t.l[n](e)}catch(i){}}function Yh(t,e){q(t.l,function(t){return t==e})}function Jh(t,e){return t.h.push(e),e.ia(function(){B(t.h,e)}),e}function Zh(t){if(t.D)throw new pr("internal-error","RecaptchaVerifier instance has been destroyed.")}function tf(t,e,n){var r=!1;try{this.b=n||i.a.app()}catch(s){throw new pr("argument-error","No firebase.app.App instance is currently initialized.")}if(!this.b.options||!this.b.options.apiKey)throw new pr("invalid-api-key");n=this.b.options.apiKey;var o=this,a=null;try{a=this.b.auth().ya()}catch(s){}try{r=this.b.auth().settings.appVerificationDisabledForTesting}catch(s){}a=i.a.SDK_VERSION?Oi(i.a.SDK_VERSION,a):null,Wh.call(this,n,t,e,function(){try{var t=o.b.auth().ea()}catch(e){t=null}return t},a,qr(Fr),r)}function ef(t,e,n,i){t:{n=Array.prototype.slice.call(n);for(var r=0,o=!1,a=0;a<e.length;a++)if(e[a].optional)o=!0;else{if(o)throw new pr("internal-error","Argument validator encountered a required argument after an optional argument.");r++}if(o=e.length,n.length<r||o<n.length)i="Expected "+(r==o?1==r?"1 argument":r+" arguments":r+"-"+o+" arguments")+" but got "+n.length+".";else{for(r=0;r<n.length;r++)if(o=e[r].optional&&void 0===n[r],!e[r].M(n[r])&&!o){if(e=e[r],0>r||r>=nf.length)throw new pr("internal-error","Argument validator received an unsupported number of arguments.");n=nf[r],i=(i?"":n+" argument ")+(e.name?'"'+e.name+'" ':"")+"must be "+e.K+".";break t}i=null}}if(i)throw new pr("argument-error",t+" failed: "+i)}t=Wh.prototype,t.za=function(){var t=this;return this.f?this.f:this.f=Jh(this,At().then(function(){if(Li()&&!bi())return mi();throw new pr("operation-not-supported-in-this-environment","RecaptchaVerifier is only supported in a browser HTTP/HTTPS environment.")}).then(function(){return t.o.g(t.v())}).then(function(e){return t.g=e,zs(t.u,Ns,{})}).then(function(e){t.a[Kh]=e.recaptchaSiteKey}).s(function(e){throw t.f=null,e}))},t.render=function(){Zh(this);var t=this;return Jh(this,this.za().then(function(){if(null===t.c){var e=t.m;if(!t.i){var n=Gn(e);e=Xn("DIV"),n.appendChild(e)}t.c=t.g.render(e,t.a)}return t.c}))},t.verify=function(){Zh(this);var t=this;return Jh(this,this.render().then(function(e){return new yt(function(n){var i=t.g.getResponse(e);if(i)n(i);else{var r=function(e){e&&(Yh(t,r),n(e))};t.l.push(r),t.i&&t.g.execute(t.c)}})}))},t.reset=function(){Zh(this),null!==this.c&&this.g.reset(this.c)},t.clear=function(){Zh(this),this.D=!0,this.o.c();for(var t=0;t<this.h.length;t++)this.h[t].cancel("RecaptchaVerifier instance has been destroyed.");if(!this.i){t=Gn(this.m);for(var e;e=t.firstChild;)t.removeChild(e)}},b(tf,Wh);var nf="First Second Third Fourth Fifth Sixth Seventh Eighth Ninth".split(" ");function rf(t,e){return{name:t||"",K:"a valid string",optional:!!e,M:r}}function of(t,e){return{name:t||"",K:"a boolean",optional:!!e,M:o}}function af(t,e){return{name:t||"",K:"a valid object",optional:!!e,M:f}}function sf(t,e){return{name:t||"",K:"a function",optional:!!e,M:h}}function uf(t,e){return{name:t||"",K:"null",optional:!!e,M:u}}function cf(){return{name:"",K:"an HTML element",optional:!1,M:function(t){return!!(t&&t instanceof Element)}}}function lf(){return{name:"auth",K:"an instance of Firebase Auth",optional:!0,M:function(t){return!!(t&&t instanceof ph)}}}function hf(){return{name:"app",K:"an instance of Firebase App",optional:!0,M:function(t){return!!(t&&t instanceof i.a.app.App)}}}function ff(t){return{name:t?t+"Credential":"credential",K:t?"a valid "+t+" credential":"a valid credential",optional:!1,M:function(e){if(!e)return!1;var n=!t||e.providerId===t;return!(!e.la||!n)}}}function df(){return{name:"authProvider",K:"a valid Auth provider",optional:!1,M:function(t){return!!(t&&t.providerId&&t.hasOwnProperty&&t.hasOwnProperty("isOAuthProvider"))}}}function pf(){return{name:"applicationVerifier",K:"an implementation of firebase.auth.ApplicationVerifier",optional:!1,M:function(t){return!!(t&&r(t.type)&&h(t.verify))}}}function vf(t,e,n,i){return{name:n||"",K:t.K+" or "+e.K,optional:!!i,M:function(n){return t.M(n)||e.M(n)}}}function mf(t,e){for(var n in e){var i=e[n].name;t[i]=yf(i,t[n],e[n].j)}}function gf(t,e){for(var n in e){var i=e[n].name;i!==n&&Object.defineProperty(t,i,{get:_(function(t){return this[t]},n),set:_(function(t,e,n,i){ef(t,[n],[i],!0),this[e]=i},i,n,e[n].tb),enumerable:!0})}}function _f(t,e,n,i){t[e]=yf(e,n,i)}function yf(t,e,n){function i(){var t=Array.prototype.slice.call(arguments);return ef(o,n,t),e.apply(this,t)}if(!n)return e;var r,o=bf(t);for(r in e)i[r]=e[r];for(r in e.prototype)i.prototype[r]=e.prototype[r];return i}function bf(t){return t=t.split("."),t[t.length-1]}mf(ph.prototype,{Wa:{name:"applyActionCode",j:[rf("code")]},Ja:{name:"checkActionCode",j:[rf("code")]},Za:{name:"confirmPasswordReset",j:[rf("code"),rf("newPassword")]},xb:{name:"createUserWithEmailAndPassword",j:[rf("email"),rf("password")]},Wb:{name:"createUserAndRetrieveDataWithEmailAndPassword",j:[rf("email"),rf("password")]},Zb:{name:"fetchProvidersForEmail",j:[rf("email")]},$b:{name:"fetchSignInMethodsForEmail",j:[rf("email")]},fa:{name:"getRedirectResult",j:[]},oc:{name:"isSignInWithEmailLink",j:[rf("emailLink")]},uc:{name:"onAuthStateChanged",j:[vf(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},vc:{name:"onIdTokenChanged",j:[vf(af(),sf(),"nextOrObserver"),sf("opt_error",!0),sf("opt_completed",!0)]},kb:{name:"sendPasswordResetEmail",j:[rf("email"),vf(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},lb:{name:"sendSignInLinkToEmail",j:[rf("email"),af("actionCodeSettings")]},mb:{name:"setPersistence",j:[rf("persistence")]},Pa:{name:"signInAndRetrieveDataWithCredential",j:[ff()]},Qa:{name:"signInAnonymously",j:[]},Gc:{name:"signInAnonymouslyAndRetrieveData",j:[]},Hc:{name:"signInWithCredential",j:[ff()]},Nb:{name:"signInWithCustomToken",j:[rf("token")]},Ec:{name:"signInAndRetrieveDataWithCustomToken",j:[rf("token")]},Ob:{name:"signInWithEmailAndPassword",j:[rf("email"),rf("password")]},Ic:{name:"signInWithEmailLink",j:[rf("email"),rf("emailLink",!0)]},Fc:{name:"signInAndRetrieveDataWithEmailAndPassword",j:[rf("email"),rf("password")]},Jc:{name:"signInWithPhoneNumber",j:[rf("phoneNumber"),pf()]},Kc:{name:"signInWithPopup",j:[df()]},Lc:{name:"signInWithRedirect",j:[df()]},Qc:{name:"updateCurrentUser",j:[vf(function(t){return{name:"user",K:"an instance of Firebase User",optional:!!t,M:function(t){return!!(t&&t instanceof yl)}}}(),uf(),"user")]},nb:{name:"signOut",j:[]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Sc:{name:"useDeviceLanguage",j:[]},Tc:{name:"verifyPasswordResetCode",j:[rf("code")]}}),gf(ph.prototype,{lc:{name:"languageCode",tb:vf(rf(),uf(),"languageCode")}}),ph.Persistence=Yu,ph.Persistence.LOCAL="local",ph.Persistence.SESSION="session",ph.Persistence.NONE="none",mf(yl.prototype,{delete:{name:"delete",j:[]},dc:{name:"getIdTokenResult",j:[of("opt_forceRefresh",!0)]},F:{name:"getIdToken",j:[of("opt_forceRefresh",!0)]},eb:{name:"linkAndRetrieveDataWithCredential",j:[ff()]},pc:{name:"linkWithCredential",j:[ff()]},qc:{name:"linkWithPhoneNumber",j:[rf("phoneNumber"),pf()]},rc:{name:"linkWithPopup",j:[df()]},sc:{name:"linkWithRedirect",j:[df()]},gb:{name:"reauthenticateAndRetrieveDataWithCredential",j:[ff()]},yc:{name:"reauthenticateWithCredential",j:[ff()]},zc:{name:"reauthenticateWithPhoneNumber",j:[rf("phoneNumber"),pf()]},Ac:{name:"reauthenticateWithPopup",j:[df()]},Bc:{name:"reauthenticateWithRedirect",j:[df()]},reload:{name:"reload",j:[]},jb:{name:"sendEmailVerification",j:[vf(af("opt_actionCodeSettings",!0),uf(null,!0),"opt_actionCodeSettings",!0)]},toJSON:{name:"toJSON",j:[rf(null,!0)]},Pc:{name:"unlink",j:[rf("provider")]},pb:{name:"updateEmail",j:[rf("email")]},qb:{name:"updatePassword",j:[rf("password")]},Rc:{name:"updatePhoneNumber",j:[ff("phone")]},rb:{name:"updateProfile",j:[af("profile")]}}),mf(Lh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mf(Nh.prototype,{execute:{name:"execute"},render:{name:"render"},reset:{name:"reset"},getResponse:{name:"getResponse"}}),mf(yt.prototype,{ia:{name:"finally"},s:{name:"catch"},then:{name:"then"}}),gf(il.prototype,{appVerificationDisabled:{name:"appVerificationDisabledForTesting",tb:of("appVerificationDisabledForTesting")}}),mf(rl.prototype,{confirm:{name:"confirm",j:[rf("verificationCode")]}}),_f(bo,"credential",function(t,e){return new yo(t,e)},[rf("email"),rf("password")]),mf(lo.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),_f(lo,"credential",ho,[vf(rf(),af(),"token")]),_f(bo,"credentialWithLink",wo,[rf("email"),rf("emailLink")]),mf(fo.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),_f(fo,"credential",po,[vf(rf(),af(),"token")]),mf(vo.prototype,{ua:{name:"addScope",j:[rf("scope")]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),_f(vo,"credential",mo,[vf(rf(),vf(af(),uf()),"idToken"),vf(rf(),uf(),"accessToken",!0)]),mf(go.prototype,{Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),_f(go,"credential",_o,[vf(rf(),af(),"token"),rf("secret",!0)]),mf(co.prototype,{ua:{name:"addScope",j:[rf("scope")]},credential:{name:"credential",j:[vf(rf(),uf(),"idToken",!0),vf(rf(),uf(),"accessToken",!0),vf(rf(),uf(),"nonce",!0)]},Da:{name:"setCustomParameters",j:[af("customOAuthParameters")]}}),_f(So,"credential",Ao,[rf("verificationId"),rf("verificationCode")]),mf(So.prototype,{Ua:{name:"verifyPhoneNumber",j:[rf("phoneNumber"),pf()]}}),mf(pr.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),mf(Ro.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),mf(Do.prototype,{toJSON:{name:"toJSON",j:[rf(null,!0)]}}),mf(tf.prototype,{clear:{name:"clear",j:[]},render:{name:"render",j:[]},verify:{name:"verify",j:[]}}),function(){if("undefined"===typeof i.a||!i.a.INTERNAL||!i.a.INTERNAL.registerService)throw Error("Cannot find the firebase namespace; be sure to include firebase-app.js before this library.");var t={Auth:ph,Error:pr};_f(t,"EmailAuthProvider",bo,[]),_f(t,"FacebookAuthProvider",lo,[]),_f(t,"GithubAuthProvider",fo,[]),_f(t,"GoogleAuthProvider",vo,[]),_f(t,"TwitterAuthProvider",go,[]),_f(t,"OAuthProvider",co,[rf("providerId")]),_f(t,"SAMLAuthProvider",uo,[rf("providerId")]),_f(t,"PhoneAuthProvider",So,[lf()]),_f(t,"RecaptchaVerifier",tf,[vf(rf(),cf(),"recaptchaContainer"),af("recaptchaParameters",!0),hf()]),i.a.INTERNAL.registerService("auth",function(t,e){return t=new ph(t),e({INTERNAL:{getUid:g(t.getUid,t),getToken:g(t.cc,t),addAuthTokenListener:g(t.Vb,t),removeAuthTokenListener:g(t.Cc,t)}}),t},t,function(t,e){if("create"===t)try{e.auth()}catch(n){}}),i.a.INTERNAL.extendNamespace({User:yl})}()}).apply("undefined"!==typeof t?t:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{})}).call(this,n("c8ba"))},b7b7:function(t,e,n){var i=n("28fa"),r=n("d203");function o(t,e,n){var o=e&&n||0;"string"==typeof t&&(e="binary"===t?new Array(16):null,t=null),t=t||{};var a=t.random||(t.rng||i)();if(a[6]=15&a[6]|64,a[8]=63&a[8]|128,e)for(var s=0;s<16;++s)e[o+s]=a[s];return e||r(a)}t.exports=o},b8e3:function(t,e){t.exports=!0},b9e9:function(t,e,n){n("7445"),t.exports=n("584a").parseInt},bb4d:function(t,e,n){var i=n("aad8"),r=n("02eb"),o=n("f0be"),a=n("78a3"),s=n("cad0").f;t.exports=function(t){var e=r.Symbol||(r.Symbol=o?{}:i.Symbol||{});"_"==t.charAt(0)||t in e||s(e,t,{value:a.f(t)})}},bcaa:function(t,e,n){var i=n("cb7c"),r=n("d3f4"),o=n("a5b8");t.exports=function(t,e){if(i(t),r(e)&&e.constructor===t)return e;var n=o.f(t),a=n.resolve;return a(e),n.promise}},be13:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},bf0b:function(t,e,n){var i=n("355d"),r=n("aebd"),o=n("36c3"),a=n("1bc3"),s=n("07e3"),u=n("794b"),c=Object.getOwnPropertyDescriptor;e.f=n("8e60")?c:function(t,e){if(t=o(t),e=a(e,!0),u)try{return c(t,e)}catch(n){}if(s(t,e))return r(!i.f.call(t,e),t[e])}},bf90:function(t,e,n){var i=n("36c3"),r=n("bf0b").f;n("ce7e")("getOwnPropertyDescriptor",function(){return function(t,e){return r(i(t),e)}})},c207:function(t,e){},c23d:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("cd51"),r=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},o="[DEFAULT]",a=[],s=function(){function t(t,e,n){this.firebase_=n,this.isDeleted_=!1,this.services_={},this.name_=e.name,this._automaticDataCollectionEnabled=e.automaticDataCollectionEnabled||!1,this.options_=i.deepCopy(t),this.INTERNAL={getUid:function(){return null},getToken:function(){return Promise.resolve(null)},addAuthTokenListener:function(t){a.push(t),setTimeout(function(){return t(null)},0)},removeAuthTokenListener:function(t){a=a.filter(function(e){return e!==t})}}}return Object.defineProperty(t.prototype,"automaticDataCollectionEnabled",{get:function(){return this.checkDestroyed_(),this._automaticDataCollectionEnabled},set:function(t){this.checkDestroyed_(),this._automaticDataCollectionEnabled=t},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"name",{get:function(){return this.checkDestroyed_(),this.name_},enumerable:!0,configurable:!0}),Object.defineProperty(t.prototype,"options",{get:function(){return this.checkDestroyed_(),this.options_},enumerable:!0,configurable:!0}),t.prototype.delete=function(){var t=this;return new Promise(function(e){t.checkDestroyed_(),e()}).then(function(){t.firebase_.INTERNAL.removeApp(t.name_);var e=[];return Object.keys(t.services_).forEach(function(n){Object.keys(t.services_[n]).forEach(function(i){e.push(t.services_[n][i])})}),Promise.all(e.map(function(t){return t.INTERNAL.delete()}))}).then(function(){t.isDeleted_=!0,t.services_={}})},t.prototype._getService=function(t,e){if(void 0===e&&(e=o),this.checkDestroyed_(),this.services_[t]||(this.services_[t]={}),!this.services_[t][e]){var n=e!==o?e:void 0,i=this.firebase_.INTERNAL.factories[t](this,this.extendApp.bind(this),n);this.services_[t][e]=i}return this.services_[t][e]},t.prototype.extendApp=function(t){var e=this;i.deepExtend(this,t),t.INTERNAL&&t.INTERNAL.addAuthTokenListener&&(a.forEach(function(t){e.INTERNAL.addAuthTokenListener(t)}),a=[])},t.prototype.checkDestroyed_=function(){this.isDeleted_&&c("app-deleted",{name:this.name_})},t}();function u(){var t={},e={},n={},a={__esModule:!0,initializeApp:f,app:h,apps:null,Promise:Promise,SDK_VERSION:"5.8.1",INTERNAL:{registerService:p,createFirebaseNamespace:u,extendNamespace:v,createSubscribe:i.createSubscribe,ErrorFactory:i.ErrorFactory,removeApp:l,factories:e,useAsService:g,Promise:Promise,deepExtend:i.deepExtend}};function l(e){var n=t[e];m(n,"delete"),delete t[e]}function h(e){return e=e||o,r(t,e)||c("no-app",{name:e}),t[e]}function f(e,n){if(void 0===n&&(n={}),"object"!==typeof n||null===n){var i=n;n={name:i}}var u=n;void 0===u.name&&(u.name=o);var l=u.name;"string"===typeof l&&l||c("bad-app-name",{name:l+""}),r(t,l)&&c("duplicate-app",{name:l});var h=new s(e,u,a);return t[l]=h,m(h,"create"),h}function d(){return Object.keys(t).map(function(e){return t[e]})}function p(t,r,o,u,l){e[t]&&c("duplicate-service",{name:t}),e[t]=r,u&&(n[t]=u,d().forEach(function(t){u("create",t)}));var f=function(e){return void 0===e&&(e=h()),"function"!==typeof e[t]&&c("invalid-app-argument",{name:t}),e[t]()};return void 0!==o&&i.deepExtend(f,o),a[t]=f,s.prototype[t]=function(){for(var e=[],n=0;n<arguments.length;n++)e[n]=arguments[n];var i=this._getService.bind(this,t);return i.apply(this,l?e:[])},f}function v(t){i.deepExtend(a,t)}function m(t,i){Object.keys(e).forEach(function(e){var r=g(t,e);null!==r&&n[r]&&n[r](i,t)})}function g(t,e){if("serverAuth"===e)return null;var n=e;t.options;return n}return i.patchProperty(a,"default",a),Object.defineProperty(a,"apps",{get:d}),i.patchProperty(h,"App",s),a}function c(t,e){throw h.create(t,e)}s.prototype.name&&s.prototype.options||s.prototype.delete||console.log("dc");var l={"no-app":"No Firebase App '{$name}' has been created - call Firebase App.initializeApp()","bad-app-name":"Illegal App name: '{$name}","duplicate-app":"Firebase App named '{$name}' already exists","app-deleted":"Firebase App named '{$name}' already deleted","duplicate-service":"Firebase service named '{$name}' already registered","sa-not-supported":"Initializing the Firebase SDK with a service account is only allowed in a Node.js environment. On client devices, you should instead initialize the SDK with an api key and auth domain","invalid-app-argument":"firebase.{$name}() takes either no argument or a Firebase App instance."},h=new i.ErrorFactory("app","Firebase",l),f=u();e.firebase=f,e.default=f},c366:function(t,e,n){var i=n("6821"),r=n("9def"),o=n("77f1");t.exports=function(t){return function(e,n,a){var s,u=i(e),c=r(u.length),l=o(a,c);if(t&&n!=n){while(c>l)if(s=u[l++],s!=s)return!0}else for(;c>l;l++)if((t||l in u)&&u[l]===n)return t||l||0;return!t&&-1}}},c367:function(t,e,n){"use strict";var i=n("8436"),r=n("50ed"),o=n("481b"),a=n("36c3");t.exports=n("30f1")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},c3a1:function(t,e,n){var i=n("e6f3"),r=n("1691");t.exports=Object.keys||function(t){return i(t,r)}},c46b:function(t,e){t.exports=function(t,e){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:e}}},c5f6:function(t,e,n){"use strict";var i=n("7726"),r=n("69a8"),o=n("2d95"),a=n("5dbc"),s=n("6a99"),u=n("79e5"),c=n("9093").f,l=n("11e9").f,h=n("86cc").f,f=n("aa77").trim,d="Number",p=i[d],v=p,m=p.prototype,g=o(n("2aeb")(m))==d,_="trim"in String.prototype,y=function(t){var e=s(t,!1);if("string"==typeof e&&e.length>2){e=_?e.trim():f(e,3);var n,i,r,o=e.charCodeAt(0);if(43===o||45===o){if(n=e.charCodeAt(2),88===n||120===n)return NaN}else if(48===o){switch(e.charCodeAt(1)){case 66:case 98:i=2,r=49;break;case 79:case 111:i=8,r=55;break;default:return+e}for(var a,u=e.slice(2),c=0,l=u.length;c<l;c++)if(a=u.charCodeAt(c),a<48||a>r)return NaN;return parseInt(u,i)}}return+e};if(!p(" 0o1")||!p("0b1")||p("+0x1")){p=function(t){var e=arguments.length<1?0:t,n=this;return n instanceof p&&(g?u(function(){m.valueOf.call(n)}):o(n)!=d)?a(new v(y(e)),n,p):y(e)};for(var b,w=n("9e1e")?c(v):"MAX_VALUE,MIN_VALUE,NaN,NEGATIVE_INFINITY,POSITIVE_INFINITY,EPSILON,isFinite,isInteger,isNaN,isSafeInteger,MAX_SAFE_INTEGER,MIN_SAFE_INTEGER,parseFloat,parseInt,isInteger".split(","),k=0;w.length>k;k++)r(v,b=w[k])&&!r(p,b)&&h(p,b,l(v,b));p.prototype=m,m.constructor=p,n("2aba")(i,d,p)}},c69a:function(t,e,n){t.exports=!n("9e1e")&&!n("79e5")(function(){return 7!=Object.defineProperty(n("230e")("div"),"a",{get:function(){return 7}}).a})},c6b0:function(t,e,n){var i=n("5051"),r=n("45ba"),o=n("9129"),a=n("89fc")("IE_PROTO"),s=function(){},u="prototype",c=function(){var t,e=n("cba9")("iframe"),i=o.length,r="<",a=">";e.style.display="none",n("c88d").appendChild(e),e.src="javascript:",t=e.contentWindow.document,t.open(),t.write(r+"script"+a+"document.F=Object"+r+"/script"+a),t.close(),c=t.F;while(i--)delete c[u][o[i]];return c()};t.exports=Object.create||function(t,e){var n;return null!==t?(s[u]=i(t),n=new s,s[u]=null,n[a]=t):n=c(),void 0===e?n:r(n,e)}},c88d:function(t,e,n){var i=n("aad8").document;t.exports=i&&i.documentElement},c8b8:function(t,e,n){n("bb4d")("asyncIterator")},c8ba:function(t,e){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(i){"object"===typeof window&&(n=window)}t.exports=n},ca5a:function(t,e){var n=0,i=Math.random();t.exports=function(t){return"Symbol(".concat(void 0===t?"":t,")_",(++n+i).toString(36))}},cad0:function(t,e,n){var i=n("5051"),r=n("ab4f"),o=n("2223"),a=Object.defineProperty;e.f=n("948a")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},cadf:function(t,e,n){"use strict";var i=n("9c6c"),r=n("d53b"),o=n("84f2"),a=n("6821");t.exports=n("01f9")(Array,"Array",function(t,e){this._t=a(t),this._i=0,this._k=e},function(){var t=this._t,e=this._k,n=this._i++;return!t||n>=t.length?(this._t=void 0,r(1)):r(0,"keys"==e?n:"values"==e?t[n]:[n,t[n]])},"values"),o.Arguments=o.Array,i("keys"),i("values"),i("entries")},cb7c:function(t,e,n){var i=n("d3f4");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},cba9:function(t,e,n){var i=n("669d"),r=n("aad8").document,o=i(r)&&i(r.createElement);t.exports=function(t){return o?r.createElement(t):{}}},cc61:function(t,e,n){for(var i=n("53c9"),r=n("f40b"),o=n("4c35"),a=n("aad8"),s=n("1982"),u=n("42d9"),c=n("8d98"),l=c("iterator"),h=c("toStringTag"),f=u.Array,d={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},p=r(d),v=0;v<p.length;v++){var m,g=p[v],_=d[g],y=a[g],b=y&&y.prototype;if(b&&(b[l]||s(b,l,f),b[h]||s(b,h,g),u[g]=f,_))for(m in i)b[m]||o(b,m,i[m],!0)}},ccb9:function(t,e,n){e.f=n("5168")},cd51:function(t,e,n){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var i=n("fbb0"),r={NODE_CLIENT:!1,NODE_ADMIN:!1,SDK_VERSION:"${JSCORE_VERSION}"},o=function(t,e){if(!t)throw a(e)},a=function(t){return new Error("Firebase Database ("+r.SDK_VERSION+") INTERNAL ASSERT FAILED: "+t)},s=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):55296==(64512&r)&&i+1<t.length&&56320==(64512&t.charCodeAt(i+1))?(r=65536+((1023&r)<<10)+(1023&t.charCodeAt(++i)),e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},u=function(t){var e=[],n=0,i=0;while(n<t.length){var r=t[n++];if(r<128)e[i++]=String.fromCharCode(r);else if(r>191&&r<224){var o=t[n++];e[i++]=String.fromCharCode((31&r)<<6|63&o)}else if(r>239&&r<365){o=t[n++];var a=t[n++],s=t[n++],u=((7&r)<<18|(63&o)<<12|(63&a)<<6|63&s)-65536;e[i++]=String.fromCharCode(55296+(u>>10)),e[i++]=String.fromCharCode(56320+(1023&u))}else{o=t[n++],a=t[n++];e[i++]=String.fromCharCode((15&r)<<12|(63&o)<<6|63&a)}}return e.join("")},c={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray:function(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();for(var n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,i=[],r=0;r<t.length;r+=3){var o=t[r],a=r+1<t.length,s=a?t[r+1]:0,u=r+2<t.length,c=u?t[r+2]:0,l=o>>2,h=(3&o)<<4|s>>4,f=(15&s)<<2|c>>6,d=63&c;u||(d=64,a||(f=64)),i.push(n[l],n[h],n[f],n[d])}return i.join("")},encodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(s(t),e)},decodeString:function(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):u(this.decodeStringToByteArray(t,e))},decodeStringToByteArray:function(t,e){this.init_();for(var n=e?this.charToByteMapWebSafe_:this.charToByteMap_,i=[],r=0;r<t.length;){var o=n[t.charAt(r++)],a=r<t.length,s=a?n[t.charAt(r)]:0;++r;var u=r<t.length,c=u?n[t.charAt(r)]:64;++r;var l=r<t.length,h=l?n[t.charAt(r)]:64;if(++r,null==o||null==s||null==c||null==h)throw Error();var f=o<<2|s>>4;if(i.push(f),64!=c){var d=s<<4&240|c>>2;if(i.push(d),64!=h){var p=c<<6&192|h;i.push(p)}}}return i},init_:function(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(var t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},l=function(t){var e=s(t);return c.encodeByteArray(e,!0)},h=function(t){try{return c.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function f(t){return d(void 0,t)}function d(t,e){if(!(e instanceof Object))return e;switch(e.constructor){case Date:var n=e;return new Date(n.getTime());case Object:void 0===t&&(t={});break;case Array:t=[];break;default:return e}for(var i in e)e.hasOwnProperty(i)&&(t[i]=d(t[i],e[i]));return t}function p(t,e,n){t[e]=n}var v=function(){function t(){var t=this;this.promise=new Promise(function(e,n){t.resolve=e,t.reject=n})}return t.prototype.wrapCallback=function(t){var e=this;return function(n,i){n?e.reject(n):e.resolve(i),"function"===typeof t&&(e.promise.catch(function(){}),1===t.length?t(n):t(n,i))}},t}(),m=function(){return"undefined"!==typeof navigator&&"string"===typeof navigator["userAgent"]?navigator["userAgent"]:""},g=function(){return"undefined"!==typeof window&&!!(window["cordova"]||window["phonegap"]||window["PhoneGap"])&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(m())},_=function(){return"object"===typeof navigator&&"ReactNative"===navigator["product"]},y=function(){return!0===r.NODE_CLIENT||!0===r.NODE_ADMIN},b="FirebaseError",w=Error.captureStackTrace;function k(t){var e=w;return w=t,e}var E=function(){function t(t,e){if(this.code=t,this.message=e,w)w(this,C.prototype.create);else try{throw Error.apply(this,arguments)}catch(n){this.name=b,Object.defineProperty(this,"stack",{get:function(){return n.stack}})}}return t}();E.prototype=Object.create(Error.prototype),E.prototype.constructor=E,E.prototype.name=b;var C=function(){function t(t,e,n){this.service=t,this.serviceName=e,this.errors=n,this.pattern=/\{\$([^}]+)}/g}return t.prototype.create=function(t,e){void 0===e&&(e={});var n,i=this.errors[t],r=this.service+"/"+t;n=void 0===i?"Error":i.replace(this.pattern,function(t,n){var i=e[n];return void 0!==i?i.toString():"<"+n+"?>"}),n=this.serviceName+": "+n+" ("+r+").";var o=new E(r,n);for(var a in e)e.hasOwnProperty(a)&&"_"!==a.slice(-1)&&(o[a]=e[a]);return o},t}();function S(t){return JSON.parse(t)}function A(t){return JSON.stringify(t)}var T=function(t){var e={},n={},i={},r="";try{var o=t.split(".");e=S(h(o[0])||""),n=S(h(o[1])||""),r=o[2],i=n["d"]||{},delete n["d"]}catch(a){}return{header:e,claims:n,data:i,signature:r}},O=function(t){var e,n,i=T(t).claims,r=Math.floor((new Date).getTime()/1e3);return"object"===typeof i&&(i.hasOwnProperty("nbf")?e=i["nbf"]:i.hasOwnProperty("iat")&&(e=i["iat"]),n=i.hasOwnProperty("exp")?i["exp"]:e+86400),r&&e&&n&&r>=e&&r<=n},x=function(t){var e=T(t).claims;return"object"===typeof e&&e.hasOwnProperty("iat")?e["iat"]:null},P=function(t){var e=T(t),n=e.claims;return!!n&&"object"===typeof n&&n.hasOwnProperty("iat")},I=function(t){var e=T(t).claims;return"object"===typeof e&&!0===e["admin"]},N=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},L=function(t,e){if(Object.prototype.hasOwnProperty.call(t,e))return t[e]},D=function(t,e){for(var n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])},R=function(t,e){return D(e,function(e,n){t[e]=n}),t},M=function(t){return R({},t)},j=function(t){return"object"===typeof t&&null!==t},F=function(t){for(var e in t)return!1;return!0},B=function(t){var e=0;for(var n in t)e++;return e},q=function(t,e,n){var i={};for(var r in t)i[r]=e.call(n,t[r],r,t);return i},U=function(t,e,n){for(var i in t)if(e.call(n,t[i],i,t))return i},$=function(t,e,n){var i=U(t,e,n);return i&&t[i]},V=function(t){for(var e in t)return e},H=function(t){var e=[],n=0;for(var i in t)e[n++]=t[i];return e},W=function(t,e){for(var n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&!e(n,t[n]))return!1;return!0},z=function(t){var e=[];return D(t,function(t,n){Array.isArray(n)?n.forEach(function(n){e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(n))}),e.length?"&"+e.join("&"):""},G=function(t){var e={},n=t.replace(/^\?/,"").split("&");return n.forEach(function(t){if(t){var n=t.split("=");e[n[0]]=n[1]}}),e},K=function(){function t(){this.blockSize=-1}return t}(),Q=function(t){function e(){var e=t.call(this)||this;e.chain_=[],e.buf_=[],e.W_=[],e.pad_=[],e.inbuf_=0,e.total_=0,e.blockSize=64,e.pad_[0]=128;for(var n=1;n<e.blockSize;++n)e.pad_[n]=0;return e.reset(),e}return i.__extends(e,t),e.prototype.reset=function(){this.chain_[0]=1732584193,this.chain_[1]=4023233417,this.chain_[2]=2562383102,this.chain_[3]=271733878,this.chain_[4]=3285377520,this.inbuf_=0,this.total_=0},e.prototype.compress_=function(t,e){e||(e=0);var n=this.W_;if("string"===typeof t)for(var i=0;i<16;i++)n[i]=t.charCodeAt(e)<<24|t.charCodeAt(e+1)<<16|t.charCodeAt(e+2)<<8|t.charCodeAt(e+3),e+=4;else for(i=0;i<16;i++)n[i]=t[e]<<24|t[e+1]<<16|t[e+2]<<8|t[e+3],e+=4;for(i=16;i<80;i++){var r=n[i-3]^n[i-8]^n[i-14]^n[i-16];n[i]=4294967295&(r<<1|r>>>31)}var o,a,s=this.chain_[0],u=this.chain_[1],c=this.chain_[2],l=this.chain_[3],h=this.chain_[4];for(i=0;i<80;i++){i<40?i<20?(o=l^u&(c^l),a=1518500249):(o=u^c^l,a=1859775393):i<60?(o=u&c|l&(u|c),a=2400959708):(o=u^c^l,a=3395469782);r=(s<<5|s>>>27)+o+h+a+n[i]&4294967295;h=l,l=c,c=4294967295&(u<<30|u>>>2),u=s,s=r}this.chain_[0]=this.chain_[0]+s&4294967295,this.chain_[1]=this.chain_[1]+u&4294967295,this.chain_[2]=this.chain_[2]+c&4294967295,this.chain_[3]=this.chain_[3]+l&4294967295,this.chain_[4]=this.chain_[4]+h&4294967295},e.prototype.update=function(t,e){if(null!=t){void 0===e&&(e=t.length);var n=e-this.blockSize,i=0,r=this.buf_,o=this.inbuf_;while(i<e){if(0==o)while(i<=n)this.compress_(t,i),i+=this.blockSize;if("string"===typeof t){while(i<e)if(r[o]=t.charCodeAt(i),++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}else while(i<e)if(r[o]=t[i],++o,++i,o==this.blockSize){this.compress_(r),o=0;break}}this.inbuf_=o,this.total_+=e}},e.prototype.digest=function(){var t=[],e=8*this.total_;this.inbuf_<56?this.update(this.pad_,56-this.inbuf_):this.update(this.pad_,this.blockSize-(this.inbuf_-56));for(var n=this.blockSize-1;n>=56;n--)this.buf_[n]=255&e,e/=256;this.compress_(this.buf_);var i=0;for(n=0;n<5;n++)for(var r=24;r>=0;r-=8)t[i]=this.chain_[n]>>r&255,++i;return t},e}(K);function X(t,e){var n=new Y(t,e);return n.subscribe.bind(n)}var Y=function(){function t(t,e){var n=this;this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=e,this.task.then(function(){t(n)}).catch(function(t){n.error(t)})}return t.prototype.next=function(t){this.forEachObserver(function(e){e.next(t)})},t.prototype.error=function(t){this.forEachObserver(function(e){e.error(t)}),this.close(t)},t.prototype.complete=function(){this.forEachObserver(function(t){t.complete()}),this.close()},t.prototype.subscribe=function(t,e,n){var i,r=this;if(void 0===t&&void 0===e&&void 0===n)throw new Error("Missing Observer.");i=Z(t,["next","error","complete"])?t:{next:t,error:e,complete:n},void 0===i.next&&(i.next=tt),void 0===i.error&&(i.error=tt),void 0===i.complete&&(i.complete=tt);var o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(function(){try{r.finalError?i.error(r.finalError):i.complete()}catch(t){}}),this.observers.push(i),o},t.prototype.unsubscribeOne=function(t){void 0!==this.observers&&void 0!==this.observers[t]&&(delete this.observers[t],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))},t.prototype.forEachObserver=function(t){if(!this.finalized)for(var e=0;e<this.observers.length;e++)this.sendOne(e,t)},t.prototype.sendOne=function(t,e){var n=this;this.task.then(function(){if(void 0!==n.observers&&void 0!==n.observers[t])try{e(n.observers[t])}catch(i){"undefined"!==typeof console&&console.error&&console.error(i)}})},t.prototype.close=function(t){var e=this;this.finalized||(this.finalized=!0,void 0!==t&&(this.finalError=t),this.task.then(function(){e.observers=void 0,e.onNoObservers=void 0}))},t}();function J(t,e){return function(){for(var n=[],i=0;i<arguments.length;i++)n[i]=arguments[i];Promise.resolve(!0).then(function(){t.apply(void 0,n)}).catch(function(t){e&&e(t)})}}function Z(t,e){if("object"!==typeof t||null===t)return!1;for(var n=0,i=e;n<i.length;n++){var r=i[n];if(r in t&&"function"===typeof t[r])return!0}return!1}function tt(){}var et=function(t,e,n,i){var r;if(i<e?r="at least "+e:i>n&&(r=0===n?"none":"no more than "+n),r){var o=t+" failed: Was called with "+i+(1===i?" argument.":" arguments.")+" Expects "+r+".";throw new Error(o)}};function nt(t,e,n){var i="";switch(e){case 1:i=n?"first":"First";break;case 2:i=n?"second":"Second";break;case 3:i=n?"third":"Third";break;case 4:i=n?"fourth":"Fourth";break;default:throw new Error("errorPrefix called with argumentNumber > 4.  Need to update it?")}var r=t+" failed: ";return r+=i+" argument ",r}function it(t,e,n,i){if((!i||n)&&"string"!==typeof n)throw new Error(nt(t,e,i)+"must be a valid firebase namespace.")}function rt(t,e,n,i){if((!i||n)&&"function"!==typeof n)throw new Error(nt(t,e,i)+"must be a valid function.")}function ot(t,e,n,i){if((!i||n)&&("object"!==typeof n||null===n))throw new Error(nt(t,e,i)+"must be a valid context object.")}var at=function(t){for(var e=[],n=0,i=0;i<t.length;i++){var r=t.charCodeAt(i);if(r>=55296&&r<=56319){var a=r-55296;i++,o(i<t.length,"Surrogate pair missing trail surrogate.");var s=t.charCodeAt(i)-56320;r=65536+(a<<10)+s}r<128?e[n++]=r:r<2048?(e[n++]=r>>6|192,e[n++]=63&r|128):r<65536?(e[n++]=r>>12|224,e[n++]=r>>6&63|128,e[n++]=63&r|128):(e[n++]=r>>18|240,e[n++]=r>>12&63|128,e[n++]=r>>6&63|128,e[n++]=63&r|128)}return e},st=function(t){for(var e=0,n=0;n<t.length;n++){var i=t.charCodeAt(n);i<128?e++:i<2048?e+=2:i>=55296&&i<=56319?(e+=4,n++):e+=3}return e};e.assert=o,e.assertionError=a,e.base64=c,e.base64Decode=h,e.base64Encode=l,e.CONSTANTS=r,e.deepCopy=f,e.deepExtend=d,e.patchProperty=p,e.Deferred=v,e.getUA=m,e.isMobileCordova=g,e.isNodeSdk=y,e.isReactNative=_,e.ErrorFactory=C,e.FirebaseError=E,e.patchCapture=k,e.jsonEval=S,e.stringify=A,e.decode=T,e.isAdmin=I,e.issuedAtTime=x,e.isValidFormat=P,e.isValidTimestamp=O,e.clone=M,e.contains=N,e.every=W,e.extend=R,e.findKey=U,e.findValue=$,e.forEach=D,e.getAnyKey=V,e.getCount=B,e.getValues=H,e.isEmpty=F,e.isNonNullObject=j,e.map=q,e.safeGet=L,e.querystring=z,e.querystringDecode=G,e.Sha1=Q,e.async=J,e.createSubscribe=X,e.errorPrefix=nt,e.validateArgCount=et,e.validateCallback=rt,e.validateContextObject=ot,e.validateNamespace=it,e.stringLength=st,e.stringToByteArray=at},ce10:function(t,e,n){var i=n("69a8"),r=n("6821"),o=n("c366")(!1),a=n("613b")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>u)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},ce7e:function(t,e,n){var i=n("63b6"),r=n("584a"),o=n("294c");t.exports=function(t,e){var n=(r.Object||{})[t]||Object[t],a={};a[t]=e(n),i(i.S+i.F*o(function(){n(1)}),"Object",a)}},cebc:function(t,e,n){"use strict";var i=n("268f"),r=n.n(i),o=n("e265"),a=n.n(o),s=n("a4bb"),u=n.n(s),c=n("85f2"),l=n.n(c);function h(t,e,n){return e in t?l()(t,e,{value:n,enumerable:!0,configurable:!0,writable:!0}):t[e]=n,t}function f(t){for(var e=1;e<arguments.length;e++){var n=null!=arguments[e]?arguments[e]:{},i=u()(n);"function"===typeof a.a&&(i=i.concat(a()(n).filter(function(t){return r()(n,t).enumerable}))),i.forEach(function(e){h(t,e,n[e])})}return t}n.d(e,"a",function(){return f})},d203:function(t,e){for(var n=[],i=0;i<256;++i)n[i]=(i+256).toString(16).substr(1);function r(t,e){var i=e||0,r=n;return r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+"-"+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]+r[t[i++]]}t.exports=r},d3f4:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},d53b:function(t,e){t.exports=function(t,e){return{value:e,done:!!t}}},d864:function(t,e,n){var i=n("79aa");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},d8d6:function(t,e,n){n("1654"),n("6c1c"),t.exports=n("ccb9").f("iterator")},d8e8:function(t,e){t.exports=function(t){if("function"!=typeof t)throw TypeError(t+" is not a function!");return t}},d9f6:function(t,e,n){var i=n("e4ae"),r=n("794b"),o=n("1bc3"),a=Object.defineProperty;e.f=n("8e60")?Object.defineProperty:function(t,e,n){if(i(t),e=o(e,!0),i(n),r)try{return a(t,e,n)}catch(s){}if("get"in n||"set"in n)throw TypeError("Accessors not supported!");return"value"in n&&(t[e]=n.value),t}},dbdb:function(t,e,n){var i=n("584a"),r=n("e53d"),o="__core-js_shared__",a=r[o]||(r[o]={});(t.exports=function(t,e){return a[t]||(a[t]=void 0!==e?e:{})})("versions",[]).push({version:i.version,mode:n("b8e3")?"pure":"global",copyright:"© 2019 Denis Pushkarev (zloirock.ru)"})},dcbc:function(t,e,n){var i=n("2aba");t.exports=function(t,e,n){for(var r in e)i(t,r,e[r],n);return t}},dd8f:function(t,e,n){"use strict";function i(t){return function(){var e=arguments.length;if(e){var n=[],i=-1;while(++i<e)n[i]=arguments[i];return t.call(this,n)}return t.call(this,[])}}t.exports=i},de3d:function(t,e,n){"use strict";(function(e){var n,i,r=e.MutationObserver||e.WebKitMutationObserver;if(r){var o=0,a=new r(l),s=e.document.createTextNode("");a.observe(s,{characterData:!0}),n=function(){s.data=o=++o%2}}else if(e.setImmediate||"undefined"===typeof e.MessageChannel)n="document"in e&&"onreadystatechange"in e.document.createElement("script")?function(){var t=e.document.createElement("script");t.onreadystatechange=function(){l(),t.onreadystatechange=null,t.parentNode.removeChild(t),t=null},e.document.documentElement.appendChild(t)}:function(){setTimeout(l,0)};else{var u=new e.MessageChannel;u.port1.onmessage=l,n=function(){u.port2.postMessage(0)}}var c=[];function l(){var t,e;i=!0;var n=c.length;while(n){e=c,c=[],t=-1;while(++t<n)e[t]();n=c.length}i=!1}function h(t){1!==c.push(t)||i||n()}t.exports=h}).call(this,n("c8ba"))},df7c:function(t,e,n){(function(t){function n(t,e){for(var n=0,i=t.length-1;i>=0;i--){var r=t[i];"."===r?t.splice(i,1):".."===r?(t.splice(i,1),n++):n&&(t.splice(i,1),n--)}if(e)for(;n--;n)t.unshift("..");return t}var i=/^(\/?|)([\s\S]*?)((?:\.{1,2}|[^\/]+?|)(\.[^.\/]*|))(?:[\/]*)$/,r=function(t){return i.exec(t).slice(1)};function o(t,e){if(t.filter)return t.filter(e);for(var n=[],i=0;i<t.length;i++)e(t[i],i,t)&&n.push(t[i]);return n}e.resolve=function(){for(var e="",i=!1,r=arguments.length-1;r>=-1&&!i;r--){var a=r>=0?arguments[r]:t.cwd();if("string"!==typeof a)throw new TypeError("Arguments to path.resolve must be strings");a&&(e=a+"/"+e,i="/"===a.charAt(0))}return e=n(o(e.split("/"),function(t){return!!t}),!i).join("/"),(i?"/":"")+e||"."},e.normalize=function(t){var i=e.isAbsolute(t),r="/"===a(t,-1);return t=n(o(t.split("/"),function(t){return!!t}),!i).join("/"),t||i||(t="."),t&&r&&(t+="/"),(i?"/":"")+t},e.isAbsolute=function(t){return"/"===t.charAt(0)},e.join=function(){var t=Array.prototype.slice.call(arguments,0);return e.normalize(o(t,function(t,e){if("string"!==typeof t)throw new TypeError("Arguments to path.join must be strings");return t}).join("/"))},e.relative=function(t,n){function i(t){for(var e=0;e<t.length;e++)if(""!==t[e])break;for(var n=t.length-1;n>=0;n--)if(""!==t[n])break;return e>n?[]:t.slice(e,n-e+1)}t=e.resolve(t).substr(1),n=e.resolve(n).substr(1);for(var r=i(t.split("/")),o=i(n.split("/")),a=Math.min(r.length,o.length),s=a,u=0;u<a;u++)if(r[u]!==o[u]){s=u;break}var c=[];for(u=s;u<r.length;u++)c.push("..");return c=c.concat(o.slice(s)),c.join("/")},e.sep="/",e.delimiter=":",e.dirname=function(t){var e=r(t),n=e[0],i=e[1];return n||i?(i&&(i=i.substr(0,i.length-1)),n+i):"."},e.basename=function(t,e){var n=r(t)[2];return e&&n.substr(-1*e.length)===e&&(n=n.substr(0,n.length-e.length)),n},e.extname=function(t){return r(t)[3]};var a="b"==="ab".substr(-1)?function(t,e,n){return t.substr(e,n)}:function(t,e,n){return e<0&&(e=t.length+e),t.substr(e,n)}}).call(this,n("4362"))},e11e:function(t,e){t.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},e1fb:function(t,e,n){var i=n("ad20"),r=n("18cc").f,o={}.toString,a="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],s=function(t){try{return r(t)}catch(e){return a.slice()}};t.exports.f=function(t){return a&&"[object Window]"==o.call(t)?s(t):r(i(t))}},e265:function(t,e,n){t.exports=n("ed33")},e4ae:function(t,e,n){var i=n("f772");t.exports=function(t){if(!i(t))throw TypeError(t+" is not an object!");return t}},e53d:function(t,e){var n=t.exports="undefined"!=typeof window&&window.Math==Math?window:"undefined"!=typeof self&&self.Math==Math?self:Function("return this")();"number"==typeof __g&&(__g=n)},e692:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"},e6f3:function(t,e,n){var i=n("07e3"),r=n("36c3"),o=n("5b4e")(!1),a=n("5559")("IE_PROTO");t.exports=function(t,e){var n,s=r(t),u=0,c=[];for(n in s)n!=a&&i(s,n)&&c.push(n);while(e.length>u)i(s,n=e[u++])&&(~o(c,n)||c.push(n));return c}},e814:function(t,e,n){t.exports=n("b9e9")},e821:function(t,e,n){var i=n("2fde");t.exports=function(t,e,n){if(i(t),void 0===e)return t;switch(n){case 1:return function(n){return t.call(e,n)};case 2:return function(n,i){return t.call(e,n,i)};case 3:return function(n,i,r){return t.call(e,n,i,r)}}return function(){return t.apply(e,arguments)}}},e829:function(t,e,n){n("2f37"),t.exports=n("584a").Date.now},e9df:function(t,e,n){"use strict";var i=n("235a"),r=n("998f")(6),o="findIndex",a=!0;o in[]&&Array(1)[o](function(){a=!1}),i(i.P+i.F*a,"Array",{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),n("74d1")(o)},ea7b:function(t,e,n){"use strict";n("b7aa")},eb5a:function(t,e){t.exports=function(t){try{return!!t()}catch(e){return!0}}},ebd6:function(t,e,n){var i=n("cb7c"),r=n("d8e8"),o=n("2b4c")("species");t.exports=function(t,e){var n,a=i(t).constructor;return void 0===a||void 0==(n=i(a)[o])?e:r(n)}},ebfd:function(t,e,n){var i=n("62a0")("meta"),r=n("f772"),o=n("07e3"),a=n("d9f6").f,s=0,u=Object.isExtensible||function(){return!0},c=!n("294c")(function(){return u(Object.preventExtensions({}))}),l=function(t){a(t,i,{value:{i:"O"+ ++s,w:{}}})},h=function(t,e){if(!r(t))return"symbol"==typeof t?t:("string"==typeof t?"S":"P")+t;if(!o(t,i)){if(!u(t))return"F";if(!e)return"E";l(t)}return t[i].i},f=function(t,e){if(!o(t,i)){if(!u(t))return!0;if(!e)return!1;l(t)}return t[i].w},d=function(t){return c&&p.NEED&&u(t)&&!o(t,i)&&l(t),t},p=t.exports={KEY:i,NEED:!1,fastKey:h,getWeak:f,onFreeze:d}},ed33:function(t,e,n){n("014b"),t.exports=n("584a").Object.getOwnPropertySymbols},ef81:function(t,e,n){"use strict";var i=n("f40b"),r=n("96ff"),o=n("50e6"),a=n("8ffe"),s=n("1f50"),u=Object.assign;t.exports=!u||n("eb5a")(function(){var t={},e={},n=Symbol(),i="abcdefghijklmnopqrst";return t[n]=7,i.split("").forEach(function(t){e[t]=t}),7!=u({},t)[n]||Object.keys(u({},e)).join("")!=i})?function(t,e){var n=a(t),u=arguments.length,c=1,l=r.f,h=o.f;while(u>c){var f,d=s(arguments[c++]),p=l?i(d).concat(l(d)):i(d),v=p.length,m=0;while(v>m)h.call(d,f=p[m++])&&(n[f]=d[f])}return n}:u},f0be:function(t,e){t.exports=!1},f22d:function(t,e,n){"use strict";var i=n("aad8"),r=n("8343"),o=n("948a"),a=n("235a"),s=n("4c35"),u=n("3b2a").KEY,c=n("eb5a"),l=n("7b3a"),h=n("03ed"),f=n("53ff"),d=n("8d98"),p=n("78a3"),v=n("bb4d"),m=n("1928"),g=n("a313"),_=n("5051"),y=n("669d"),b=n("ad20"),w=n("2223"),k=n("c46b"),E=n("c6b0"),C=n("e1fb"),S=n("6ca5"),A=n("cad0"),T=n("f40b"),O=S.f,x=A.f,P=C.f,I=i.Symbol,N=i.JSON,L=N&&N.stringify,D="prototype",R=d("_hidden"),M=d("toPrimitive"),j={}.propertyIsEnumerable,F=l("symbol-registry"),B=l("symbols"),q=l("op-symbols"),U=Object[D],$="function"==typeof I,V=i.QObject,H=!V||!V[D]||!V[D].findChild,W=o&&c(function(){return 7!=E(x({},"a",{get:function(){return x(this,"a",{value:7}).a}})).a})?function(t,e,n){var i=O(U,e);i&&delete U[e],x(t,e,n),i&&t!==U&&x(U,e,i)}:x,z=function(t){var e=B[t]=E(I[D]);return e._k=t,e},G=$&&"symbol"==typeof I.iterator?function(t){return"symbol"==typeof t}:function(t){return t instanceof I},K=function(t,e,n){return t===U&&K(q,e,n),_(t),e=w(e,!0),_(n),r(B,e)?(n.enumerable?(r(t,R)&&t[R][e]&&(t[R][e]=!1),n=E(n,{enumerable:k(0,!1)})):(r(t,R)||x(t,R,k(1,{})),t[R][e]=!0),W(t,e,n)):x(t,e,n)},Q=function(t,e){_(t);var n,i=m(e=b(e)),r=0,o=i.length;while(o>r)K(t,n=i[r++],e[n]);return t},X=function(t,e){return void 0===e?E(t):Q(E(t),e)},Y=function(t){var e=j.call(this,t=w(t,!0));return!(this===U&&r(B,t)&&!r(q,t))&&(!(e||!r(this,t)||!r(B,t)||r(this,R)&&this[R][t])||e)},J=function(t,e){if(t=b(t),e=w(e,!0),t!==U||!r(B,e)||r(q,e)){var n=O(t,e);return!n||!r(B,e)||r(t,R)&&t[R][e]||(n.enumerable=!0),n}},Z=function(t){var e,n=P(b(t)),i=[],o=0;while(n.length>o)r(B,e=n[o++])||e==R||e==u||i.push(e);return i},tt=function(t){var e,n=t===U,i=P(n?q:b(t)),o=[],a=0;while(i.length>a)!r(B,e=i[a++])||n&&!r(U,e)||o.push(B[e]);return o};$||(I=function(){if(this instanceof I)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:void 0),e=function(n){this===U&&e.call(q,n),r(this,R)&&r(this[R],t)&&(this[R][t]=!1),W(this,t,k(1,n))};return o&&H&&W(U,t,{configurable:!0,set:e}),z(t)},s(I[D],"toString",function(){return this._k}),S.f=J,A.f=K,n("18cc").f=C.f=Z,n("50e6").f=Y,n("96ff").f=tt,o&&!n("f0be")&&s(U,"propertyIsEnumerable",Y,!0),p.f=function(t){return z(d(t))}),a(a.G+a.W+a.F*!$,{Symbol:I});for(var et="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),nt=0;et.length>nt;)d(et[nt++]);for(var it=T(d.store),rt=0;it.length>rt;)v(it[rt++]);a(a.S+a.F*!$,"Symbol",{for:function(t){return r(F,t+="")?F[t]:F[t]=I(t)},keyFor:function(t){if(!G(t))throw TypeError(t+" is not a symbol!");for(var e in F)if(F[e]===t)return e},useSetter:function(){H=!0},useSimple:function(){H=!1}}),a(a.S+a.F*!$,"Object",{create:X,defineProperty:K,defineProperties:Q,getOwnPropertyDescriptor:J,getOwnPropertyNames:Z,getOwnPropertySymbols:tt}),N&&a(a.S+a.F*(!$||c(function(){var t=I();return"[null]"!=L([t])||"{}"!=L({a:t})||"{}"!=L(Object(t))})),"JSON",{stringify:function(t){var e,n,i=[t],r=1;while(arguments.length>r)i.push(arguments[r++]);if(n=e=i[1],(y(e)||void 0!==t)&&!G(t))return g(e)||(e=function(t,e){if("function"==typeof n&&(e=n.call(this,t,e)),!G(e))return e}),i[1]=e,L.apply(N,i)}}),I[D][M]||n("1982")(I[D],M,I[D].valueOf),h(I,"Symbol"),h(Math,"Math",!0),h(i.JSON,"JSON",!0)},f28b:function(t,e){t.exports=function(t){if(void 0==t)throw TypeError("Can't call method on  "+t);return t}},f40b:function(t,e,n){var i=n("232e"),r=n("9129");t.exports=Object.keys||function(t){return i(t,r)}},f605:function(t,e){t.exports=function(t,e,n,i){if(!(t instanceof e)||void 0!==i&&i in t)throw TypeError(n+": incorrect invocation!");return t}},f751:function(t,e,n){var i=n("5ca1");i(i.S+i.F,"Object",{assign:n("7333")})},f772:function(t,e){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},f89d:function(t,e,n){},f921:function(t,e,n){n("014b"),n("c207"),n("69d3"),n("765d"),t.exports=n("584a").Symbol},faa1:function(t,e,n){"use strict";var i,r="object"===typeof Reflect?Reflect:null,o=r&&"function"===typeof r.apply?r.apply:function(t,e,n){return Function.prototype.apply.call(t,e,n)};function a(t){console&&console.warn&&console.warn(t)}i=r&&"function"===typeof r.ownKeys?r.ownKeys:Object.getOwnPropertySymbols?function(t){return Object.getOwnPropertyNames(t).concat(Object.getOwnPropertySymbols(t))}:function(t){return Object.getOwnPropertyNames(t)};var s=Number.isNaN||function(t){return t!==t};function u(){u.init.call(this)}t.exports=u,u.EventEmitter=u,u.prototype._events=void 0,u.prototype._eventsCount=0,u.prototype._maxListeners=void 0;var c=10;function l(t){return void 0===t._maxListeners?u.defaultMaxListeners:t._maxListeners}function h(t,e,n,i){var r,o,s;if("function"!==typeof n)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof n);if(o=t._events,void 0===o?(o=t._events=Object.create(null),t._eventsCount=0):(void 0!==o.newListener&&(t.emit("newListener",e,n.listener?n.listener:n),o=t._events),s=o[e]),void 0===s)s=o[e]=n,++t._eventsCount;else if("function"===typeof s?s=o[e]=i?[n,s]:[s,n]:i?s.unshift(n):s.push(n),r=l(t),r>0&&s.length>r&&!s.warned){s.warned=!0;var u=new Error("Possible EventEmitter memory leak detected. "+s.length+" "+String(e)+" listeners added. Use emitter.setMaxListeners() to increase limit");u.name="MaxListenersExceededWarning",u.emitter=t,u.type=e,u.count=s.length,a(u)}return t}function f(){for(var t=[],e=0;e<arguments.length;e++)t.push(arguments[e]);this.fired||(this.target.removeListener(this.type,this.wrapFn),this.fired=!0,o(this.listener,this.target,t))}function d(t,e,n){var i={fired:!1,wrapFn:void 0,target:t,type:e,listener:n},r=f.bind(i);return r.listener=n,i.wrapFn=r,r}function p(t,e,n){var i=t._events;if(void 0===i)return[];var r=i[e];return void 0===r?[]:"function"===typeof r?n?[r.listener||r]:[r]:n?_(r):m(r,r.length)}function v(t){var e=this._events;if(void 0!==e){var n=e[t];if("function"===typeof n)return 1;if(void 0!==n)return n.length}return 0}function m(t,e){for(var n=new Array(e),i=0;i<e;++i)n[i]=t[i];return n}function g(t,e){for(;e+1<t.length;e++)t[e]=t[e+1];t.pop()}function _(t){for(var e=new Array(t.length),n=0;n<e.length;++n)e[n]=t[n].listener||t[n];return e}Object.defineProperty(u,"defaultMaxListeners",{enumerable:!0,get:function(){return c},set:function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+t+".");c=t}}),u.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},u.prototype.setMaxListeners=function(t){if("number"!==typeof t||t<0||s(t))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+t+".");return this._maxListeners=t,this},u.prototype.getMaxListeners=function(){return l(this)},u.prototype.emit=function(t){for(var e=[],n=1;n<arguments.length;n++)e.push(arguments[n]);var i="error"===t,r=this._events;if(void 0!==r)i=i&&void 0===r.error;else if(!i)return!1;if(i){var a;if(e.length>0&&(a=e[0]),a instanceof Error)throw a;var s=new Error("Unhandled error."+(a?" ("+a.message+")":""));throw s.context=a,s}var u=r[t];if(void 0===u)return!1;if("function"===typeof u)o(u,this,e);else{var c=u.length,l=m(u,c);for(n=0;n<c;++n)o(l[n],this,e)}return!0},u.prototype.addListener=function(t,e){return h(this,t,e,!1)},u.prototype.on=u.prototype.addListener,u.prototype.prependListener=function(t,e){return h(this,t,e,!0)},u.prototype.once=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.on(t,d(this,t,e)),this},u.prototype.prependOnceListener=function(t,e){if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);return this.prependListener(t,d(this,t,e)),this},u.prototype.removeListener=function(t,e){var n,i,r,o,a;if("function"!==typeof e)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof e);if(i=this._events,void 0===i)return this;if(n=i[t],void 0===n)return this;if(n===e||n.listener===e)0===--this._eventsCount?this._events=Object.create(null):(delete i[t],i.removeListener&&this.emit("removeListener",t,n.listener||e));else if("function"!==typeof n){for(r=-1,o=n.length-1;o>=0;o--)if(n[o]===e||n[o].listener===e){a=n[o].listener,r=o;break}if(r<0)return this;0===r?n.shift():g(n,r),1===n.length&&(i[t]=n[0]),void 0!==i.removeListener&&this.emit("removeListener",t,a||e)}return this},u.prototype.off=u.prototype.removeListener,u.prototype.removeAllListeners=function(t){var e,n,i;if(n=this._events,void 0===n)return this;if(void 0===n.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==n[t]&&(0===--this._eventsCount?this._events=Object.create(null):delete n[t]),this;if(0===arguments.length){var r,o=Object.keys(n);for(i=0;i<o.length;++i)r=o[i],"removeListener"!==r&&this.removeAllListeners(r);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if(e=n[t],"function"===typeof e)this.removeListener(t,e);else if(void 0!==e)for(i=e.length-1;i>=0;i--)this.removeListener(t,e[i]);return this},u.prototype.listeners=function(t){return p(this,t,!0)},u.prototype.rawListeners=function(t){return p(this,t,!1)},u.listenerCount=function(t,e){return"function"===typeof t.listenerCount?t.listenerCount(e):v.call(t,e)},u.prototype.listenerCount=v,u.prototype.eventNames=function(){return this._eventsCount>0?i(this._events):[]}},fab2:function(t,e,n){var i=n("7726").document;t.exports=i&&i.documentElement},fbb0:function(t,e,n){"use strict";n.r(e),n.d(e,"__extends",function(){return r}),n.d(e,"__assign",function(){return o}),n.d(e,"__rest",function(){return a}),n.d(e,"__decorate",function(){return s}),n.d(e,"__param",function(){return u}),n.d(e,"__metadata",function(){return c}),n.d(e,"__awaiter",function(){return l}),n.d(e,"__generator",function(){return h}),n.d(e,"__exportStar",function(){return f}),n.d(e,"__values",function(){return d}),n.d(e,"__read",function(){return p}),n.d(e,"__spread",function(){return v}),n.d(e,"__await",function(){return m}),n.d(e,"__asyncGenerator",function(){return g}),n.d(e,"__asyncDelegator",function(){return _}),n.d(e,"__asyncValues",function(){return y}),n.d(e,"__makeTemplateObject",function(){return b}),n.d(e,"__importStar",function(){return w}),n.d(e,"__importDefault",function(){return k});
/*! *****************************************************************************
Copyright (c) Microsoft Corporation. All rights reserved.
Licensed under the Apache License, Version 2.0 (the "License"); you may not use
this file except in compliance with the License. You may obtain a copy of the
License at http://www.apache.org/licenses/LICENSE-2.0

THIS CODE IS PROVIDED ON AN *AS IS* BASIS, WITHOUT WARRANTIES OR CONDITIONS OF ANY
KIND, EITHER EXPRESS OR IMPLIED, INCLUDING WITHOUT LIMITATION ANY IMPLIED
WARRANTIES OR CONDITIONS OF TITLE, FITNESS FOR A PARTICULAR PURPOSE,
MERCHANTABLITY OR NON-INFRINGEMENT.

See the Apache Version 2.0 License for specific language governing permissions
and limitations under the License.
***************************************************************************** */
var i=Object.setPrototypeOf||{__proto__:[]}instanceof Array&&function(t,e){t.__proto__=e}||function(t,e){for(var n in e)e.hasOwnProperty(n)&&(t[n]=e[n])};function r(t,e){function n(){this.constructor=t}i(t,e),t.prototype=null===e?Object.create(e):(n.prototype=e.prototype,new n)}var o=Object.assign||function(t){for(var e,n=1,i=arguments.length;n<i;n++)for(var r in e=arguments[n],e)Object.prototype.hasOwnProperty.call(e,r)&&(t[r]=e[r]);return t};function a(t,e){var n={};for(var i in t)Object.prototype.hasOwnProperty.call(t,i)&&e.indexOf(i)<0&&(n[i]=t[i]);if(null!=t&&"function"===typeof Object.getOwnPropertySymbols){var r=0;for(i=Object.getOwnPropertySymbols(t);r<i.length;r++)e.indexOf(i[r])<0&&(n[i[r]]=t[i[r]])}return n}function s(t,e,n,i){var r,o=arguments.length,a=o<3?e:null===i?i=Object.getOwnPropertyDescriptor(e,n):i;if("object"===typeof Reflect&&"function"===typeof Reflect.decorate)a=Reflect.decorate(t,e,n,i);else for(var s=t.length-1;s>=0;s--)(r=t[s])&&(a=(o<3?r(a):o>3?r(e,n,a):r(e,n))||a);return o>3&&a&&Object.defineProperty(e,n,a),a}function u(t,e){return function(n,i){e(n,i,t)}}function c(t,e){if("object"===typeof Reflect&&"function"===typeof Reflect.metadata)return Reflect.metadata(t,e)}function l(t,e,n,i){return new(n||(n=Promise))(function(r,o){function a(t){try{u(i.next(t))}catch(e){o(e)}}function s(t){try{u(i["throw"](t))}catch(e){o(e)}}function u(t){t.done?r(t.value):new n(function(e){e(t.value)}).then(a,s)}u((i=i.apply(t,e||[])).next())})}function h(t,e){var n,i,r,o,a={label:0,sent:function(){if(1&r[0])throw r[1];return r[1]},trys:[],ops:[]};return o={next:s(0),throw:s(1),return:s(2)},"function"===typeof Symbol&&(o[Symbol.iterator]=function(){return this}),o;function s(t){return function(e){return u([t,e])}}function u(o){if(n)throw new TypeError("Generator is already executing.");while(a)try{if(n=1,i&&(r=i[2&o[0]?"return":o[0]?"throw":"next"])&&!(r=r.call(i,o[1])).done)return r;switch(i=0,r&&(o=[0,r.value]),o[0]){case 0:case 1:r=o;break;case 4:return a.label++,{value:o[1],done:!1};case 5:a.label++,i=o[1],o=[0];continue;case 7:o=a.ops.pop(),a.trys.pop();continue;default:if(r=a.trys,!(r=r.length>0&&r[r.length-1])&&(6===o[0]||2===o[0])){a=0;continue}if(3===o[0]&&(!r||o[1]>r[0]&&o[1]<r[3])){a.label=o[1];break}if(6===o[0]&&a.label<r[1]){a.label=r[1],r=o;break}if(r&&a.label<r[2]){a.label=r[2],a.ops.push(o);break}r[2]&&a.ops.pop(),a.trys.pop();continue}o=e.call(t,a)}catch(s){o=[6,s],i=0}finally{n=r=0}if(5&o[0])throw o[1];return{value:o[0]?o[1]:void 0,done:!0}}}function f(t,e){for(var n in t)e.hasOwnProperty(n)||(e[n]=t[n])}function d(t){var e="function"===typeof Symbol&&t[Symbol.iterator],n=0;return e?e.call(t):{next:function(){return t&&n>=t.length&&(t=void 0),{value:t&&t[n++],done:!t}}}}function p(t,e){var n="function"===typeof Symbol&&t[Symbol.iterator];if(!n)return t;var i,r,o=n.call(t),a=[];try{while((void 0===e||e-- >0)&&!(i=o.next()).done)a.push(i.value)}catch(s){r={error:s}}finally{try{i&&!i.done&&(n=o["return"])&&n.call(o)}finally{if(r)throw r.error}}return a}function v(){for(var t=[],e=0;e<arguments.length;e++)t=t.concat(p(arguments[e]));return t}function m(t){return this instanceof m?(this.v=t,this):new m(t)}function g(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var i,r=n.apply(t,e||[]),o=[];return i={},a("next"),a("throw"),a("return"),i[Symbol.asyncIterator]=function(){return this},i;function a(t){r[t]&&(i[t]=function(e){return new Promise(function(n,i){o.push([t,e,n,i])>1||s(t,e)})})}function s(t,e){try{u(r[t](e))}catch(n){h(o[0][3],n)}}function u(t){t.value instanceof m?Promise.resolve(t.value.v).then(c,l):h(o[0][2],t)}function c(t){s("next",t)}function l(t){s("throw",t)}function h(t,e){t(e),o.shift(),o.length&&s(o[0][0],o[0][1])}}function _(t){var e,n;return e={},i("next"),i("throw",function(t){throw t}),i("return"),e[Symbol.iterator]=function(){return this},e;function i(i,r){t[i]&&(e[i]=function(e){return(n=!n)?{value:m(t[i](e)),done:"return"===i}:r?r(e):e})}}function y(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator];return e?e.call(t):"function"===typeof d?d(t):t[Symbol.iterator]()}function b(t,e){return Object.defineProperty?Object.defineProperty(t,"raw",{value:e}):t.raw=e,t}function w(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var n in t)Object.hasOwnProperty.call(t,n)&&(e[n]=t[n]);return e.default=t,e}function k(t){return t&&t.__esModule?t:{default:t}}},fde4:function(t,e,n){n("bf90");var i=n("584a").Object;t.exports=function(t,e){return i.getOwnPropertyDescriptor(t,e)}},fdef:function(t,e){t.exports="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff"}}]);
//# sourceMappingURL=chunk-vendors.18c5dfce.js.map